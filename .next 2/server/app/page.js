(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4386:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},8845:(a,b,c)=>{"use strict";c.d(b,{r:()=>e});var d=c(38301);function e(){let[a,b]=(0,d.useState)([]),c=(0,d.useCallback)(a=>{},[]),e=(0,d.useCallback)(b=>a.includes(b),[a]),f=(0,d.useCallback)((b,d)=>{a.includes(b)||(c([...a,b]),console.log(`ðŸ’œ Cours ajout\xe9 aux favoris: ${d||b} (ID: ${b})`))},[a,c]),g=(0,d.useCallback)((b,d)=>{c(a.filter(a=>a!==b)),console.log(`ðŸ¤ Cours retir\xe9 des favoris: ${d||b}`)},[a,c]),h=(0,d.useCallback)((a,b)=>{e(a)?g(a,b):f(a,b)},[e,f,g]);return{favorites:a,isFavorite:e,toggleFavorite:h,addFavorite:f,removeFavorite:g}}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16945:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23605:(a,b,c)=>{Promise.resolve().then(c.bind(c,60967))},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30733:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},33873:a=>{"use strict";a.exports=require("path")},36734:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},37173:(a,b,c)=>{Promise.resolve().then(c.bind(c,78844))},37533:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},41760:(a,b,c)=>{"use strict";c.d(b,{a:()=>k});var d=c(21124);c(38301);var e=c(75219),f=c(15303),g=c(47089),h=c(18310),i=c(68324),j=c(78402);function k({className:a="",showLabel:b=!0}){let c=j.Z.getState();j.Z.getStatusLabel();let k=j.Z.getStatusColor();if("not_required"===c.status)return null;let l=(()=>{switch(c.status){case"verified":return{title:"Identit\xe9 v\xe9rifi\xe9e",subtitle:"Compte s\xe9curis\xe9 âœ“"};case"pending":return{title:"V\xe9rification en cours",subtitle:"Document en cours d'analyse"};case"rejected":return{title:"Document \xe0 renouveler",subtitle:"Merci de soumettre un nouveau document"};case"required":return{title:"V\xe9rification requise",subtitle:"S\xe9curisez votre compte en 2 minutes"};default:return{title:"V\xe9rification d'identit\xe9",subtitle:"Statut non d\xe9fini"}}})();return(0,d.jsxs)("div",{className:`inline-flex items-center gap-3 px-4 py-3 rounded-xl border ${(()=>{switch(c.status){case"verified":return"bg-green-50 border-green-200";case"pending":return"bg-blue-50 border-blue-200";case"rejected":return"bg-red-50 border-red-200";case"required":return"bg-orange-50 border-orange-200";default:return"bg-gray-50 border-gray-200"}})()} ${a}`,children:[(()=>{switch(c.status){case"verified":return(0,d.jsx)(e.A,{size:16,className:"text-green-600"});case"pending":return(0,d.jsx)(f.A,{size:16,className:"text-blue-600"});case"rejected":return(0,d.jsx)(g.A,{size:16,className:"text-red-600"});case"required":return(0,d.jsx)(h.A,{size:16,className:"text-orange-600"});default:return(0,d.jsx)(i.A,{size:16,className:"text-gray-400"})}})(),b&&(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:l.title}),(0,d.jsx)("span",{className:`text-xs ${k} font-medium`,children:l.subtitle})]})]})}},46262:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},54013:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,60967)),"/Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,51472)),"/Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/src/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},60967:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/src/app/page.tsx","default")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68324:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},69957:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},78402:(a,b,c)=>{"use strict";c.d(b,{Z:()=>d});class d{static{this.STORAGE_KEY="identity_verification_state"}static{this.LESSONS_THRESHOLD=2}static getState(){return{status:"not_required",lessonsCompleted:0}}static saveState(a){}static incrementLessonsCompleted(){let a=this.getState();a.lessonsCompleted+=1;let b=a.lessonsCompleted>=this.LESSONS_THRESHOLD&&"not_required"===a.status;return b&&(a.status="required"),this.saveState(a),b}static uploadDocument(a){let b=this.getState();b.status="pending",b.uploadedAt=new Date,this.saveState(b)}static verifyDocument(){let a=this.getState();a.status="verified",a.verifiedAt=new Date,this.saveState(a)}static rejectDocument(a){let b=this.getState();b.status="rejected",b.rejectedAt=new Date,b.rejectionReason=a,this.saveState(b)}static shouldShowVerification(){return"required"===this.getState().status}static getStatusLabel(){switch(this.getState().status){case"not_required":return"Non requise";case"required":return"Requise";case"pending":return"En attente";case"verified":return"V\xe9rifi\xe9e";case"rejected":return"Rejet\xe9e";default:return"Inconnue"}}static getStatusColor(){switch(this.getState().status){case"not_required":default:return"text-gray-500";case"required":return"text-orange-600";case"pending":return"text-blue-600";case"verified":return"text-green-600";case"rejected":return"text-red-600"}}static reset(){}static triggerVerification(){let a=this.getState();a.status="required",this.saveState(a)}}},78844:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>fe});var d=c(21124),e=c(38301),f=c.n(e),g=c(97902),h=c(53928),i=c(47331),j=c(24515),k=c(71613),l=c(46422),m=c(74097),n=c(93951),o=c(72567),p=c(87278),q=c(65893),r=c(81808),s=c(6130),t=c(15303),u=c(82787),v=c(47089),w=c(94684),x=c(46262),y=c(68324),z=c(3663),A=c(8849),B=c(59405),C=c(8294),D=c(74331),E=c(22842),F=c(10366),G=c(99615),H=c(60073),I=c(67748),J=c(75234),K=c(3368),L=c(58610),M=c(75219),N=c(30887),O=c(75535),P=c(30733);function Q({course:a,isOpen:b,onClose:c,onEnroll:f,onNavigateToUnlock:g,onShowUpsell:j,onNavigateToCourse:k}){var n,o,p,q;let[s,w]=(0,e.useState)(600),[x,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),G=a?((a,b)=>{let c=b.split("").reduce((a,b)=>(a<<5)-a+b.charCodeAt(0)|0,0),d=["radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.4) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(147, 51, 234, 0.4) 0%, transparent 50%)","linear-gradient(135deg, rgba(34, 197, 94, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%), radial-gradient(circle at 60% 40%, rgba(251, 191, 36, 0.3) 0%, transparent 70%)","conic-gradient(from 180deg at 50% 50%, rgba(236, 72, 153, 0.3) 0deg, rgba(59, 130, 246, 0.3) 120deg, rgba(34, 197, 94, 0.3) 240deg, rgba(236, 72, 153, 0.3) 360deg)","radial-gradient(ellipse at 30% 20%, rgba(168, 85, 247, 0.4) 0%, transparent 60%), linear-gradient(45deg, rgba(34, 197, 94, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%)","linear-gradient(45deg, rgba(239, 68, 68, 0.3) 0%, rgba(251, 191, 36, 0.3) 50%, rgba(34, 197, 94, 0.3) 100%)"];return d[Math.abs(c)%d.length]})(a.id,a.title):"",Q=a?(n=a.title,o=a.faculty,n.toLowerCase().includes("math")?H.A:n.toLowerCase().includes("physique")?l.A:n.toLowerCase().includes("\xe9conomie")||o.includes("Solvay")?I.A:n.toLowerCase().includes("informatique")?r.A:m.A):m.A,R=a?(p=a.title,q=a.faculty,p.toLowerCase().includes("math")?{primary:"from-blue-500 to-indigo-600",accent:"bg-blue-500/20 border-blue-400/30 text-blue-300",glow:"shadow-blue-500/20"}:p.toLowerCase().includes("physique")?{primary:"from-purple-500 to-violet-600",accent:"bg-purple-500/20 border-purple-400/30 text-purple-300",glow:"shadow-purple-500/20"}:p.toLowerCase().includes("\xe9conomie")||q.includes("Solvay")?{primary:"from-emerald-500 to-teal-600",accent:"bg-emerald-500/20 border-emerald-400/30 text-emerald-300",glow:"shadow-emerald-500/20"}:p.toLowerCase().includes("informatique")?{primary:"from-orange-500 to-amber-600",accent:"bg-orange-500/20 border-orange-400/30 text-orange-300",glow:"shadow-orange-500/20"}:{primary:"from-gray-500 to-slate-600",accent:"bg-gray-500/20 border-gray-400/30 text-gray-300",glow:"shadow-gray-500/20"}):{primary:"from-gray-500 to-slate-600",accent:"bg-gray-500/20 border-gray-400/30 text-gray-300",glow:"shadow-gray-500/20"},S=a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`},T=()=>{a&&j&&j(a.id)},U=()=>{g?g():c()};return a?(0,d.jsx)(i.N,{children:b&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:U,children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-[98vw] max-w-none max-h-[95vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"relative overflow-hidden bg-white/95 backdrop-blur-sm border-b border-gray-200/50",children:[(0,d.jsx)("div",{className:"absolute inset-0 opacity-50",style:{background:`linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%), ${G}`}}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-gray-50/20"}),(0,d.jsx)(h.P.div,{className:"absolute top-4 left-16 w-1.5 h-1.5 bg-amber-400/40 rounded-full",animate:{y:[0,-6,0],opacity:[.4,.7,.4]},transition:{duration:3,repeat:1/0,delay:0}}),(0,d.jsx)(h.P.div,{className:"absolute top-6 right-24 w-1 h-1 bg-emerald-400/30 rounded-full",animate:{y:[0,-4,0],opacity:[.3,.6,.3]},transition:{duration:2.5,repeat:1/0,delay:1}}),A&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute top-4 left-6 flex items-center gap-2 bg-amber-500/90 backdrop-blur-sm text-amber-900 px-4 py-2 rounded-full shadow-lg border border-amber-400/50",children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsx)("span",{className:"text-sm font-bold",children:s>0?S(s):"â° Temps \xe9coul\xe9"})]}),(0,d.jsx)(h.P.button,{onClick:a=>{a.stopPropagation(),U()},whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},className:"absolute top-4 right-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-xl flex items-center justify-center hover:shadow-lg transition-all duration-300 border border-gray-200/50 group",title:"Retour au catalogue",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-700 group-hover:text-gray-900 transition-colors"})}),(0,d.jsx)("div",{className:"relative p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6 flex-1",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},className:`relative w-20 h-20 rounded-2xl bg-gradient-to-br ${R.primary} shadow-lg ${R.glow} flex items-center justify-center`,children:[(0,d.jsx)(Q,{size:32,className:"text-white drop-shadow-lg"}),(0,d.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center shadow-lg",children:(0,d.jsx)(u.A,{size:16,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg",children:[(0,d.jsx)(J.A,{size:16}),"Aper\xe7u Gratuit"]}),a.previewDuration&&(0,d.jsxs)("span",{className:"text-gray-600 text-sm font-medium",children:["â€¢ ",a.previewDuration]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-gray-900 leading-tight",children:a.title}),(0,d.jsx)(h.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-50/80 backdrop-blur-sm px-4 py-3 rounded-xl border border-gray-200/50",children:(0,d.jsx)("p",{className:"text-gray-700 font-medium text-sm flex items-center gap-2",children:"\uD83C\uDF93 D\xe9couvrez ce cours en toute tranquillit\xe9 â€¢ Aucun engagement"})})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,d.jsx)("span",{className:"font-medium",children:a.faculty}),(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium",children:[(0,d.jsx)(y.A,{size:12}),(0,d.jsx)("span",{children:"Aper\xe7u s\xe9curis\xe9"})]})]})]})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"flex items-center gap-4",children:[(0,d.jsxs)(h.P.div,{whileHover:{scale:1.05},className:"text-center px-4 py-3 bg-amber-50/80 rounded-xl border border-amber-200/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-amber-700 font-bold",children:[(0,d.jsx)(K.A,{size:16}),(0,d.jsx)("span",{children:"10 min"})]}),(0,d.jsx)("div",{className:"text-xs text-amber-600 font-medium",children:"Gratuit"})]}),(0,d.jsxs)(h.P.div,{whileHover:{scale:1.05},className:"text-center px-4 py-3 bg-emerald-50/80 rounded-xl border border-emerald-200/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-emerald-700 font-bold",children:[(0,d.jsx)(L.A,{size:16}),(0,d.jsx)("span",{children:"HD"})]}),(0,d.jsx)("div",{className:"text-xs text-emerald-600 font-medium",children:"Premium"})]})]})]})})]}),(0,d.jsxs)("div",{className:"flex h-[calc(95vh-140px)]",children:[(0,d.jsxs)("div",{className:"flex-1 flex flex-col",children:[A?s>0?(0,d.jsxs)("div",{className:"flex-1 bg-black relative",children:[(0,d.jsx)("video",{className:"w-full h-full object-contain",controls:!0,autoPlay:!0,src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",children:"Votre navigateur ne supporte pas la lecture vid\xe9o."}),(0,d.jsxs)("div",{className:"absolute bottom-4 right-4 bg-black/70 backdrop-blur-sm text-white px-3 py-2 rounded-lg text-sm",children:["Aper\xe7u : ",S(s)]}),(0,d.jsx)(i.N,{children:C&&!E&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",duration:.6},className:"absolute bottom-4 left-4 right-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 rounded-xl shadow-2xl border border-white/20",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-lg mb-1",children:"\uD83D\uDD13 D\xe9bloque maintenant l'acc\xe8s complet \xe0 ce cours"}),(0,d.jsx)("p",{className:"text-white/90 text-sm",children:"Continue ton apprentissage sans interruption"})]}),(0,d.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,d.jsx)("button",{onClick:()=>D(!1),className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-lg flex items-center justify-center transition-colors",children:(0,d.jsx)(v.A,{size:16})}),(0,d.jsxs)("button",{onClick:T,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center gap-2",children:["D\xe9bloquer maintenant",(0,d.jsx)(O.A,{size:16})]})]})]})})}),(0,d.jsx)(i.N,{children:E&&(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-8 text-center max-w-md",children:[(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(M.A,{size:32,className:"text-white"})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cours d\xe9bloqu\xe9 !"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Redirection vers le cours complet..."}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)(h.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1},className:"bg-green-500 h-2 rounded-full"})})]})})})]}):(0,d.jsx)("div",{className:"flex-1 bg-gray-900 flex items-center justify-center text-white",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(t.A,{size:48,className:"mx-auto mb-4 text-gray-400"}),(0,d.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Aper\xe7u termin\xe9"}),(0,d.jsx)("p",{className:"text-gray-400 mb-6",children:"D\xe9bloque maintenant l'acc\xe8s complet pour continuer ton apprentissage"}),(0,d.jsx)("button",{onClick:T,className:"bg-white text-black px-6 py-3 rounded-xl font-medium hover:bg-gray-100 transition-colors",children:"\uD83D\uDD13 D\xe9bloquer le cours complet"})]})}):(0,d.jsx)("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center max-w-lg px-8",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-black rounded-full flex items-center justify-center mx-auto mb-6",children:(0,d.jsx)(K.A,{size:32,className:"text-white"})}),(0,d.jsx)("h3",{className:"text-2xl font-light text-black mb-6",children:"D\xe9couvrez ce cours gratuitement"}),(0,d.jsx)("div",{className:"space-y-2 mb-6",children:["Acc\xe8s complet au cours pendant 10 minutes","Vid\xe9os HD sans restriction","Documents et ressources disponibles","Aper\xe7u des exercices pratiques"].map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,d.jsx)(M.A,{size:16,className:"text-green-500 flex-shrink-0"}),(0,d.jsx)("span",{children:a})]},b))}),(0,d.jsxs)("button",{onClick:()=>{B(!0),z(!0)},className:"w-full bg-black text-white py-4 rounded-2xl font-medium hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)(N.A,{size:18}),"Commencer l'aper\xe7u gratuit"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Aucune carte de cr\xe9dit requise"})]})}),(0,d.jsx)("div",{className:"p-6 bg-white border-t border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Progression actuelle"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-black h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),(0,d.jsxs)("span",{className:"text-sm font-medium text-black",children:[a.progress,"%"]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"Dur\xe9e totale"}),(0,d.jsx)("p",{className:"font-medium text-black",children:a.duration})]})]})})]}),(0,d.jsx)("div",{className:"w-96 bg-gray-50 p-8 overflow-y-auto",children:(0,d.jsxs)("div",{className:"sticky top-0",children:[(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(L.A,{size:20,className:"text-amber-500"}),(0,d.jsx)("h3",{className:"font-semibold text-black",children:"Acc\xe8s Complet"})]}),(0,d.jsx)("div",{className:"space-y-3 mb-6",children:["Acc\xe8s illimit\xe9 \xe0 vie","Support communautaire 24/7","Certificat de completion","Mises \xe0 jour gratuites","Acc\xe8s mobile et hors-ligne"].map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)(M.A,{size:14,className:"text-green-500 flex-shrink-0"}),(0,d.jsx)("span",{className:"text-gray-700",children:a})]},b))}),(0,d.jsx)("div",{className:"text-center mb-4",children:a.creditCost?(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,d.jsx)("span",{className:"text-2xl font-bold text-black",children:"700â‚¬"})}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Acc\xe9dez \xe0 toutes les le\xe7ons, quiz et exercices pratiques sans limite."})]}):(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"Gratuit"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Acc\xe9dez \xe0 toutes les le\xe7ons, quiz et exercices pratiques sans limite."})]})}),(0,d.jsx)("button",{onClick:T,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:"\uD83D\uDD13 D\xe9bloquer le cours complet"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"flex items-center justify-center gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(P.A,{size:16,className:"text-amber-400 fill-current"},b))}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Not\xe9 4.9/5 par ",a.enrolledStudents||124," \xe9tudiants"]})]})]})})]})]})})}):null}var R=c(58294),S=c(35048),T=c(66863),U=c(41760),V=c(43700),W=c(46148),X=c(18310);function Y({isOpen:a,onClose:b,onUploadComplete:c}){let[f,g]=(0,e.useState)("idle"),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(null),n=a=>{if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(a.type)||a.size>5242880)return void g("error");m(a),g("uploading"),setTimeout(()=>{g("success"),c(a)},1500)};return(0,d.jsx)(i.N,{children:a&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[99999] p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl max-w-md w-full shadow-2xl overflow-hidden",children:[(0,d.jsxs)("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 p-8 text-center",children:[(0,d.jsx)("button",{onClick:b,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/20 transition-colors",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-600"})}),(0,d.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,d.jsx)(y.A,{className:"text-white",size:28})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"S\xe9curisez votre compte"}),(0,d.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"Une \xe9tape simple pour prot\xe9ger votre parcours d'apprentissage et acc\xe9der \xe0 toutes nos fonctionnalit\xe9s premium."})]}),(0,d.jsxs)("div",{className:"p-8",children:["idle"===f&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-gray-700 mb-6 text-center",children:"Ajoutez votre pi\xe8ce d'identit\xe9 en toute s\xe9curit\xe9 â€“ le processus ne prend qu'une minute."}),(0,d.jsxs)("div",{className:`border-2 border-dashed rounded-2xl p-8 text-center transition-all ${j?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-300 hover:bg-gray-50"}`,onDrop:a=>{a.preventDefault(),k(!1);let b=Array.from(a.dataTransfer.files);b.length>0&&n(b[0])},onDragOver:a=>{a.preventDefault(),k(!0)},onDragLeave:()=>k(!1),children:[(0,d.jsx)(V.A,{className:"text-gray-400 mx-auto mb-4",size:32}),(0,d.jsx)("p",{className:"text-gray-600 mb-2 font-medium",children:"Glissez votre document ici ou cliquez pour s\xe9lectionner"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Formats accept\xe9s : PDF, JPG, PNG â€¢ Taille max : 5MB"}),(0,d.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:a=>{let b=Array.from(a.target.files||[]);b.length>0&&n(b[0])},className:"hidden",id:"identity-upload"}),(0,d.jsxs)("label",{htmlFor:"identity-upload",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all cursor-pointer shadow-lg hover:shadow-xl",children:[(0,d.jsx)(z.A,{size:18}),"S\xe9lectionner mon document"]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-4 text-sm text-gray-500",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(z.A,{size:16}),"PDF"]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(W.A,{size:16}),"JPG/PNG"]})]})]}),"uploading"===f&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"T\xe9l\xe9chargement en cours..."}),(0,d.jsx)("p",{className:"text-gray-600",children:"Votre document est en cours de t\xe9l\xe9chargement s\xe9curis\xe9"})]}),"success"===f&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(M.A,{className:"text-green-600",size:32})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Document re\xe7u avec succ\xe8s !"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Votre document est maintenant en cours de v\xe9rification. Vous recevrez une notification d\xe8s que le processus sera termin\xe9."}),(0,d.jsx)("button",{onClick:b,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"Parfait, merci !"})]}),"error"===f&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(X.A,{className:"text-red-600",size:32})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Format non support\xe9"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Veuillez s\xe9lectionner un fichier PDF, JPG ou PNG de moins de 5MB."}),(0,d.jsx)("button",{onClick:()=>g("idle"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg",children:"R\xe9essayer"})]})]})]})})})}var Z=c(8845),$=c(78402),_=c(23339);let aa=(0,_.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ab=({isOpen:a,onClose:b,credits:c,movements:e,suggestions:f})=>a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:b,children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83E\uDDE0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Mon Capital Cognitif"}),(0,d.jsx)("p",{className:"text-purple-100",children:"G\xe9rez votre investissement d'apprentissage"})]})]}),(0,d.jsx)("button",{onClick:b,className:"text-white hover:text-purple-200 text-2xl",children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"p-6 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-6 text-center",children:[(0,d.jsxs)("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Tu as ",c," cr\xe9dits disponibles"]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Chaque cr\xe9dit repr\xe9sente une opportunit\xe9 d'apprentissage"})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h4",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)(aa,{size:20}),"Historique r\xe9cent"]}),(0,d.jsx)("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:e.slice(0,5).map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:`text-2xl ${"gain"===a.type?"text-green-600":"text-orange-600"}`,children:"gain"===a.type?"+":"-"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"font-medium text-gray-800",children:["gain"===a.type?"+":"-",a.amount," cr\xe9dit",a.amount>1?"s":""]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.reason})]})]}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:a.timestamp.toLocaleDateString("fr-FR")})]},a.id))})]}),f.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)(I.A,{size:20}),"Suggestions d'investissement"]}),(0,d.jsx)("div",{className:"space-y-3",children:f.map((a,b)=>(0,d.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,d.jsx)("p",{className:"text-gray-700",children:a})},b))})]})]})]})})}):null;var ac=c(68011),ad=c(69596),ae=c(23673);let af=[{id:"starter",name:"Pack D\xe9couverte",credits:5,bonusCredits:1,price:15,description:"Parfait pour commencer ton aventure d'apprentissage",features:["5 cr\xe9dits + 1 bonus de bienvenue","Acc\xe8s \xe0 tous les cours de base","Support par chat 24/7","Valable 6 mois"],icon:(0,d.jsx)(J.A,{size:24}),color:"from-blue-500 to-[#00c2ff]"},{id:"student",name:"Pack \xc9tudiant",credits:12,bonusCredits:3,price:29,description:"L'essentiel pour une ann\xe9e scolaire r\xe9ussie",features:["12 cr\xe9dits + 3 bonus progression","Acc\xe8s prioritaire aux nouveaux cours","Session de coaching mensuelle","Certificats personnalis\xe9s","Valable 12 mois"],popular:!0,icon:(0,d.jsx)(H.A,{size:24}),color:"from-purple-500 to-pink-500",savings:"30% d'\xe9conomies"},{id:"excellence",name:"Pack Excellence",credits:25,bonusCredits:8,price:49,description:"Pour les ambitieux qui visent l'excellence",features:["25 cr\xe9dits + 8 bonus excellence","Acc\xe8s illimit\xe9 \xe0 tous les cours premium","Coaching personnalis\xe9 hebdomadaire","Groupe priv\xe9 d'excellence","Certificats NFT blockchain","Valable 12 mois"],recommended:!0,icon:(0,d.jsx)(L.A,{size:24}),color:"from-yellow-500 to-orange-500",savings:"45% d'\xe9conomies"}],ag=[{id:"back-to-school",name:"Bundle Rentr\xe9e Scolaire",description:"Tout ce dont tu as besoin pour une rentr\xe9e r\xe9ussie",originalPrice:89,bundlePrice:59,items:[{name:"Pack \xc9tudiant (15 cr\xe9dits)",description:"12 cr\xe9dits + 3 bonus",value:29},{name:"Guide M\xe9thodes d'\xc9tude",description:"PDF exclusif 50 pages",value:19},{name:"Planning Personnalis\xe9",description:"Cr\xe9\xe9 par nos experts",value:25},{name:"Session Coaching Priv\xe9e",description:"1h avec un expert",value:35}],highlight:"80% des \xe9tudiants choisissent ce bundle pour leur rentr\xe9e",savings:"34% d'\xe9conomies",icon:(0,d.jsx)(r.A,{size:24}),color:"from-green-500 to-emerald-500"},{id:"exam-prep",name:"Bundle Pr\xe9paration Examens",description:"Maximise tes chances de r\xe9ussite aux examens",originalPrice:129,bundlePrice:79,items:[{name:"Pack Excellence (33 cr\xe9dits)",description:"25 cr\xe9dits + 8 bonus",value:49},{name:"M\xe9thodes Anti-Stress",description:"Techniques de gestion du stress",value:29},{name:"Banque de Sujets",description:"500+ exercices corrig\xe9s",value:39},{name:"Coaching Intensif",description:"3 sessions avant examens",value:75}],highlight:"95% de r\xe9ussite chez nos \xe9tudiants qui prennent ce bundle",savings:"39% d'\xe9conomies",icon:(0,d.jsx)(ad.A,{size:24}),color:"from-red-500 to-pink-500"}],ah=({pack:a,onSelect:b,isSelected:c})=>(0,d.jsxs)(h.P.div,{whileHover:{y:-8},whileTap:{scale:.98},className:`relative bg-white rounded-2xl border-2 p-6 cursor-pointer transition-all duration-300 ${c?"border-gray-900 shadow-2xl shadow-gray-900/25":"border-gray-200 hover:border-gray-400 hover:shadow-xl"} ${a.popular?"ring-2 ring-gray-300":""}`,onClick:()=>b(a),children:[a.popular&&(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,d.jsxs)("div",{className:"bg-gray-700 text-white px-4 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[(0,d.jsx)(P.A,{size:12}),"Plus populaire"]})}),a.recommended&&(0,d.jsx)("div",{className:"absolute -top-3 right-4",children:(0,d.jsxs)("div",{className:"bg-gray-600 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[(0,d.jsx)(L.A,{size:12}),"Recommand\xe9"]})}),(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-100 border border-gray-200 rounded-2xl flex items-center justify-center mb-4 mx-auto",children:(0,d.jsx)("div",{className:"text-2xl",children:a.icon})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83E\uDDE0"}),(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:a.credits+a.bonusCredits}),(0,d.jsx)("span",{className:"text-gray-600",children:"cr\xe9dits"})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[a.credits," cr\xe9dits + ",a.bonusCredits," bonus"]}),a.savings&&(0,d.jsx)("div",{className:"text-green-600 text-sm font-medium mt-1",children:a.savings})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-4",children:[a.price,"â‚¬"]}),(0,d.jsx)("div",{className:"space-y-2 text-left mb-6",children:a.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,d.jsx)(M.A,{size:16,className:"text-green-500 flex-shrink-0"}),(0,d.jsx)("span",{children:a})]},b))})]})]}),ai=({bundle:a,onSelect:b,isSelected:c})=>(0,d.jsxs)(h.P.div,{whileHover:{y:-4},whileTap:{scale:.98},className:`bg-white rounded-2xl border-2 p-6 cursor-pointer transition-all duration-300 ${c?"border-green-500 shadow-2xl shadow-green-500/25":"border-gray-200 hover:border-green-300 hover:shadow-xl"}`,onClick:()=>b(a),children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,d.jsx)("div",{className:`w-12 h-12 bg-gradient-to-br ${a.color} rounded-xl flex items-center justify-center text-white`,children:a.icon}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:a.name}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:a.description})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[a.bundlePrice,"â‚¬"]}),(0,d.jsxs)("span",{className:"text-lg text-gray-500 line-through",children:[a.originalPrice,"â‚¬"]}),(0,d.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-sm font-medium",children:a.savings})]}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,d.jsx)("p",{className:"text-blue-800 text-sm font-medium",children:a.highlight})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:"Inclus dans ce bundle :"}),a.items.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,d.jsx)("div",{className:"text-gray-600 text-xs",children:a.description})]}),(0,d.jsxs)("span",{className:"text-gray-500 font-medium",children:[a.value,"â‚¬"]})]},b))]})]}),aj=({onClose:a,onPurchase:b})=>{let[c,f]=(0,e.useState)("packs"),[g,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),[n,o]=(0,e.useState)(null),p=(0,ac.S6)();return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-[90vw] w-full max-h-[98vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gray-900 p-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("span",{className:"text-4xl",children:"\uD83E\uDDE0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-3xl font-bold text-white !text-white",style:{color:"white !important"},children:"Investis dans ton Capital Cognitif"}),(0,d.jsx)("p",{className:"text-white !text-white mt-2",style:{color:"white !important"},children:"Des packs con\xe7us pour ton succ\xe8s"})]})]}),(0,d.jsx)("button",{onClick:a,className:"text-white hover:text-gray-300 text-3xl font-bold !text-white",style:{color:"white !important"},children:"\xd7"})]})}),(0,d.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,d.jsx)("button",{onClick:()=>f("packs"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${"packs"===c?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(H.A,{size:20}),"Packs de Cr\xe9dits"]})}),(0,d.jsx)("button",{onClick:()=>f("courses"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${"courses"===c?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(m.A,{size:20}),"Packs de Cours"]})}),(0,d.jsx)("button",{onClick:()=>f("bundles"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${"bundles"===c?"text-green-600 border-b-2 border-green-600 bg-green-50":"text-gray-600 hover:text-gray-900"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(u.A,{size:20}),"Bundles Sp\xe9ciaux"]})})]}),(0,d.jsx)("div",{className:"p-8 overflow-y-auto max-h-[80vh]",children:(0,d.jsxs)(i.N,{mode:"wait",children:["packs"===c&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choisis ton Pack de Cr\xe9dits"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Chaque cr\xe9dit repr\xe9sente une opportunit\xe9 d'apprentissage. Plus tu investis, plus tu \xe9conomises !"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:af.map(a=>(0,d.jsx)(ah,{pack:a,onSelect:j,isSelected:g?.id===a.id},a.id))}),g&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:(0,d.jsxs)("button",{onClick:()=>b("pack",g),className:"px-8 py-4 bg-gray-900 hover:bg-gray-800 text-white rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl",children:["Investir dans mon apprentissage - ",g.price,"â‚¬"]})})]},"packs"),"courses"===c&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Packs de Cours Th\xe9matiques"}),(0,d.jsx)("p",{className:"text-gray-600",children:"D\xe9bloquez des cours regroup\xe9s par th\xe8me avec des \xe9conomies de cr\xe9dits"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:p.map(a=>(0,d.jsxs)(h.P.div,{whileHover:{y:-4},className:`relative bg-white border-2 p-6 rounded-2xl cursor-pointer transition-all duration-300 ${n?.id===a.id?"border-gray-900 shadow-2xl scale-105":"border-gray-200 hover:border-gray-400 hover:shadow-xl"}`,onClick:()=>o(a),children:[a.badge&&(0,d.jsx)("div",{className:"absolute -top-3 -right-3 bg-gray-700 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:a.badge}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:a.icon}),(0,d.jsx)("h4",{className:"text-xl font-bold mb-2 text-gray-900",children:a.title}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:a.creditCost}),(0,d.jsx)(H.A,{className:"w-5 h-5 text-gray-600"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"cr\xe9dits"})]}),a.savings>0&&(0,d.jsx)("div",{className:"bg-gray-100 rounded-lg p-2 mb-4",children:(0,d.jsxs)("span",{className:"text-sm text-emerald-600 font-medium",children:["\xc9conomisez ",a.savings," cr\xe9dits !"]})}),(0,d.jsx)("div",{className:"space-y-1",children:a.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,d.jsx)(M.A,{className:"w-4 h-4 text-emerald-500"}),(0,d.jsx)("span",{children:a})]},b))})]})]},a.id))}),n&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:(0,d.jsxs)("button",{onClick:()=>b("pack",n),className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:["D\xe9bloquer ce pack - ",n.creditCost," \uD83E\uDDE0 cr\xe9dits"]})})]},"courses"),"bundles"===c&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bundles Exclusifs"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Des offres sp\xe9ciales qui combinent cr\xe9dits et ressources pour maximiser ton potentiel"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:ag.map(a=>(0,d.jsx)(ai,{bundle:a,onSelect:l,isSelected:k?.id===a.id},a.id))}),k&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:(0,d.jsxs)("button",{onClick:()=>b("bundle",k),className:"px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-bold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl",children:["Prendre ce bundle - ",k.bundlePrice,"â‚¬"]})})]},"bundles")]})}),(0,d.jsx)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-8 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:16,className:"text-green-500"}),(0,d.jsx)("span",{children:"Paiement 100% s\xe9curis\xe9"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(ae.A,{size:16,className:"text-red-500"}),(0,d.jsx)("span",{children:"Garantie satisfaction"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(t.A,{size:16,className:"text-blue-500"}),(0,d.jsx)("span",{children:"Support 24/7"})]})]})})]})})};var ak=c(88285);let al=(0,_.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),am=[{subject:"Math\xe9matiques",thumbnail:"/course-thumbnails/mathematics-gauss.png",scientist:"Carl Friedrich Gauss",description:"Le prince des math\xe9matiques"},{subject:"Physique",thumbnail:"/course-thumbnails/physics-einstein.png",scientist:"Albert Einstein",description:"Th\xe9orie de la relativit\xe9 et physique moderne"},{subject:"Statistiques",thumbnail:"/course-thumbnails/statistics-fisher.png",scientist:"Ronald Fisher",description:"P\xe8re de la statistique moderne"},{subject:"Chimie",thumbnail:"/course-thumbnails/chemistry-curie.png",scientist:"Marie Curie",description:"Pionni\xe8re de la radioactivit\xe9"},{subject:"Biologie",thumbnail:"/course-thumbnails/biology-franklin.png",scientist:"Rosalind Franklin",description:"D\xe9couverte de la structure de l'ADN"}],an={MathÃ©matiques:["math\xe9matiques","maths","math","alg\xe8bre","g\xe9om\xe9trie","calcul","analyse","arithm\xe9tique","trigonom\xe9trie","logarithme","exponentielle","d\xe9riv\xe9e","int\xe9grale","limite","suite","s\xe9rie","\xe9quation","fonction","gauss","loi de gauss","distribution","probabilit\xe9"],Physique:["physique","m\xe9canique","thermodynamique","\xe9lectricit\xe9","magn\xe9tisme","optique","acoustique","relativit\xe9","quantique","\xe9lectromagn\xe9tisme","\xe9lectrostatique","dynamique","cin\xe9matique","\xe9nergie","force","champ \xe9lectrique","potentiel","einstein","newton","maxwell"],Statistiques:["statistiques","stats","probabilit\xe9s","\xe9chantillonnage","r\xe9gression","corr\xe9lation","variance","\xe9cart-type","moyenne","m\xe9diane","mode","distribution","test","hypoth\xe8se","fisher","student","chi-deux","anova","bay\xe9sien","fr\xe9quentiste"],Chimie:["chimie","chimique","mol\xe9cule","atome","r\xe9action","\xe9quilibre","acide","base","ph","oxydation","r\xe9duction","catalyse","synth\xe8se","organique","inorganique","analytique","physico-chimique","curie","radioactivit\xe9","isotope","liaison","cristallographie"],Biologie:["biologie","biologique","cellule","adn","arn","g\xe9n\xe9tique","g\xe8ne","prot\xe9ine","enzyme","m\xe9tabolisme","photosynth\xe8se","respiration","mitose","m\xe9iose","\xe9volution","darwin","mendel","franklin","watson","crick","organisme","\xe9cosyst\xe8me","biodiversit\xe9","anatomie","physiologie","microbiologie","immunologie","neurobiologie","biochimie","biophysique","biotechnologie","g\xe9nomique","prot\xe9omique"]},ao=(0,_.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);function ap({title:a,description:b,faculty:c,studentsCount:e,duration:f,lessonCount:g,price:i,isOwned:j=!1,courseId:k,onPreview:l,onTest:n,onAccess:o,onClick:p,className:r="",thumbnailImage:s}){let{isFavorite:t,toggleFavorite:u}=(0,Z.r)(),v=function(a,b,c){if("course-gauss"===c||"loi-gauss"===c)return"/course-thumbnails/loi-de-gauss.png";let d=function(a,b){let c=`${a} ${b||""}`.toLowerCase();for(let[a,b]of Object.entries(an))for(let d of b)if(c.includes(d.toLowerCase()))return a;return null}(a,b);if(d){let a=am.find(a=>a.subject===d);return a?.thumbnail}}(a,c,k),w=s||v;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2,transition:{duration:.2}},onClick:p,className:`bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 ${p?"cursor-pointer":""} ${r}`,children:[(0,d.jsxs)("div",{className:`relative h-48 flex flex-col items-center justify-center ${w?"bg-cover bg-center bg-no-repeat":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`,style:w?{backgroundImage:`url(${w})`}:{},children:[w&&(0,d.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-[0.5px]"}),!w&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-sm mb-4 relative z-10",children:(0,d.jsx)(m.A,{className:"text-blue-600",size:20})}),(0,d.jsx)("div",{className:"text-sm font-medium text-center relative z-10 text-gray-600",children:"Solvay Brussels School"})]}),k&&(0,d.jsx)("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),u(k,a)},className:"absolute bottom-3 right-3 p-2 rounded-full bg-white/90 hover:bg-white transition-colors shadow-md hover:shadow-lg z-10 cursor-pointer",style:{zIndex:10},title:t(k)?"Retirer des favoris":"Ajouter aux favoris",children:(0,d.jsx)(ae.A,{size:16,className:t(k)?"text-purple-600 fill-current":"text-gray-400 hover:text-purple-400"})})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:a}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed",children:b}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e&&(0,d.jsxs)("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-medium",children:[(0,d.jsx)(q.A,{size:12}),(0,d.jsxs)("span",{children:[e.toLocaleString()," \xe9tudiants"]})]}),g&&(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,d.jsx)(m.A,{size:14}),(0,d.jsxs)("span",{children:[g," le\xe7ons"]})]})]}),(0,d.jsx)("div",{className:"flex gap-3",children:j?(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),o?.()},className:"flex-1 bg-green-50 text-green-700 py-3 px-4 rounded-xl font-medium hover:bg-green-100 transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)(N.A,{size:16}),"Acc\xe9der"]}):(0,d.jsxs)(d.Fragment,{children:[l&&(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),l()},className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:[(0,d.jsx)(K.A,{size:16}),"Aper\xe7u"]}),n&&(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),n()},className:"flex-1 bg-gradient-to-r from-gray-800 to-black text-white py-3 px-4 rounded-xl font-medium hover:from-gray-900 hover:to-gray-800 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,d.jsx)(ao,{size:16}),"Se tester"]})]})})]})]})}function aq({course:a,isOwned:b=!1,packBadge:c,onPurchase:e,onPreview:f,onToggleFavorite:g,onClick:h,className:i=""}){let j=()=>{f&&f(a.id)};return(0,d.jsx)(ap,{title:a.title,description:a.description,faculty:a.faculty,studentsCount:a.studentsCount||87,duration:a.duration,lessonCount:a.totalLessons,isOwned:b,courseId:a.id,onPreview:j,onTest:()=>console.log("Quiz pour cours:",a.id),onAccess:j,onClick:()=>h?.(a.id),className:i})}function ar({pack:a,courses:b,isOwned:c=!1,onPurchase:e,onPreview:f,onCoursePreview:g,className:i=""}){a.id;let j=b.reduce((a,b)=>a+parseInt(b.duration?.replace(/[^\d]/g,"")||"0"),0),k=b.reduce((a,b)=>a+(b.totalLessons||0),0);return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-6,transition:{duration:.2}},className:`relative bg-white rounded-3xl shadow-xl overflow-hidden border-2 border-gray-100 ${i}`,children:[a.badge&&(0,d.jsx)("div",{className:"absolute top-6 right-6 z-10",children:(0,d.jsxs)("div",{className:`${(a=>{switch(a.toLowerCase()){case"populaire":return"bg-blue-500";case"nouveau":return"bg-green-500";case"pack premium":return"bg-purple-500";default:return"bg-gray-500"}})(a.badge)} text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 shadow-lg`,children:[(0,d.jsx)(P.A,{size:14}),a.badge]})}),c&&(0,d.jsx)("div",{className:"absolute top-6 left-6 z-10",children:(0,d.jsx)("div",{className:"bg-green-500 text-white p-3 rounded-full shadow-lg",children:(0,d.jsx)(M.A,{size:20})})}),(0,d.jsx)("div",{className:"relative h-40 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center border-b border-gray-200",children:(0,d.jsxs)("div",{className:"relative z-10 text-center",children:[(0,d.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 bg-white border border-gray-200 rounded-2xl flex items-center justify-center shadow-sm",children:(0,d.jsx)("div",{className:"text-3xl",children:a.icon})}),(0,d.jsx)("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:a.title})]})}),(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-6 mb-6 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{size:16}),(0,d.jsxs)("span",{children:[b.length," cours"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{size:16}),(0,d.jsxs)("span",{children:[k," le\xe7ons"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsxs)("span",{children:[j,"h+"]})]})]}),(0,d.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-6 mb-6",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:"1200â‚¬"}),(0,d.jsx)("span",{className:"text-gray-600",children:"pack complet"})]})})}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"text-purple-600",size:18}),"Cours inclus dans ce pack"]}),(0,d.jsxs)("div",{className:"grid gap-3",children:[b.slice(0,3).map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,d.jsx)(m.A,{className:"text-purple-600",size:14})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h5",{className:"font-medium text-gray-900 text-sm",children:a.title}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[a.totalLessons," le\xe7ons â€¢ ",a.duration]})]}),(0,d.jsx)("button",{onClick:()=>g?.(a.id),className:"text-xs text-purple-600 font-medium hover:text-purple-700 transition-colors cursor-pointer",children:"Aper\xe7u"})]},a.id)),b.length>3&&(0,d.jsx)("div",{className:"text-center py-2",children:(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:["+ ",b.length-3," autres cours"]})})]})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(J.A,{className:"text-yellow-500",size:18}),"Avantages inclus"]}),(0,d.jsx)("div",{className:"grid gap-2",children:a.features.slice(0,4).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(M.A,{className:"text-green-600",size:12})}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:a})]},b))})]}),(0,d.jsx)("div",{className:"space-y-4",children:c?(0,d.jsxs)("button",{onClick:()=>{f&&f(a.id)},className:"w-full bg-green-50 text-green-700 py-4 px-6 rounded-2xl font-bold hover:bg-green-100 transition-colors flex items-center justify-center gap-3",children:[(0,d.jsx)(M.A,{size:20}),"Pack Poss\xe9d\xe9 - Acc\xe9der"]}):(0,d.jsxs)("button",{onClick:()=>{c||e(a.id)},className:"w-full bg-gray-900 hover:bg-black text-white py-4 px-6 rounded-2xl font-bold transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl",children:[(0,d.jsx)(L.A,{size:20}),"D\xe9bloquer le Pack - 1200â‚¬"]})}),!c&&(0,d.jsx)("div",{className:"mt-6 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"text-green-600",size:16}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-green-800",children:"Bonus de recharge inclus"}),(0,d.jsx)("p",{className:"text-xs text-green-700",children:"+20% offert lors du rechargement de votre portefeuille"})]})]})}),!c&&(0,d.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-2xl",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(r.A,{className:"text-purple-600",size:16})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-purple-900 mb-1",children:"Pourquoi choisir ce pack ?"}),(0,d.jsx)("p",{className:"text-sm text-purple-800 mb-2",children:"Acc\xe8s complet \xe0 tous les cours, support prioritaire et outils avanc\xe9s."}),(0,d.jsx)("p",{className:"text-xs text-purple-700",children:"Avec ce pack, tu d\xe9bloques plus de contenu et un accompagnement plus complet."})]})]})})]})]})}function as({isOpen:a,onClose:b,item:c,itemType:f,userBalance:g,onConfirmPurchase:j,includedCourses:k=[]}){let[l,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(!1);if(!c)return null;let q="course"===f?c.price||700:c.price||c.creditCost,r=g>=q,s=g-q,t=async()=>{r&&!l&&(n(!0),await new Promise(a=>setTimeout(a,1500)),j(c.id,f),p(!0),setTimeout(()=>{n(!1),p(!1),b()},2e3))},w=()=>{l||b()};return(0,d.jsx)(i.N,{children:a&&(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:w}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)("div",{className:"sticky top-0 bg-white rounded-t-3xl border-b border-gray-100 p-6 z-10",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:o?"Achat r\xe9ussi !":"Confirmer l'achat"}),!l&&(0,d.jsx)("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-500"})})]})}),(0,d.jsx)("div",{className:"p-6",children:o?(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-8",children:[(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,d.jsx)(M.A,{className:"text-green-600",size:40})}),(0,d.jsx)(h.P.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl font-bold text-gray-900 mb-2",children:"pack"===f?"Pack d\xe9bloqu\xe9 !":"Cours d\xe9bloqu\xe9 !"}),(0,d.jsx)(h.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-gray-600 mb-6",children:"pack"===f?`Tous les cours du pack ont \xe9t\xe9 ajout\xe9s \xe0 tes favoris !`:`Le cours a \xe9t\xe9 ajout\xe9 \xe0 tes favoris !`}),"pack"===f&&k.length>0&&(0,d.jsx)("div",{className:"space-y-2",children:k.slice(0,3).map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+.1*b},className:"flex items-center gap-3 p-3 bg-green-50 rounded-xl",children:[(0,d.jsx)(M.A,{className:"text-green-600",size:16}),(0,d.jsx)("span",{className:"text-sm font-medium text-green-800",children:a.title})]},a.id))})]}):l?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(h.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-6",children:(0,d.jsx)(H.A,{className:"text-purple-600",size:64})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Traitement en cours..."}),(0,d.jsx)("p",{className:"text-gray-600",children:"D\xe9verrouillage de ton contenu"}),(0,d.jsx)("div",{className:"mt-6 w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)(h.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5,ease:"easeInOut"},className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2 rounded-full"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-gray-50 rounded-2xl p-6 mb-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${"pack"===f?`bg-gradient-to-br ${c.color}`:"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:"pack"===f?(0,d.jsx)("div",{className:"text-2xl",children:c.icon}):(0,d.jsx)(m.A,{className:"text-white",size:24})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:c.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),"pack"===f&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(al,{size:14,className:"text-purple-600"}),(0,d.jsxs)("span",{className:"text-sm text-purple-600 font-medium",children:[k.length," cours inclus"]})]})]})]})}),"pack"===f&&k.length>0&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"text-purple-600",size:18}),"Cours inclus dans ce pack :"]}),(0,d.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:k.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-purple-50 rounded-lg",children:[(0,d.jsx)(m.A,{className:"text-purple-600",size:14}),(0,d.jsx)("span",{className:"text-sm text-gray-900",children:a.title})]},a.id))})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6 mb-6",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(H.A,{className:"text-purple-600",size:18}),"R\xe9sum\xe9 de l'achat"]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Solde actuel"}),(0,d.jsxs)("span",{className:"font-bold text-gray-900",children:[g.toFixed(2),"â‚¬"]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Co\xfbt"}),(0,d.jsxs)("span",{className:"font-bold text-red-600",children:["-",q.toFixed(2),"â‚¬"]})]}),(0,d.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-bold text-gray-900",children:"Solde restant"}),(0,d.jsxs)("span",{className:`font-bold text-xl ${r?"text-green-600":"text-red-600"}`,children:[s.toFixed(2),"â‚¬"]})]})})]})]}),!r&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 mb-6",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(X.A,{className:"text-red-600 mt-0.5",size:18}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-red-800 mb-1",children:"Solde insuffisant"}),(0,d.jsxs)("p",{className:"text-sm text-red-600",children:["Il te manque ",(q-g).toFixed(2),"â‚¬ pour cet achat."]})]})]})}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:w,className:"flex-1 py-3 px-4 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-xl transition-colors font-medium",children:"Annuler"}),(0,d.jsxs)("button",{onClick:t,disabled:!r,className:`flex-1 py-3 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${r?"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[(0,d.jsx)(H.A,{size:16}),(0,d.jsx)("span",{children:"Confirmer l'achat"}),(0,d.jsx)(O.A,{size:16})]})]}),r&&(0,d.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl",children:(0,d.jsx)("p",{className:"text-xs text-blue-700 text-center",children:"pack"===f?"\uD83D\uDE80 Acc\xe8s \xe9tendu : Plusieurs cours + accompagnement complet":"\uD83D\uDCA1 Acc\xe8s limit\xe9 : Ce cours uniquement"})})]})})]})]})})}var at=c(82042),au=c(85351);function av({facultyName:a,currentYear:b,onCourseClick:c}){let[f,g]=(0,e.useState)(!0),j=((a,b)=>{let c={Sciences:[{id:"advanced-calculus",title:"Calcul Avanc\xe9",description:"Int\xe9grales multiples, s\xe9ries de Fourier et \xe9quations diff\xe9rentielles",lessonCount:24,difficulty:"Avanc\xe9",estimatedHours:45,enrolledStudents:1247,category:"Math\xe9matiques",isHighPriority:!0},{id:"quantum-physics",title:"Physique Quantique",description:"M\xe9canique quantique et applications modernes",lessonCount:28,difficulty:"Avanc\xe9",estimatedHours:52,enrolledStudents:892,category:"Physique",isHighPriority:!0},{id:"organic-chemistry",title:"Chimie Organique",description:"R\xe9actions et m\xe9canismes en chimie organique",lessonCount:22,difficulty:"Interm\xe9diaire",estimatedHours:38,enrolledStudents:1156,category:"Chimie"},{id:"statistical-analysis",title:"Analyse Statistique",description:"Statistiques avanc\xe9es et analyse de donn\xe9es",lessonCount:20,difficulty:"Interm\xe9diaire",estimatedHours:35,enrolledStudents:834,category:"Statistiques"},{id:"molecular-biology",title:"Biologie Mol\xe9culaire",description:"ADN, ARN et m\xe9canismes cellulaires",lessonCount:26,difficulty:"Avanc\xe9",estimatedHours:42,enrolledStudents:798,category:"Biologie"},{id:"thermodynamics",title:"Thermodynamique",description:"Lois thermodynamiques et applications",lessonCount:18,difficulty:"Interm\xe9diaire",estimatedHours:32,enrolledStudents:923,category:"Physique"},{id:"linear-algebra-advanced",title:"Alg\xe8bre Lin\xe9aire Avanc\xe9e",description:"Espaces vectoriels et transformations lin\xe9aires",lessonCount:21,difficulty:"Avanc\xe9",estimatedHours:40,enrolledStudents:1089,category:"Math\xe9matiques"},{id:"research-methods",title:"M\xe9thodes de Recherche",description:"M\xe9thodologie scientifique et r\xe9daction",lessonCount:16,difficulty:"Interm\xe9diaire",estimatedHours:28,enrolledStudents:1203,category:"M\xe9thodologie"},{id:"computational-physics",title:"Physique Computationnelle",description:"Simulation num\xe9rique et mod\xe9lisation",lessonCount:25,difficulty:"Avanc\xe9",estimatedHours:48,enrolledStudents:672,category:"Physique"}],MÃ©decine:[{id:"advanced-anatomy",title:"Anatomie Avanc\xe9e",description:"Anatomie syst\xe9mique et clinique",lessonCount:32,difficulty:"Avanc\xe9",estimatedHours:60,enrolledStudents:487,category:"Anatomie",isHighPriority:!0},{id:"pathophysiology",title:"Physiopathologie",description:"M\xe9canismes des maladies",lessonCount:28,difficulty:"Avanc\xe9",estimatedHours:55,enrolledStudents:456,category:"Pathologie",isHighPriority:!0},{id:"pharmacology",title:"Pharmacologie",description:"M\xe9dicaments et interactions",lessonCount:24,difficulty:"Avanc\xe9",estimatedHours:45,enrolledStudents:423,category:"Pharmacologie"},{id:"clinical-diagnosis",title:"Diagnostic Clinique",description:"M\xe9thodes diagnostiques et examens",lessonCount:26,difficulty:"Avanc\xe9",estimatedHours:50,enrolledStudents:398,category:"Clinique"},{id:"medical-imaging",title:"Imagerie M\xe9dicale",description:"Radiologie et techniques d'imagerie",lessonCount:22,difficulty:"Interm\xe9diaire",estimatedHours:40,enrolledStudents:312,category:"Imagerie"},{id:"emergency-medicine",title:"M\xe9decine d'Urgence",description:"Prise en charge des urgences",lessonCount:20,difficulty:"Avanc\xe9",estimatedHours:38,enrolledStudents:345,category:"Urgences"},{id:"medical-ethics",title:"\xc9thique M\xe9dicale",description:"D\xe9ontologie et bio\xe9thique",lessonCount:14,difficulty:"Interm\xe9diaire",estimatedHours:25,enrolledStudents:367,category:"\xc9thique"},{id:"surgery-basics",title:"Bases de Chirurgie",description:"Techniques chirurgicales fondamentales",lessonCount:30,difficulty:"Avanc\xe9",estimatedHours:65,enrolledStudents:289,category:"Chirurgie"},{id:"pediatrics",title:"P\xe9diatrie",description:"M\xe9decine de l'enfant et de l'adolescent",lessonCount:25,difficulty:"Avanc\xe9",estimatedHours:48,enrolledStudents:334,category:"P\xe9diatrie"}]};return(c[a]||c.Sciences).sort((a,b)=>a.isHighPriority&&!b.isHighPriority?-1:!a.isHighPriority&&b.isHighPriority?1:b.enrolledStudents-a.enrolledStudents).slice(0,9)})(a,0);return(0,d.jsxs)("section",{className:"mb-8",children:[(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-6 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>g(!f),children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-100 to-blue-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(o.A,{size:24,className:"text-indigo-600"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Vos prochaines \xe9tapes acad\xe9miques"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"Un regard sur les cours que vous aborderez l'an prochain dans la continuit\xe9 de votre apprentissage."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-indigo-600 mb-1 font-medium",children:[(0,d.jsx)(O.A,{size:14}),(0,d.jsxs)("span",{children:["Ann\xe9e ",b+1]})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[j.length," cours essentiels"]})]}),(0,d.jsx)("div",{className:"text-gray-400",children:f?(0,d.jsx)(at.A,{size:20}):(0,d.jsx)(au.A,{size:20})})]})]})}),(0,d.jsx)(i.N,{children:f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:[(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:j.map((a,b)=>(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},children:(0,d.jsx)(ap,{title:a.title,description:a.description,faculty:a.category,studentsCount:a.enrolledStudents,duration:`${a.estimatedHours}h`,lessonCount:a.lessonCount,price:"M\xe9decine"===a.category?300:200,isOwned:!1,courseId:a.id,onPreview:()=>console.log("Aper\xe7u cours futur:",a.id),onTest:()=>console.log("Quiz cours futur:",a.id),onClick:()=>c(a.id)})},a.id))}),(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-6 border border-indigo-200",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[(0,d.jsx)(o.A,{className:"text-indigo-600",size:20}),(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:"Continuit\xe9 p\xe9dagogique"})]}),(0,d.jsxs)("p",{className:"text-gray-700 text-sm mb-4 max-w-2xl mx-auto",children:["Ces enseignements s'inscrivent dans la progression naturelle de votre cursus en ",(0,d.jsx)("strong",{children:a}),". Ils constituent les fondements de votre formation de niveau sup\xe9rieur."]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-600",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),"Mati\xe8res fondamentales"]}),(0,d.jsx)("span",{children:"\uD83D\uDCDA Programme officiel"}),(0,d.jsxs)("span",{children:["\uD83C\uDF93 Cursus ",a]})]})]})})]})})]})}function aw({selectedCourse:a,suggestedPack:b,isVisible:c,onClose:e,onSelectCourse:f,onSelectPack:g,canAffordCourse:j,canAffordPack:k}){return c?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-8 py-6 border-b border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-sm",children:(0,d.jsx)(J.A,{className:"text-purple-600",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Offre Sp\xe9ciale Intelligente"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Maximisez votre apprentissage"})]})]}),(0,d.jsx)("button",{onClick:e,className:"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-400"})})]})}),(0,d.jsxs)("div",{className:"p-8 max-h-[70vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Vous avez s\xe9lectionn\xe9 ",(0,d.jsx)("span",{className:"text-blue-600",children:a.title})]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Nous avons une proposition qui pourrait vous int\xe9resser"})]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gray-50 rounded-2xl p-6 border border-gray-200 relative",children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(m.A,{className:"text-gray-600",size:24})}),(0,d.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cours Seul"}),(0,d.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium z-10 shadow-sm",children:"Offre valable 14 jours"}),(0,d.jsx)("div",{className:"flex items-center justify-center gap-2 mb-4",children:(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"700â‚¬"})}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsxs)("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Pris s\xe9par\xe9ment, les le\xe7ons de ce cours valent ",(a.id,350),"â‚¬."]})})]}),(0,d.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{className:"text-green-500",size:16}),(0,d.jsxs)("span",{className:"text-gray-700 text-sm",children:["Acc\xe8s \xe0 ",a.title]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{className:"text-green-500",size:16}),(0,d.jsxs)("span",{className:"text-gray-700 text-sm",children:[a.totalLessons," le\xe7ons incluses"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{className:"text-green-500",size:16}),(0,d.jsx)("span",{className:"text-gray-700 text-sm",children:"Support standard"})]})]}),(0,d.jsx)("button",{onClick:f,disabled:!j,className:`w-full py-3 px-4 rounded-xl font-medium transition-all ${j?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:j?"D\xe9bloquer ce cours":"Solde insuffisant"})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 border-2 border-blue-200 relative",children:[(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center gap-2",children:[(0,d.jsx)(P.A,{size:14}),"Recommand\xe9"]})}),(0,d.jsxs)("div",{className:"text-center mb-6 mt-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(ad.A,{className:"text-white",size:24})}),(0,d.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:b.title}),(0,d.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"1200â‚¬"})}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:b.description}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsxs)("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Pris s\xe9par\xe9ment, les cours de ce pack valent ",(b.id,2100),"â‚¬."]})})]}),(0,d.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,d.jsxs)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(m.A,{size:14,className:"text-blue-600"}),"Cours inclus (",b.includedCourses.length,")"]}),b.includedCourses.map((b,c)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 py-1",children:[(0,d.jsx)(M.A,{className:"text-green-500",size:12}),(0,d.jsx)("span",{children:b.title}),b.id===a.id&&(0,d.jsx)("span",{className:"text-blue-600 font-medium",children:"(Votre s\xe9lection)"})]},b.id))]}),b.bonusCourses.length>0&&(0,d.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 border border-yellow-200",children:[(0,d.jsxs)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(J.A,{size:14,className:"text-yellow-600"}),"Bonus exclusifs (",b.bonusCourses.length,")"]}),b.bonusCourses.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 py-1",children:[(0,d.jsx)(P.A,{className:"text-yellow-500",size:12}),(0,d.jsx)("span",{children:a.title}),(0,d.jsx)("span",{className:"text-yellow-600 font-medium text-xs",children:"GRATUIT"})]},a.id))]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,d.jsxs)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(q.A,{size:14,className:"text-green-600"}),"Avantages Premium"]}),b.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 py-1",children:[(0,d.jsx)(M.A,{className:"text-green-500",size:12}),(0,d.jsx)("span",{children:a})]},b))]})]}),(0,d.jsx)("button",{onClick:g,disabled:!k,className:`w-full py-3 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${k?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:k?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"Choisir ce pack"}),(0,d.jsx)(O.A,{size:16})]}):"Solde insuffisant"})]})]}),(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 border border-green-200",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 mb-2 flex items-center justify-center gap-2",children:[(0,d.jsx)(J.A,{className:"text-green-600",size:20}),"Pourquoi choisir le pack ?"]}),(0,d.jsxs)("p",{className:"text-gray-700 text-sm leading-relaxed",children:["En choisissant le pack, vous ne payez que ",(0,d.jsxs)("strong",{children:[b.creditCost-(a.creditCost||0)," cr\xe9dits de plus"]})," ","mais vous d\xe9bloquez ",(0,d.jsxs)("strong",{children:[b.includedCourses.length+b.bonusCourses.length-1," cours suppl\xe9mentaires"]})," ","et b\xe9n\xe9ficiez d'un accompagnement premium. C'est plus de contenu, plus de valeur, pour un investissement ma\xeetris\xe9."]})]})})]})]})})}):null}function ax({lesson:a,isOwned:b,canAfford:c,onUnlock:e,onPreview:f}){return(0,d.jsx)(ap,{title:a.title,description:a.description,duration:`${a.duration} min`,price:70,isOwned:b,onPreview:()=>f?.(a.id),onTest:()=>console.log("Quiz pour le\xe7on:",a.id),onAccess:()=>f?.(a.id)})}let ay=a=>{let b=(0,ac.S6)(),c="1"===a.id||"4"===a.id||a.title.toLowerCase().includes("math")||a.title.toLowerCase().includes("int\xe9gral")||a.title.toLowerCase().includes("alg\xe8bre")?b.find(a=>"pack-mathematics"===a.id)||b[0]:"2"===a.id||a.title.toLowerCase().includes("physique")||a.title.toLowerCase().includes("gauss")||a.title.toLowerCase().includes("force")||a.title.toLowerCase().includes("m\xe9can")?b.find(a=>"pack-physics"===a.id)||b[0]:"3"===a.id||a.title.toLowerCase().includes("chimie")||a.title.toLowerCase().includes("\xe9quilibre")?b.find(a=>"pack-chemistry"===a.id)||b[0]:b.find(a=>"pack-physics"===a.id)||b[0],d=(a=>"pack-physics"===a.id?b.find(a=>"pack-mathematics"===a.id)||b[0]:"pack-mathematics"===a.id?b.find(a=>"pack-physics"===a.id)||b[0]:b.find(a=>"pack-physics"===a.id)||b[0])(c);return{recommendedPack:c,alternativePack:d}};var az=c(91292);function aA({questions:a,onComplete:b,onClose:c,courseTitle:f,existingScore:g,showDiagnosticImmediately:j}){let[k,l]=(0,e.useState)(0),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(Array(a.length).fill(null)),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),y=()=>{v(!1),t(!1),x(!0)},z=()=>g?g.score:q.reduce((b,c,d)=>b+ +(c===a[d].correctAnswer),0),A=(a,b)=>{let c=a/b*100,d=b-a;return c>=80?{message:"Excellent niveau ! \uD83C\uDFAF",color:"text-green-600",bg:"bg-green-50",diagnosis:"Vous ma\xeetrisez d\xe9j\xe0 bien les bases. Ce cours vous permettra d'approfondir et de structurer vos connaissances.",recommendation:"Id\xe9al pour viser l'excellence"}:c>=60?{message:"Bases solides \uD83D\uDCAA",color:"text-blue-600",bg:"bg-blue-50",diagnosis:`Vous avez de bonnes bases mais ${d} point${d>1?"s":""} \xe0 consolider. Ce cours comblera parfaitement vos lacunes.`,recommendation:"Progression assur\xe9e avec ce cours"}:c>=40?{message:"Potentiel \xe0 d\xe9velopper \uD83C\uDF31",color:"text-yellow-600",bg:"bg-yellow-50",diagnosis:`Quelques notions acquises mais ${d} concepts fondamentaux \xe0 ma\xeetriser. Ce cours vous donnera les cl\xe9s de la r\xe9ussite.`,recommendation:"Ce cours est fait pour vous accompagner"}:{message:"Nouveau d\xe9part \uD83D\uDE80",color:"text-purple-600",bg:"bg-purple-50",diagnosis:"Pas d'inqui\xe9tude ! Nous partons des fondamentaux. Ce test r\xe9v\xe8le simplement que ce cours vous sera particuli\xe8rement b\xe9n\xe9fique.",recommendation:"Investissement strat\xe9gique pour votre r\xe9ussite"}};if(!a||0===a.length)return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quiz non disponible"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Aucune question n'est disponible pour ce cours pour le moment."}),(0,d.jsx)("button",{onClick:c,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Fermer"})]})});let B=a[k];if(!B)return(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-md mx-4",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Erreur de quiz"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Une erreur s'est produite lors du chargement de la question."}),(0,d.jsx)("button",{onClick:c,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Fermer"})]})});let C=m===B.correctAnswer,D=z(),E=g?g.total:a.length,F=A(D,E),G=((a,b)=>{let c=a/b*100,d=b-a;return c>=80?{message:"\uD83D\uDCC8 Niveau confirm\xe9 - Pr\xeat pour l'excellence",color:"text-green-600",bg:"bg-green-50",verdict:"âœ… RECOMMAND\xc9",reasoning:"M\xeame avec votre excellent niveau, ce cours vous apportera la structure et les subtilit\xe9s n\xe9cessaires pour briller aux examens.",urgency:"Perfectionnement strat\xe9gique",examPreparation:"Ce cours vous donnera l'avantage d\xe9cisif pour les 20% de questions les plus complexes de l'examen final."}:c>=60?{message:"âš¡ Bases solides - Quelques zones d'ombre \xe0 \xe9claircir",color:"text-blue-600",bg:"bg-blue-50",verdict:"\uD83C\uDFAF FORTEMENT RECOMMAND\xc9",reasoning:`Attention ! ${d} question${d>1?"s":""} rat\xe9e${d>1?"s":""} = ${20*d}% de votre note d'examen en danger.`,urgency:"Action recommand\xe9e maintenant",examPreparation:"Ce cours comblera pr\xe9cis\xe9ment les lacunes qui peuvent vous co\xfbter votre mention."}:c>=40?{message:"\uD83D\uDEA8 Alerte : Lacunes importantes d\xe9tect\xe9es",color:"text-orange-600",bg:"bg-orange-50",verdict:"\uD83D\uDD25 URGENT - COURS INDISPENSABLE",reasoning:`${d} questions rat\xe9es sur ${b} = risque d'\xe9chec \xe9lev\xe9. Ces concepts sont FONDAMENTAUX pour votre examen.`,urgency:"Intervention imm\xe9diate n\xe9cessaire",examPreparation:"Sans ce cours, vous risquez de ne pas valider cette mati\xe8re. Ces questions refl\xe8tent le niveau minimum requis."}:{message:"\uD83D\uDC80 Niveau critique - \xc9chec programm\xe9 sans action",color:"text-red-600",bg:"bg-red-50",verdict:"\uD83C\uDD98 CRITIQUE - COURS VITAL",reasoning:`Score de ${c.toFixed(0)}% = \xe9chec quasi-certain \xe0 l'examen. Ces questions repr\xe9sentent le strict minimum universitaire.`,urgency:"URGENCE ABSOLUE",examPreparation:"SANS ce cours, l'\xe9chec est presque garanti. Chaque jour de retard diminue vos chances de rattrapage."}})(D,E);if(s&&u)return(0,d.jsx)(h.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:"fixed inset-0 bg-white flex z-50",children:(0,d.jsxs)("div",{className:"w-full h-full overflow-y-auto",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-8 border-b border-gray-100 relative",children:[(0,d.jsx)("button",{onClick:y,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/80 hover:bg-white flex items-center justify-center transition-colors shadow-lg",children:(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-gray-600",children:(0,d.jsx)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,d.jsx)(h.P.div,{className:"w-24 h-24 bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:(0,d.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:"text-white",children:(0,d.jsx)("path",{d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,d.jsx)(h.P.h2,{className:"text-3xl font-bold text-gray-900 mb-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Test Termin\xe9"}),(0,d.jsxs)(h.P.p,{className:"text-lg text-gray-600 font-medium",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:["Voici votre profil de comp\xe9tences en ",(0,d.jsx)("span",{className:"font-semibold text-gray-800",children:f})]})]}),(0,d.jsx)("div",{className:"p-12 space-y-8 max-w-6xl mx-auto",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)(h.P.div,{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100/50",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:`w-20 h-20 rounded-full ${F.bg} flex items-center justify-center mx-auto mb-4 ring-4 ring-white shadow-lg`,children:(0,d.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCCA"})}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:[D,(0,d.jsxs)("span",{className:"text-2xl text-gray-500",children:["/",E]})]}),(0,d.jsx)("div",{className:`text-lg font-semibold mb-2 ${G.color}`,children:G.message}),(0,d.jsx)("div",{className:`text-sm font-bold px-3 py-1 rounded-full inline-block ${G.bg} ${G.color} border-2 border-current`,children:G.verdict})]}),(0,d.jsxs)("div",{className:"relative w-24 h-24 mx-auto",children:[(0,d.jsxs)("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,d.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),(0,d.jsx)(h.P.circle,{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeLinecap:"round",className:"text-indigo-500",strokeDasharray:`${2*Math.PI*40}`,initial:{strokeDashoffset:2*Math.PI*40},animate:{strokeDashoffset:2*Math.PI*40*(1-D/a.length)},transition:{duration:1.5,ease:"easeOut"}})]}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[Math.round(D/a.length*100),"%"]})})]})]})}),(0,d.jsxs)(h.P.div,{className:"bg-white border-2 border-blue-200 rounded-2xl overflow-hidden",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.5},children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFAF"})}),(0,d.jsx)("h4",{className:"text-xl font-bold text-white",children:"Diagnostic Strat\xe9gique"})]})}),(0,d.jsxs)("div",{className:"p-8 space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"text-lg font-semibold text-gray-900 mb-3",children:"\uD83D\uDCCA Analyse de votre performance"}),(0,d.jsx)("p",{className:"text-gray-700 text-base leading-relaxed mb-4",children:G.reasoning})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded-r-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("span",{className:"text-xl flex-shrink-0",children:"â°"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h6",{className:"font-semibold text-orange-800 text-base mb-2",children:"Niveau d'urgence"}),(0,d.jsx)("p",{className:"text-orange-700 text-base leading-relaxed",children:G.urgency})]})]})}),(0,d.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-r-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("span",{className:"text-xl flex-shrink-0",children:"\uD83D\uDCDA"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h6",{className:"font-semibold text-red-800 text-base mb-2",children:"Impact sur l'examen final"}),(0,d.jsx)("p",{className:"text-red-700 text-base leading-relaxed",children:G.examPreparation})]})]})})]})]})]})]})}),(0,d.jsxs)("div",{className:"p-12 border-t border-gray-100 max-w-6xl mx-auto",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:D}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Concepts ma\xeetris\xe9s"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-red-500",children:a.length-D}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Points \xe0 renforcer"})]})]}),a.length-D>0&&(0,d.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 mb-6 text-left",children:[(0,d.jsxs)("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-orange-600",children:"âš ï¸"}),"Concepts \xe0 renforcer"]}),(0,d.jsx)("div",{className:"space-y-2",children:q.map((b,c)=>b!==a[c].correctAnswer&&(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-orange-100 rounded-lg",children:[(0,d.jsx)("div",{className:"w-6 h-6 bg-orange-200 rounded-full flex items-center justify-center text-orange-700 text-sm font-bold flex-shrink-0",children:c+1}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-orange-800 text-sm font-medium mb-1",children:a[c].question}),(0,d.jsxs)("p",{className:"text-orange-700 text-xs",children:["\uD83D\uDCA1 ",a[c].explanation]})]})]},c))}),(0,d.jsx)("div",{className:"mt-4 p-3 bg-orange-100 rounded-lg",children:(0,d.jsxs)("p",{className:"text-orange-700 text-sm",children:[(0,d.jsx)("strong",{children:"Bonne nouvelle :"})," Ce cours couvre exactement ces points ! Vous saurez o\xf9 concentrer vos efforts pour une progression optimale."]})})]}),(0,d.jsx)("div",{className:"p-12 border-t border-gray-100 bg-gray-50",children:(0,d.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,d.jsxs)(h.P.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[(0,d.jsxs)(h.P.button,{onClick:()=>{l(0),n(null),p(!1),r(Array(a.length).fill(null)),t(!1),v(!1),x(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 flex items-center justify-center gap-3 py-5 px-8 bg-white/80 backdrop-blur-sm text-gray-700 rounded-xl hover:bg-white border border-gray-200 transition-all duration-200 shadow-sm text-base font-medium",children:[(0,d.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[(0,d.jsx)("path",{d:"M1 4v6h6M23 20v-6h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Refaire l'\xe9valuation"]}),(0,d.jsxs)(h.P.button,{onClick:y,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 flex items-center justify-center gap-3 py-5 px-8 text-white rounded-xl transition-all duration-200 shadow-lg font-semibold text-base ${G.verdict.includes("CRITIQUE")||G.verdict.includes("URGENT")?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-red-200/50":G.verdict.includes("FORTEMENT")?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-orange-200/50":"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 shadow-indigo-200/50"}`,children:[(0,d.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),G.verdict.includes("CRITIQUE")||G.verdict.includes("URGENT")?"\uD83C\uDD98 Sauver mon ann\xe9e - D\xe9bloquer le cours":G.verdict.includes("FORTEMENT")?"\uD83C\uDFAF S\xe9curiser ma r\xe9ussite - Voir le cours":"âœ¨ Viser l'excellence - Explorer le cours"]})]})})})]})]})});if(w){let b=z(),e=g?g.total:a.length,f=A(b,e);return(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-2xl w-full mx-4 text-center",children:[(0,d.jsx)("div",{className:`w-16 h-16 rounded-full ${f.bg} flex items-center justify-center mx-auto mb-4`,children:(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFAF"})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Quiz termin\xe9 !"}),(0,d.jsxs)("p",{className:"text-gray-600 mb-6",children:["Votre score : ",(0,d.jsxs)("span",{className:"font-bold text-gray-900",children:[b,"/",e]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)(h.P.button,{onClick:()=>{v(!0),t(!0),x(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-3 py-3 px-6 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg font-medium",children:[(0,d.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M9 11H1v2h8v8h2v-8h8v-2h-8V3H9v8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"\uD83D\uDCCA Revoir mon diagnostic"]}),(0,d.jsxs)(h.P.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-3 py-3 px-6 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium",children:[(0,d.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Fermer"]})]})]})})}return(0,d.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:"text-white",children:(0,d.jsx)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Question ",k+1," sur ",a.length]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Progression de votre \xe9valuation"})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[Math.round((k+1)/a.length*100),"%"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Compl\xe9t\xe9"})]})]}),(0,d.jsxs)("div",{className:"relative h-2 bg-gray-100 rounded-full overflow-hidden",children:[(0,d.jsx)(h.P.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 via-blue-500 to-purple-500 rounded-full",initial:{width:0},animate:{width:`${(k+1)/a.length*100}%`},transition:{duration:.8,ease:[.25,.46,.45,.94]}}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:Array.from({length:a.length},(a,b)=>(0,d.jsx)("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${b<=k?"bg-white shadow-sm":"bg-gray-300"}`},b))})]})]}),(0,d.jsxs)(h.P.div,{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-100/50 ring-1 ring-black/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center",children:(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-gray-600",children:(0,d.jsx)("path",{d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Question d'\xe9valuation"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${"easy"===B.difficulty?"bg-emerald-400":"medium"===B.difficulty?"bg-blue-400":"bg-purple-400"}`}),(0,d.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"easy"===B.difficulty?"Niveau accessible":"medium"===B.difficulty?"Niveau interm\xe9diaire":"Niveau avanc\xe9"})]})]})]})}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 leading-relaxed mb-3",children:B.question}),(0,d.jsx)("div",{className:"space-y-3",children:B.options.map((a,b)=>(0,d.jsx)(h.P.button,{onClick:()=>!o&&(a=>{n(a);let b=[...q];b[k]=a,r(b)})(b),disabled:o,whileHover:o?{}:{scale:1.005,y:-1},whileTap:o?{}:{scale:.995},transition:{duration:.2},className:`group relative w-full p-5 text-left rounded-xl transition-all duration-300 ${o?b===B.correctAnswer?"bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-200 shadow-sm":m===b?"bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-200 shadow-sm":"bg-gray-50/50 border-2 border-gray-100 text-gray-400":m===b?"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 shadow-md":"bg-white/80 border-2 border-gray-200 hover:border-gray-300 hover:shadow-md hover:bg-white"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${o?b===B.correctAnswer?"border-emerald-500 bg-emerald-500":m===b?"border-red-500 bg-red-500":"border-gray-300":m===b?"border-blue-500 bg-blue-500":"border-gray-300 group-hover:border-gray-400"}`,children:o&&b===B.correctAnswer||!o&&m===b?(0,d.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",className:"text-white",children:(0,d.jsx)("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}):null}),(0,d.jsx)("span",{className:`font-medium ${o&&m===b&&b!==B.correctAnswer?"text-red-700":o&&b===B.correctAnswer?"text-emerald-700":m===b?"text-blue-700":"text-gray-700"}`,children:a})]}),o&&(0,d.jsx)("div",{className:"flex-shrink-0",children:b===B.correctAnswer?(0,d.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(M.A,{className:"text-emerald-600",size:18})}):m===b?(0,d.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(az.A,{className:"text-red-600",size:18})}):null})]})},b))})]})]}),(0,d.jsx)(i.N,{children:o&&(0,d.jsx)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-xl mb-6 ${C?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[C?(0,d.jsx)(M.A,{className:"text-green-600 mt-0.5",size:20}):(0,d.jsx)(az.A,{className:"text-red-600 mt-0.5",size:20}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:`font-medium mb-1 ${C?"text-green-800":"text-red-800"}`,children:C?"Correct ! \uD83C\uDF89":"Incorrect \uD83D\uDE14"}),(0,d.jsx)("p",{className:`text-sm ${C?"text-green-700":"text-red-700"}`,children:B.explanation})]})]})})}),(0,d.jsxs)("div",{className:"flex items-center justify-between bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-gray-100/50",children:[(0,d.jsxs)(h.P.button,{onClick:()=>{k>0&&(l(k-1),n(q[k-1]),p(!1))},disabled:0===k,whileHover:0===k?{}:{scale:1.05},whileTap:0===k?{}:{scale:.95},className:`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${0===k?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900 hover:bg-white/80"}`,children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Pr\xe9c\xe9dent"]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:a.map((a,b)=>(0,d.jsx)(h.P.div,{className:`w-3 h-3 rounded-full transition-all duration-300 ${b<k?"bg-emerald-500 shadow-sm":b===k?"bg-indigo-500 shadow-sm ring-2 ring-indigo-200":"bg-gray-200"}`,whileHover:{scale:1.2}},b))}),(0,d.jsxs)(h.P.button,{onClick:()=>{null!==m&&(p(!0),setTimeout(()=>{k<a.length-1?(l(k+1),n(null),p(!1)):(t(!0),v(!0),b(q.reduce((b,c,d)=>b+ +(c===a[d].correctAnswer),0),a.length),setTimeout(()=>{v(!1),x(!0)},2e3))},2e3))},disabled:null===m,whileHover:null===m?{}:{scale:1.05},whileTap:null===m?{}:{scale:.95},className:`flex items-center gap-3 px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg ${null===m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700 shadow-indigo-200/50"}`,children:[k===a.length-1?"Terminer l'\xe9valuation":"Question suivante",(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})}function aB({course:a,userBalance:b,onPurchase:c,onPreview:f,canAfford:g}){let[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),n=(0,ac.Vc)(a.id);return i?(0,d.jsx)(aA,{questions:n,onComplete:(a,b)=>{setTimeout(()=>{j(!1)},3e3)},onClose:()=>j(!1),courseName:a.title}):k?(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>l(!1),children:(0,d.jsxs)(h.P.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a.title}),(0,d.jsx)("p",{className:"text-gray-600",children:"Aper\xe7u du cours"})]}),(0,d.jsx)("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:"âœ•"})]}),(0,d.jsx)("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-white text-center",children:[(0,d.jsx)(N.A,{size:64,className:"mx-auto mb-4 opacity-50"}),(0,d.jsx)("p",{className:"text-lg",children:"Aper\xe7u vid\xe9o du cours"}),(0,d.jsx)("p",{className:"text-sm opacity-75 mt-2",children:"Extrait de 5 minutes disponible"})]})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("p",{className:"text-gray-700",children:a.description})})]})}):(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900 text-lg leading-tight flex-1 mr-4",children:a.title}),(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"beginner":return"bg-green-100 text-green-700";case"intermediate":return"bg-blue-100 text-blue-700";case"advanced":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}})(a.difficulty||"intermediate")}`,children:(a=>{switch(a){case"beginner":return"D\xe9butant";case"intermediate":default:return"Interm\xe9diaire";case"advanced":return"Avanc\xe9"}})(a.difficulty||"intermediate")})]}),(0,d.jsx)("div",{className:"mb-5 px-4 py-3 bg-gray-50 rounded-lg border-l-4 border-blue-500",children:(0,d.jsx)("p",{className:"text-base text-gray-800 leading-relaxed font-normal",children:a.description})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{size:16,className:"text-gray-400"}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[a.totalLessons," le\xe7ons"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(t.A,{size:16,className:"text-gray-400"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:a.duration})]})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"700â‚¬"})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>l(!0),className:"w-full py-2.5 px-4 text-sm font-medium text-gray-600 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,d.jsx)(N.A,{size:16}),"Aper\xe7u vid\xe9o"]}),(0,d.jsxs)("button",{onClick:()=>j(!0),className:"w-full py-3 px-4 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,d.jsx)(H.A,{size:16}),"Je me teste"]}),(0,d.jsxs)("button",{onClick:()=>c(a),className:"w-full py-3 px-4 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-all duration-200 flex items-center justify-center gap-2",children:[(0,d.jsx)(m.A,{size:16}),"D\xe9bloquer le cours"]})]})]})})}let aC=(0,_.A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var aD=c(46816);function aE({isOpen:a,onClose:b,selectedCourse:c,recommendedPack:e,userBalance:f,onPurchaseCourse:g,onPurchasePack:j,canAffordCourse:k,canAffordPack:l}){return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:b,children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Choisissez votre parcours d'apprentissage"}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:"Nous vous recommandons une approche compl\xe8te pour maximiser votre r\xe9ussite"})]}),(0,d.jsx)("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(v.A,{size:24,className:"text-gray-400"})})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 max-h-[calc(90vh-120px)] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"p-6 border-r border-gray-200 relative",children:[(0,d.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium z-10 shadow-sm",children:"Acc\xe8s basique"}),(0,d.jsxs)("div",{className:"h-full flex flex-col pt-8",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(m.A,{className:"text-gray-600",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Le\xe7on seule : Les fondamentaux essentiels"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Acc\xe8s basique \xe0 cette le\xe7on uniquement"})]})]})}),(0,d.jsx)("div",{className:"flex-1 space-y-4 mb-6",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Acc\xe8s imm\xe9diat \xe0 la vid\xe9o HD de la le\xe7on"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Quiz d'auto-\xe9valuation"})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"70â‚¬"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"euros"})]}),(0,d.jsx)("button",{onClick:()=>g(c),disabled:!k,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${k?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"D\xe9bloquer la le\xe7on pour 70â‚¬"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Option de repli"})})]})]})]}),(0,d.jsxs)("div",{className:"p-6 border-r border-gray-200 relative",children:[(0,d.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium z-10 shadow-sm",children:"Recommand\xe9"}),(0,d.jsxs)("div",{className:"h-full flex flex-col pt-8",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(r.A,{className:"text-blue-600",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Cours Complet"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Parcours p\xe9dagogique structur\xe9 et complet"})]})]})}),(0,d.jsx)("div",{className:"flex-1 space-y-4 mb-6",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Toutes les le\xe7ons du cours choisi"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Vid\xe9os HD"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Acc\xe8s aux Study Rooms li\xe9es \xe0 ce cours"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Acc\xe8s au groupe WhatsApp du cours"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Garantie de r\xe9ussite"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Support prioritaire"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Planification incluse"})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"700â‚¬"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"euros"})]}),(0,d.jsx)("button",{onClick:()=>g(c),disabled:!k,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${k?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"D\xe9bloquer le cours pour 700â‚¬"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Avantage p\xe9dagogique"})})]})]})]}),(0,d.jsxs)("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50 relative",children:[(0,d.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium z-10 shadow-sm",children:"Meilleur investissement"}),(0,d.jsxs)("div",{className:"h-full flex flex-col",children:[(0,d.jsx)("div",{className:"mb-6 pt-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(L.A,{className:"text-purple-600",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Pack \xc9lectrostatique"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Formation compl\xe8te en \xe9lectrostatique"})]})]})}),(0,d.jsx)("div",{className:"flex-1 space-y-4 mb-6",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500 mt-0.5"}),(0,d.jsxs)("div",{className:"text-gray-700",children:[(0,d.jsx)("div",{className:"font-medium mb-1",children:"Acc\xe8s \xe0 l'ensemble des cours d'\xe9lectrostatique :"}),(0,d.jsxs)("ul",{className:"text-sm text-gray-600 ml-2 space-y-1",children:[(0,d.jsx)("li",{children:"â€¢ Loi de Gauss"}),(0,d.jsx)("li",{children:"â€¢ Int\xe9grales et Applications"}),(0,d.jsx)("li",{children:"â€¢ Forces et Mouvement"}),(0,d.jsx)("li",{children:"â€¢ Suites et Limites"}),(0,d.jsx)("li",{children:"â€¢ Champs \xc9lectriques"}),(0,d.jsx)("li",{children:"â€¢ Potentiels et \xc9nergie"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Vid\xe9os HD"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Slides PDF disponibles pour tous les cours du pack"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Acc\xe8s aux Study Rooms premium"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Acc\xe8s \xe0 tous les groupes WhatsApp"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Garantie de r\xe9ussite (globale)"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Support prioritaire"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(M.A,{size:20,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:"Planificateur inclus"})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1200â‚¬"}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"euros"})]}),(0,d.jsx)("button",{onClick:()=>j(e),disabled:!l,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${l?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"D\xe9bloquer le pack pour 1200â‚¬"}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Option de repli"})}),(0,d.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(aC,{size:16,className:"text-blue-600 mt-0.5"}),(0,d.jsxs)("div",{className:"text-xs text-blue-800",children:[(0,d.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Astuce portefeuille"}),(0,d.jsx)("p",{children:"En rechargeant ton portefeuille, tu b\xe9n\xe9ficies d'un bonus additionnel offert. Offre valable pour une dur\xe9e limit\xe9e."})]})]})})]})]})]})]}),(0,d.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCA1 ",(0,d.jsx)("strong",{children:"Conseil p\xe9dagogique :"})," Une approche progressive et compl\xe8te est la cl\xe9 de la r\xe9ussite ! Nos experts recommandent de ma\xeetriser l'ensemble du sujet. Tu peux toujours commencer petit et \xe9voluer !"]}),(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2",children:[(0,d.jsx)(aD.A,{size:16,className:"text-gray-500"}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:["Solde actuel du portefeuille : ",(0,d.jsxs)("strong",{children:[f.toFixed(2),"â‚¬"]})]})]})]})})]})})}):null}let aF=(0,_.A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var aG=c(71179);function aH({course:a,userBalance:b}){return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2,transition:{duration:.2}},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 relative w-full",children:[(0,d.jsxs)("div",{className:"relative h-48 flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,d.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 px-2 py-1 rounded-full text-xs font-medium border border-purple-200",children:[(0,d.jsx)(aF,{size:10,className:"inline mr-1"}),"Hors programme"]})}),(0,d.jsx)("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-sm mb-4",children:(0,d.jsx)(m.A,{className:"text-blue-600",size:20})}),(0,d.jsx)("div",{className:"text-sm text-gray-600 font-medium text-center",children:"Solvay Brussels School"})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-medium",children:[(0,d.jsx)(q.A,{size:12}),(0,d.jsxs)("span",{children:[Math.floor(200*Math.random())+50," \xe9tudiants"]})]}),a.totalLessons&&(0,d.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,d.jsx)(m.A,{size:14}),(0,d.jsxs)("span",{children:[a.totalLessons," le\xe7ons"]})]})]}),(0,d.jsx)("div",{className:"flex gap-3",children:(0,d.jsxs)("button",{onClick:()=>{let b=(0,ac.rr)(a.catalogInfo);b&&window.open(b,"_blank")},className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)(aG.A,{size:16}),"Discute avec nous"]})})]})]})}var aI=c(69957);let aJ=(0,_.A)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),aK=(0,_.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function aL({lesson:a,userBalance:b}){return(0,d.jsxs)(h.P.div,{className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-all duration-300 p-6 relative overflow-hidden",whileHover:{y:-4,scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,d.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium border border-purple-200",children:[(0,d.jsx)(aF,{size:12,className:"inline mr-1"}),a.catalogInfo.category||"Hors programme"]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-sm text-gray-600",children:[(0,d.jsx)(aI.A,{size:14}),(0,d.jsx)("span",{className:"font-medium",children:a.catalogInfo.source})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 pr-20",children:a.title}),(0,d.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed mb-4",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsxs)("span",{children:[a.duration," min"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(aJ,{size:16}),(0,d.jsxs)("span",{children:["Le\xe7on #",a.order]})]})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:`
            inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
            ${"beginner"===a.difficulty?"bg-green-100 text-green-800":"intermediate"===a.difficulty?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}
          `,children:["Niveau ","beginner"===a.difficulty?"D\xe9butant":"intermediate"===a.difficulty?"Interm\xe9diaire":"Avanc\xe9"]})})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center py-3 bg-gray-50 rounded-lg border",children:[(0,d.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Prix"}),(0,d.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[a.price,"â‚¬"]})]}),(0,d.jsxs)(h.P.button,{onClick:()=>{let b=(0,ac.rr)(a.catalogInfo);b&&window.open(b,"_blank")},className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700  text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200  flex items-center justify-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,d.jsx)(aG.A,{size:20}),(0,d.jsx)("span",{children:"Discuter sur WhatsApp"}),(0,d.jsx)(aK,{size:16})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 text-center px-2",children:["Contactez ",a.catalogInfo.source.split(" - ")[0]," pour cette le\xe7on externe"]})]})]})}function aM({data:a,userBalance:b,onBalanceChange:c,onCourseUnlock:f,onPackUnlock:g,ownedCourses:j,ownedPacks:k,onOpenCourseViewer:l}){let[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)("all"),[r,s]=(0,e.useState)("popular"),[t,u]=(0,e.useState)(null),[v,w]=(0,e.useState)("course"),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(null),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(null),[M,N]=(0,e.useState)(!1),[O,Q]=(0,e.useState)(null),[R,T]=(0,e.useState)(!1),U=[...a.suggestedCourses?.map(a=>a.course)||[],...(0,ac.k)()],V=(0,ac.S6)(),W=[...(0,ac.tk)(),...(0,ac.hE)()];console.log("\uD83D\uDD0D DEBUG: Available courses:",U.length),console.log("\uD83D\uDD0D DEBUG: Current filter:",p);let X=(()=>{let a=[];if(("all"===p||"packs"===p||"faculty"===p)&&"external"!==p&&a.push(...V.map(a=>({item:a,type:"pack",isExternal:!1}))),"all"===p||"courses"===p||"faculty"===p||"external"===p){console.log("\uD83C\uDFAF Adding courses to items, count:",U.length);let b=U.filter(a=>{let b=(0,ac.JH)(a);return"faculty"===p?!b:"external"!==p||b});a.push(...b.map(a=>({item:a,type:"course",isExternal:(0,ac.JH)(a)})))}if("lessons"===p||"faculty"===p||"external"===p||"all"===p&&n){let b=W.filter(a=>{let b=(0,ac.JH)(a);return"faculty"===p?!b:"external"!==p||b});a.push(...b.map(a=>({item:a,type:"lesson",isExternal:(0,ac.JH)(a)})))}return n&&(a=a.filter(({item:a})=>a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()))),"affordable"===p&&(a=a.filter(({item:a,type:c})=>{let d=70;return"course"===c?d=700:"pack"===c&&(d=1200),d<=(b||0)})),a.sort(({item:a,type:b},{item:c,type:d})=>{let e=70,f=70;switch("course"===b?e=700:"pack"===b&&(e=1200),"course"===d?f=700:"pack"===d&&(f=1200),r){case"price-asc":if(b!==d){if("pack"===b)return -1;if("pack"===d)return 1;if("course"===b&&"lesson"===d)return -1;if("lesson"===b&&"course"===d)return 1}return e-f;case"price-desc":if(b!==d){if("pack"===b)return -1;if("pack"===d)return 1;if("course"===b&&"lesson"===d)return -1;if("lesson"===b&&"course"===d)return 1}return f-e;default:if("pack"===b&&"pack"!==d)return -1;if("pack"===d&&"pack"!==b)return 1;if("course"===b&&"lesson"===d)return -1;if("lesson"===b&&"course"===d)return 1;return a.title.localeCompare(c.title)}}),console.log("âœ… Final filtered items:",a.length,"items for filter:",p),a})(),Y=(a,d)=>{let e="course"===d?U.find(b=>b.id===a):V.find(b=>b.id===a);if(!e)return;let h="course"===d?700:1200;(b||0)>=h?(c((b||0)-h),A({type:"spend",amount:h}),"course"===d?f(a):g(a,e.courses),console.log(`âœ… Achat r\xe9ussi: ${d} ${a} pour ${h}â‚¬`)):(console.log(`âŒ Solde insuffisant: ${h}â‚¬ requis, ${b||0}â‚¬ disponible`),alert(`Solde insuffisant. Il vous faut ${h}â‚¬ pour cet achat.`))},Z=a=>{V.filter(b=>b.courses.includes(a.id)).length>0?(K(a),N(!0)):Y(a.id,"course")},$=(a,b)=>{Y(a,b)},_=a=>U.filter(b=>a.courses.includes(b.id)),aa=a=>{let b=V.filter(b=>b.courses.includes(a.id));if(b.length>0){let c=b[0];return{...c,includedCourses:c.courses.map(b=>U.find(a=>a.id===b)||a).filter(Boolean),bonusCourses:U.filter(a=>c.features.some(b=>b.includes(a.title.split(" ")[0]))).slice(0,2)}}return{id:"suggested-pack",title:`Pack ${a.faculty} Premium`,description:"Une s\xe9lection de cours compl\xe9mentaires avec des bonus exclusifs",courses:[a.id],creditCost:700,originalCreditCost:1400,savings:700,badge:"Recommand\xe9",icon:"\uD83C\uDF93",color:"blue",features:["Support prioritaire 24/7","S\xe9ances de coaching individuel","Certificats NFT de r\xe9ussite","Acc\xe8s aux masterclass exclusives"],includedCourses:[a,...U.filter(b=>b.faculty===a.faculty&&b.id!==a.id).slice(0,2)],bonusCourses:U.filter(b=>b.faculty===a.faculty&&"advanced"===b.difficulty).slice(0,2)}};return(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"D\xe9bloquer du contenu"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Cours individuels ou packs avec valeur ajout\xe9e"})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(ak.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher un cours, pack ou le\xe7on...",value:n,onChange:a=>o(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,d.jsx)("option",{value:"all",children:"Tout"}),(0,d.jsx)("option",{value:"courses",children:"Cours seuls"}),(0,d.jsx)("option",{value:"packs",children:"Packs"}),(0,d.jsx)("option",{value:"lessons",children:"Le\xe7ons"}),(0,d.jsx)("option",{value:"affordable",children:"Abordables"})]}),(0,d.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,d.jsx)("option",{value:"popular",children:"Populaires"}),(0,d.jsx)("option",{value:"price-asc",children:"Prix croissant"}),(0,d.jsx)("option",{value:"price-desc",children:"Prix d\xe9croissant"}),(0,d.jsx)("option",{value:"new",children:"Nouveaut\xe9s"})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(m.A,{className:"text-blue-600",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Cours disponibles"})]}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:U.length})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(al,{className:"text-purple-600",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Packs disponibles"})]}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:V.length})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(m.A,{className:"text-green-600",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Le\xe7ons disponibles"})]}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:W.length})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(P.A,{className:"text-yellow-600",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Cours poss\xe9d\xe9s"})]}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:j.length})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(L.A,{className:"text-orange-600",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Packs poss\xe9d\xe9s"})]}),(0,d.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.length})]})]}),(0,d.jsx)(av,{facultyName:a.user.faculty,currentYear:new Date().getFullYear(),onCourseClick:a=>{console.log("\uD83C\uDFAF Cours ann\xe9e prochaine cliqu\xe9:",a),l?l(a):console.warn("onOpenCourseViewer non disponible")}}),(0,d.jsx)("div",{className:`grid gap-6 ${X.some(({type:a})=>"pack"===a)?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}`,children:(0,d.jsx)(i.N,{mode:"popLayout",children:X.map(({item:a,type:c,isExternal:e},f)=>(0,d.jsx)(h.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*f},children:"course"===c?e?(0,d.jsx)(aH,{course:a,userBalance:b||0}):"courses"===p?(0,d.jsx)(aB,{course:a,userBalance:b||0,onPurchase:Z,onPreview:a=>console.log("Preview course:",a.id),canAfford:(b||0)>=700}):(0,d.jsx)(aq,{course:a,isOwned:j.includes(a.id),packBadge:(a=>{let b=V.find(b=>b.courses.includes(a)&&k.includes(b.id));return b?`Inclus dans ${b.title}`:void 0})(a.id),onPurchase:a=>Y(a,"course"),onPreview:a=>console.log("Preview course:",a),onToggleFavorite:a=>console.log("Toggle favorite course:",a),onClick:a=>l?.(a)}):"pack"===c?(0,d.jsx)(ar,{pack:a,courses:_(a),isOwned:k.includes(a.id),onPurchase:a=>Y(a,"pack"),onPreview:a=>console.log("Preview pack:",a),onCoursePreview:a=>l?.(a),className:"md:col-span-2 lg:col-span-1"}):e?(0,d.jsx)(aL,{lesson:a,userBalance:b||0}):(0,d.jsx)(ax,{lesson:a,isOwned:!1,canAfford:(b||0)>=70,onUnlock:a=>(a=>{let b=W.find(b=>b.id===a);b&&(Q(b),T(!0))})(a),onPreview:a=>console.log("Preview lesson:",a)})},`${c}-${a.id}`))})}),0===X.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(ak.A,{className:"text-gray-400",size:24})}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun r\xe9sultat"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Essayez de modifier vos filtres ou votre recherche."})]}),(0,d.jsx)(as,{isOpen:x,onClose:()=>y(!1),item:t,itemType:v,userBalance:b||0,onConfirmPurchase:$,includedCourses:"pack"===v&&t?_(t):[]}),B&&(0,d.jsx)(aw,{selectedCourse:B,suggestedPack:aa(B),isVisible:D,onClose:()=>E(!1),onSelectCourse:()=>{B&&(Y(B.id,"course"),E(!1))},onSelectPack:()=>{B&&($(aa(B).id,"pack"),E(!1))},canAffordCourse:(b||0)>=700,canAffordPack:(b||0)>=1200}),R&&O&&(0,d.jsx)(S.U,{isOpen:R,onClose:()=>T(!1),userBalance:b||0,purchaseOptions:(a=>{let b=W.find(b=>b.id===a);if(!b)return[];let c=U.find(c=>c.id===b.courseId||c.lessons?.some(b=>b.id===a)),d=V.filter(a=>c&&a.courses.includes(c.id)),e=[];if(e.push({type:"lesson",itemId:a,title:b.title,price:70,description:"Acc\xe8s \xe0 cette le\xe7on uniquement",features:["Vid\xe9o de cours compl\xe8te","Quiz d'\xe9valuation","Acc\xe8s limit\xe9 \xe0 1 le\xe7on"],badge:null}),c?e.push({type:"course",itemId:c.id,title:`Cours ${c.title}`,price:700,description:"Ma\xeetrise compl\xe8te du sujet",features:[`${c.lessons?.length||12} le\xe7ons compl\xe8tes`,"Exercices pratiques inclus","Suivi de progression d\xe9taill\xe9","Acc\xe8s aux quiz d'\xe9valuation"],badge:"Recommand\xe9"}):e.push({type:"course",itemId:"course-generic-math",title:"Cours Complet Math\xe9matiques",price:700,description:"Ma\xeetrise compl\xe8te du sujet",features:["12 le\xe7ons compl\xe8tes","Exercices pratiques inclus","Suivi de progression d\xe9taill\xe9","Acc\xe8s aux quiz d'\xe9valuation"],badge:"Recommand\xe9"}),d.length>0){let a=d[0],b=a.courses.reduce((a,b)=>{let c=U.find(a=>a.id===b);return a+(c?.lessons?.length||0)},0);e.push({type:"pack",itemId:a.id,title:a.title,price:1200,description:"Accompagnement complet",features:[`${a.courses.length} cours compl\xe9mentaires`,`${b} le\xe7ons au total`,"Coaching personnalis\xe9 inclus","Planificateur strat\xe9gique","Support prioritaire"],badge:"Meilleur investissement"})}else e.push({type:"pack",itemId:"pack-math-complete",title:"Pack Math\xe9matiques Complet",price:1200,description:"Accompagnement complet",features:["4 cours compl\xe9mentaires","48 le\xe7ons au total","Coaching personnalis\xe9 inclus","Planificateur strat\xe9gique","Support prioritaire"],badge:"Meilleur investissement"});return e})(O.id),onPurchase:a=>{console.log("\uD83D\uDED2 ACHAT depuis modale upsell:",a);let d=a.price;if((b||0)>=d){if(c((b||0)-d),A({type:"spend",amount:d}),console.log(`âœ… ${a.type} d\xe9bloqu\xe9: ${a.title} pour ${d}â‚¬`),T(!1),Q(null),"lesson"===a.type)console.log("Le\xe7on d\xe9bloqu\xe9e:",a.itemId);else if("course"===a.type)f(a.itemId);else if("pack"===a.type){let b=V.find(b=>b.id===a.itemId);b&&g(a.itemId,b.courses)}}else alert(`Solde insuffisant. Il vous faut ${d}â‚¬ pour cet achat.`)},onAddFunds:()=>{alert("Fonction de recharge \xe0 impl\xe9menter")}}),J&&(0,d.jsx)(aE,{isOpen:M,onClose:()=>{N(!1),K(null)},selectedCourse:J,recommendedPack:V.filter(a=>a.courses.includes(J.id))[0]||V[0],userBalance:b||0,onPurchaseCourse:a=>{N(!1),Y(a.id,"course")},onPurchasePack:a=>{N(!1),Y(a.id,"pack")},canAffordCourse:(b||0)>=700,canAffordPack:(b||0)>=1200})]})}function aN({isVisible:a,onClose:b,selectedCourse:c,recommendedPack:e,alternativePack:f,onSelectCourse:g,onSelectPack:j,canAffordCourse:k,canAffordPack:l,canAffordAlternative:n=!1}){let o=((a,b)=>{let c={courseEncouragement:["Un seul cours peut ne pas suffire pour ma\xeetriser compl\xe8tement le domaine.","Les meilleurs \xe9tudiants adoptent une approche transversale.","L'excellence vient de la compr\xe9hension globale, pas fragment\xe9e."],packValue:[`Le "${b.title}" t'offre une formation compl\xe8te avec accompagnement premium.`,"Un pack complet maximise ton potentiel et tes chances de r\xe9ussite.","L'approche int\xe9gr\xe9e des packs fait toute la diff\xe9rence aux examens.","Les bonus exclusifs des packs enrichissent consid\xe9rablement ton apprentissage."],motivation:["Vise l'excellence, pas seulement la moyenne.","Investis dans ta r\xe9ussite avec les meilleurs outils.","Ton futur m\xe9rite le meilleur accompagnement possible."]};return{courseEncouragement:c.courseEncouragement[Math.floor(Math.random()*c.courseEncouragement.length)],packValue:c.packValue[Math.floor(Math.random()*c.packValue.length)],motivation:c.motivation[Math.floor(Math.random()*c.motivation.length)]}})(0,e);return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:b,children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white relative overflow-hidden",children:[(0,d.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[(0,d.jsx)(h.P.div,{initial:{x:-50,opacity:.3},animate:{x:50,opacity:.6},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute top-3 left-10 text-2xl",children:"\uD83E\uDDE0"}),(0,d.jsx)(h.P.div,{initial:{x:100,opacity:.2},animate:{x:-20,opacity:.5},transition:{duration:6,repeat:1/0,ease:"linear",delay:1},className:"absolute top-8 right-20 text-xl",children:"\uD83E\uDDE0"}),(0,d.jsx)(h.P.div,{initial:{x:0,opacity:.1},animate:{x:80,opacity:.4},transition:{duration:10,repeat:1/0,ease:"linear",delay:2},className:"absolute bottom-4 left-16 text-lg",children:"\uD83E\uDDE0"})]}),(0,d.jsx)("button",{onClick:b,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors z-10",children:(0,d.jsx)(v.A,{size:20})}),(0,d.jsxs)("div",{className:"pr-12 relative z-10",children:[(0,d.jsxs)("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFAF"}),(0,d.jsx)("span",{children:"Optimise ton investissement"}),(0,d.jsx)(h.P.span,{initial:{scale:1},animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-2xl",children:"\uD83E\uDDE0"})]}),(0,d.jsx)("p",{className:"text-blue-100",children:o.courseEncouragement})]})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"border border-gray-200 rounded-xl p-6 relative",children:[(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(m.A,{className:"text-gray-600",size:24})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Cours seul"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Acc\xe8s limit\xe9"})]}),(0,d.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(M.A,{className:"text-green-600 mt-0.5",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:c.title})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(M.A,{className:"text-green-600 mt-0.5",size:16}),(0,d.jsxs)("span",{className:"text-sm text-gray-700",children:[c.totalLessons," le\xe7ons incluses"]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(M.A,{className:"text-green-600 mt-0.5",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:"Acc\xe8s \xe0 vie"})]}),(0,d.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,d.jsx)("p",{className:"text-xs text-gray-500 italic",children:"\uD83D\uDCA1 Apprentissage cibl\xe9 mais isol\xe9"})})]}),(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mb-1 flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCB3"}),(0,d.jsx)("span",{children:c.price||700})]}),(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"euros"})]}),(0,d.jsx)("button",{onClick:g,disabled:!k,className:`w-full py-3 rounded-lg font-medium transition-colors ${k?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:k?"D\xe9bloquer le cours":"Solde insuffisant"}),(0,d.jsx)("div",{className:"mt-3 text-center",children:(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Option basique"})})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"border-2 border-blue-500 rounded-xl p-6 relative bg-blue-50",children:[(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,d.jsx)("span",{className:"bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"â­ RECOMMAND\xc9"})}),(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(al,{className:"text-blue-600",size:24})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.title}),(0,d.jsx)("p",{className:"text-sm text-blue-700",children:"Formation compl\xe8te"})]}),(0,d.jsxs)("div",{className:"space-y-2 mb-6",children:[e.courses.slice(0,4).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(M.A,{className:"text-blue-600 mt-0.5",size:16}),(0,d.jsxs)("span",{className:"text-sm text-gray-700",children:["Cours ",b+1," inclus"]})]},b)),e.features.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(u.A,{className:"text-purple-600 mt-0.5",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:a})]},b)),(0,d.jsx)("div",{className:"pt-2 border-t border-blue-200",children:(0,d.jsxs)("p",{className:"text-xs text-blue-700 font-medium",children:["\uD83D\uDE80 ",o.packValue]})})]}),(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-blue-900 mb-1",children:[e.price||e.creditCost,"â‚¬"]}),(0,d.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"euros"})]}),(0,d.jsx)("button",{onClick:()=>j(e.id),disabled:!l,className:`w-full py-3 rounded-lg font-medium transition-colors ${l?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:l?"D\xe9bloquer le pack":"Solde insuffisant"}),(0,d.jsx)("div",{className:"mt-3 text-center",children:(0,d.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"Meilleur investissement"})})]}),f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"border border-purple-300 rounded-xl p-6 relative bg-purple-50",children:[(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,d.jsx)("span",{className:"bg-purple-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"\uD83D\uDC51 PREMIUM"})}),(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(L.A,{className:"text-purple-600",size:24})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:f.title}),(0,d.jsx)("p",{className:"text-sm text-purple-700",children:"Formation d'\xe9lite"})]}),(0,d.jsxs)("div",{className:"space-y-2 mb-6",children:[f.courses.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(M.A,{className:"text-purple-600 mt-0.5",size:16}),(0,d.jsxs)("span",{className:"text-sm text-gray-700",children:["Cours premium ",b+1]})]},b)),f.features.slice(0,3).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(ad.A,{className:"text-purple-600 mt-0.5",size:16}),(0,d.jsx)("span",{className:"text-sm text-gray-700",children:a})]},b)),(0,d.jsx)("div",{className:"pt-2 border-t border-purple-200",children:(0,d.jsx)("p",{className:"text-xs text-purple-700 font-medium",children:"\uD83D\uDC8E Formation d'excellence absolue"})})]}),(0,d.jsxs)("div",{className:"text-center mb-4",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-purple-900 mb-1 flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCB3"}),(0,d.jsx)("span",{children:f.price||f.creditCost})]}),(0,d.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"euros"}),(0,d.jsxs)("div",{className:"text-xs text-green-600 mt-1 flex items-center justify-center gap-1",children:[(0,d.jsx)("span",{className:"text-sm",children:"\uD83C\uDF81"}),(0,d.jsxs)("span",{children:["\xc9conomie : ",f.savings,"â‚¬ de contenu bonus"]})]})]}),(0,d.jsx)("button",{onClick:()=>j(f.id),disabled:!n,className:`w-full py-3 rounded-lg font-medium transition-colors ${n?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:n?"D\xe9bloquer le pack premium":"Solde insuffisant"}),(0,d.jsx)("div",{className:"mt-3 text-center",children:(0,d.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Formation d'\xe9lite"})})]})]}),(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3 text-green-800",children:[(0,d.jsx)(I.A,{size:20}),(0,d.jsx)("span",{className:"font-medium text-center",children:o.motivation})]})})]})]})})}):null}let aO={toVector:(a,b)=>(void 0===a&&(a=b),Array.isArray(a)?a:[a,a]),add:(a,b)=>[a[0]+b[0],a[1]+b[1]],sub:(a,b)=>[a[0]-b[0],a[1]-b[1]],addTo(a,b){a[0]+=b[0],a[1]+=b[1]},subTo(a,b){a[0]-=b[0],a[1]-=b[1]}};function aP(a,b,c){return 0===b||Math.abs(b)===1/0?Math.pow(a,5*c):a*b*c/(b+c*a)}function aQ(a,b,c,d=.15){return 0===d?Math.max(b,Math.min(a,c)):a<b?-aP(b-a,c-b,d)+b:a>c?+aP(a-c,c-b,d)+c:a}function aR(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:String(d))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aS(Object(c),!0).forEach(function(b){aR(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let aU={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function aV(a){return a?a[0].toUpperCase()+a.slice(1):""}let aW=["enter","leave"],aX=["gotpointercapture","lostpointercapture"];function aY(a){return"touches"in a}function aZ(a){return aY(a)?"touch":"pointerType"in a?a.pointerType:"mouse"}function a$(a){return aY(a)?("touchend"===a.type||"touchcancel"===a.type?a.changedTouches:a.targetTouches)[0]:a}function a_(a,b){try{let c=b.clientX-a.clientX,d=b.clientY-a.clientY,e=(b.clientX+a.clientX)/2,f=(b.clientY+a.clientY)/2,g=Math.hypot(c,d);return{angle:-(180*Math.atan2(c,d))/Math.PI,distance:g,origin:[e,f]}}catch(a){}return null}function a0(a,b){let[c,d]=Array.from(a.touches).filter(a=>b.includes(a.identifier));return a_(c,d)}function a1(a){let b=a$(a);return aY(a)?b.identifier:b.pointerId}function a2(a){let b=a$(a);return[b.clientX,b.clientY]}function a3(a){let{deltaX:b,deltaY:c,deltaMode:d}=a;return 1===d?(b*=40,c*=40):2===d&&(b*=800,c*=800),[b,c]}function a4(a,...b){return"function"==typeof a?a(...b):a}function a5(){}function a6(a,b){return Object.assign({},b,a||{})}class a7{constructor(a,b,c){this.ctrl=a,this.args=b,this.key=c,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(a){this.ctrl.state[this.key]=a}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:a,shared:b,ingKey:c,args:d}=this;b[c]=a._active=a.active=a._blocked=a._force=!1,a._step=[!1,!1],a.intentional=!1,a._movement=[0,0],a._distance=[0,0],a._direction=[0,0],a._delta=[0,0],a._bounds=[[-1/0,1/0],[-1/0,1/0]],a.args=d,a.axis=void 0,a.memo=void 0,a.elapsedTime=a.timeDelta=0,a.direction=[0,0],a.distance=[0,0],a.overflow=[0,0],a._movementBound=[!1,!1],a.velocity=[0,0],a.movement=[0,0],a.delta=[0,0],a.timeStamp=0}start(a){let b=this.state,c=this.config;b._active||(this.reset(),this.computeInitial(),b._active=!0,b.target=a.target,b.currentTarget=a.currentTarget,b.lastOffset=c.from?a4(c.from,b):b.offset,b.offset=b.lastOffset,b.startTime=b.timeStamp=a.timeStamp)}computeValues(a){let b=this.state;b._values=a,b.values=this.config.transform(a)}computeInitial(){let a=this.state;a._initial=a._values,a.initial=a.values}compute(a){let{state:b,config:c,shared:d}=this;b.args=this.args;let e=0;if(a&&(b.event=a,c.preventDefault&&a.cancelable&&b.event.preventDefault(),b.type=a.type,d.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,d.locked=!!document.pointerLockElement,Object.assign(d,function(a){let b={};if("buttons"in a&&(b.buttons=a.buttons),"shiftKey"in a){let{shiftKey:c,altKey:d,metaKey:e,ctrlKey:f}=a;Object.assign(b,{shiftKey:c,altKey:d,metaKey:e,ctrlKey:f})}return b}(a)),d.down=d.pressed=d.buttons%2==1||d.touches>0,e=a.timeStamp-b.timeStamp,b.timeStamp=a.timeStamp,b.elapsedTime=b.timeStamp-b.startTime),b._active){let a=b._delta.map(Math.abs);aO.addTo(b._distance,a)}this.axisIntent&&this.axisIntent(a);let[f,g]=b._movement,[h,i]=c.threshold,{_step:j,values:k}=b;if(c.hasCustomTransform?(!1===j[0]&&(j[0]=Math.abs(f)>=h&&k[0]),!1===j[1]&&(j[1]=Math.abs(g)>=i&&k[1])):(!1===j[0]&&(j[0]=Math.abs(f)>=h&&Math.sign(f)*h),!1===j[1]&&(j[1]=Math.abs(g)>=i&&Math.sign(g)*i)),b.intentional=!1!==j[0]||!1!==j[1],!b.intentional)return;let l=[0,0];if(c.hasCustomTransform){let[a,b]=k;l[0]=!1!==j[0]?a-j[0]:0,l[1]=!1!==j[1]?b-j[1]:0}else l[0]=!1!==j[0]?f-j[0]:0,l[1]=!1!==j[1]?g-j[1]:0;this.restrictToAxis&&!b._blocked&&this.restrictToAxis(l);let m=b.offset,n=b._active&&!b._blocked||b.active;n&&(b.first=b._active&&!b.active,b.last=!b._active&&b.active,b.active=d[this.ingKey]=b._active,a&&(b.first&&("bounds"in c&&(b._bounds=a4(c.bounds,b)),this.setup&&this.setup()),b.movement=l,this.computeOffset()));let[o,p]=b.offset,[[q,r],[s,t]]=b._bounds;b.overflow=[o<q?-1:+(o>r),p<s?-1:+(p>t)],b._movementBound[0]=!!b.overflow[0]&&(!1===b._movementBound[0]?b._movement[0]:b._movementBound[0]),b._movementBound[1]=!!b.overflow[1]&&(!1===b._movementBound[1]?b._movement[1]:b._movementBound[1]);let u=b._active&&c.rubberband||[0,0];if(b.offset=function(a,[b,c],[d,e]){let[[f,g],[h,i]]=a;return[aQ(b,f,g,d),aQ(c,h,i,e)]}(b._bounds,b.offset,u),b.delta=aO.sub(b.offset,m),this.computeMovement(),n&&(!b.last||e>32)){b.delta=aO.sub(b.offset,m);let a=b.delta.map(Math.abs);aO.addTo(b.distance,a),b.direction=b.delta.map(Math.sign),b._direction=b._delta.map(Math.sign),!b.first&&e>0&&(b.velocity=[a[0]/e,a[1]/e],b.timeDelta=e)}}emit(){let a=this.state,b=this.shared,c=this.config;if(a._active||this.clean(),(a._blocked||!a.intentional)&&!a._force&&!c.triggerAllEvents)return;let d=this.handler(aT(aT(aT({},b),a),{},{[this.aliasKey]:a.values}));void 0!==d&&(a.memo=d)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class a8 extends a7{constructor(...a){super(...a),aR(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=aO.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=aO.sub(this.state.offset,this.state.lastOffset)}axisIntent(a){let b=this.state,c=this.config;if(!b.axis&&a){let d="object"==typeof c.axisThreshold?c.axisThreshold[aZ(a)]:c.axisThreshold;b.axis=function([a,b],c){let d=Math.abs(a),e=Math.abs(b);return d>e&&d>c?"x":e>d&&e>c?"y":void 0}(b._movement,d)}b._blocked=(c.lockDirection||!!c.axis)&&!b.axis||!!c.axis&&c.axis!==b.axis}restrictToAxis(a){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":a[1]=0;break;case"y":a[0]=0}}}let a9=a=>a,ba={enabled:(a=!0)=>a,eventOptions:(a,b,c)=>aT(aT({},c.shared.eventOptions),a),preventDefault:(a=!1)=>a,triggerAllEvents:(a=!1)=>a,rubberband(a=0){switch(a){case!0:return[.15,.15];case!1:return[0,0];default:return aO.toVector(a)}},from:a=>"function"==typeof a?a:null!=a?aO.toVector(a):void 0,transform(a,b,c){let d=a||c.shared.transform;return this.hasCustomTransform=!!d,d||a9},threshold:a=>aO.toVector(a,0)},bb=0,bc=aT(aT({},ba),{},{axis(a,b,{axis:c}){if(this.lockDirection="lock"===c,!this.lockDirection)return c},axisThreshold:(a=bb)=>a,bounds(a={}){if("function"==typeof a)return b=>bc.bounds(a(b));if("current"in a)return()=>a.current;if("function"==typeof HTMLElement&&a instanceof HTMLElement)return a;let{left:b=-1/0,right:c=1/0,top:d=-1/0,bottom:e=1/0}=a;return[[b,c],[d,e]]}}),bd={ArrowRight:(a,b=1)=>[a*b,0],ArrowLeft:(a,b=1)=>[-1*a*b,0],ArrowUp:(a,b=1)=>[0,-1*a*b],ArrowDown:(a,b=1)=>[0,a*b]};class be extends a8{constructor(...a){super(...a),aR(this,"ingKey","dragging")}reset(){super.reset();let a=this.state;a._pointerId=void 0,a._pointerActive=!1,a._keyboardActive=!1,a._preventScroll=!1,a._delayed=!1,a.swipe=[0,0],a.tap=!1,a.canceled=!1,a.cancel=this.cancel.bind(this)}setup(){let a=this.state;if(a._bounds instanceof HTMLElement){let b=a._bounds.getBoundingClientRect(),c=a.currentTarget.getBoundingClientRect(),d={left:b.left-c.left+a.offset[0],right:b.right-c.right+a.offset[0],top:b.top-c.top+a.offset[1],bottom:b.bottom-c.bottom+a.offset[1]};a._bounds=bc.bounds(d)}}cancel(){let a=this.state;a.canceled||(a.canceled=!0,a._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(a){let b=this.config,c=this.state;if(null!=a.buttons&&(Array.isArray(b.pointerButtons)?!b.pointerButtons.includes(a.buttons):-1!==b.pointerButtons&&b.pointerButtons!==a.buttons))return;let d=this.ctrl.setEventIds(a);b.pointerCapture&&a.target.setPointerCapture(a.pointerId),d&&d.size>1&&c._pointerActive||(this.start(a),this.setupPointer(a),c._pointerId=a1(a),c._pointerActive=!0,this.computeValues(a2(a)),this.computeInitial(),b.preventScrollAxis&&"mouse"!==aZ(a)?(c._active=!1,this.setupScrollPrevention(a)):b.delay>0?(this.setupDelayTrigger(a),b.triggerAllEvents&&(this.compute(a),this.emit())):this.startPointerDrag(a))}startPointerDrag(a){let b=this.state;b._active=!0,b._preventScroll=!0,b._delayed=!1,this.compute(a),this.emit()}pointerMove(a){let b=this.state,c=this.config;if(!b._pointerActive)return;let d=a1(a);if(void 0!==b._pointerId&&d!==b._pointerId)return;let e=a2(a);if(document.pointerLockElement===a.target?b._delta=[a.movementX,a.movementY]:(b._delta=aO.sub(e,b._values),this.computeValues(e)),aO.addTo(b._movement,b._delta),this.compute(a),b._delayed&&b.intentional){this.timeoutStore.remove("dragDelay"),b.active=!1,this.startPointerDrag(a);return}if(c.preventScrollAxis&&!b._preventScroll)if(!b.axis)return;else if(b.axis===c.preventScrollAxis||"xy"===c.preventScrollAxis){b._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(a);return}this.emit()}pointerUp(a){this.ctrl.setEventIds(a);try{this.config.pointerCapture&&a.target.hasPointerCapture(a.pointerId)&&a.target.releasePointerCapture(a.pointerId)}catch(a){}let b=this.state,c=this.config;if(!b._active||!b._pointerActive)return;let d=a1(a);if(void 0!==b._pointerId&&d!==b._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(a);let[e,f]=b._distance;if(b.tap=e<=c.tapsThreshold&&f<=c.tapsThreshold,b.tap&&c.filterTaps)b._force=!0;else{let[a,d]=b._delta,[e,f]=b._movement,[g,h]=c.swipe.velocity,[i,j]=c.swipe.distance,k=c.swipe.duration;if(b.elapsedTime<k){let c=Math.abs(a/b.timeDelta),k=Math.abs(d/b.timeDelta);c>g&&Math.abs(e)>i&&(b.swipe[0]=Math.sign(a)),k>h&&Math.abs(f)>j&&(b.swipe[1]=Math.sign(d))}}this.emit()}pointerClick(a){!this.state.tap&&a.detail>0&&(a.preventDefault(),a.stopPropagation())}setupPointer(a){let b=this.config,c=b.device;b.pointerLock&&a.currentTarget.requestPointerLock(),b.pointerCapture||(this.eventStore.add(this.sharedConfig.window,c,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,c,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,c,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(a){this.state._preventScroll&&a.cancelable&&a.preventDefault()}setupScrollPrevention(a){var b;this.state._preventScroll=!1,"persist"in(b=a)&&"function"==typeof b.persist&&b.persist();let c=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",c),this.eventStore.add(this.sharedConfig.window,"touch","cancel",c),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,a)}setupDelayTrigger(a){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(a)},this.config.delay)}keyDown(a){let b=bd[a.key];if(b){let c=this.state,d=a.shiftKey?10:a.altKey?.1:1;this.start(a),c._delta=b(this.config.keyboardDisplacement,d),c._keyboardActive=!0,aO.addTo(c._movement,c._delta),this.compute(a),this.emit()}}keyUp(a){a.key in bd&&(this.state._keyboardActive=!1,this.setActive(),this.compute(a),this.emit())}bind(a){let b=this.config.device;a(b,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(a(b,"change",this.pointerMove.bind(this)),a(b,"end",this.pointerUp.bind(this)),a(b,"cancel",this.pointerUp.bind(this)),a("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(a("key","down",this.keyDown.bind(this)),a("key","up",this.keyUp.bind(this))),this.config.filterTaps&&a("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}let bf="undefined"!=typeof window&&window.document&&window.document.createElement;function bg(){return bf&&"ontouchstart"in window}let bh={isBrowser:bf,gesture:function(){try{return"constructor"in GestureEvent}catch(a){return!1}}(),touch:bg(),touchscreen:bg()||bf&&window.navigator.maxTouchPoints>1,pointer:bf&&"onpointerdown"in window,pointerLock:bf&&"exitPointerLock"in window.document},bi=10,bj={mouse:0,touch:0,pen:8},bk=aT(aT({},bc),{},{device(a,b,{pointer:{touch:c=!1,lock:d=!1,mouse:e=!1}={}}){return(this.pointerLock=d&&bh.pointerLock,bh.touch&&c)?"touch":this.pointerLock?"mouse":bh.pointer&&!e?"pointer":bh.touch?"touch":"mouse"},preventScrollAxis(a,b,{preventScroll:c}){if(this.preventScrollDelay="number"==typeof c?c:c||void 0===c&&a?250:void 0,bh.touchscreen&&!1!==c)return a||(void 0!==c?"y":void 0)},pointerCapture(a,b,{pointer:{capture:c=!0,buttons:d=1,keys:e=!0}={}}){return this.pointerButtons=d,this.keys=e,!this.pointerLock&&"pointer"===this.device&&c},threshold(a,b,{filterTaps:c=!1,tapsThreshold:d=3,axis:e}){let f=aO.toVector(a,c?d:+!!e);return this.filterTaps=c,this.tapsThreshold=d,f},swipe({velocity:a=.5,distance:b=50,duration:c=250}={}){return{velocity:this.transform(aO.toVector(a)),distance:this.transform(aO.toVector(b)),duration:c}},delay(a=0){switch(a){case!0:return 180;case!1:return 0;default:return a}},axisThreshold:a=>a?aT(aT({},bj),a):bj,keyboardDisplacement:(a=bi)=>a});function bl(a){let[b,c]=a.overflow,[d,e]=a._delta,[f,g]=a._direction;(b<0&&d>0&&f<0||b>0&&d<0&&f>0)&&(a._movement[0]=a._movementBound[0]),(c<0&&e>0&&g<0||c>0&&e<0&&g>0)&&(a._movement[1]=a._movementBound[1])}class bm extends a7{constructor(...a){super(...a),aR(this,"ingKey","pinching"),aR(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let a=this.state;a._touchIds=[],a.canceled=!1,a.cancel=this.cancel.bind(this),a.turns=0}computeOffset(){let{type:a,movement:b,lastOffset:c}=this.state;"wheel"===a?this.state.offset=aO.add(b,c):this.state.offset=[(1+b[0])*c[0],b[1]+c[1]]}computeMovement(){let{offset:a,lastOffset:b}=this.state;this.state.movement=[a[0]/b[0],a[1]-b[1]]}axisIntent(){let a=this.state,[b,c]=a._movement;if(!a.axis){let d=30*Math.abs(b)-Math.abs(c);d<0?a.axis="angle":d>0&&(a.axis="scale")}}restrictToAxis(a){this.config.lockDirection&&("scale"===this.state.axis?a[1]=0:"angle"===this.state.axis&&(a[0]=0))}cancel(){let a=this.state;a.canceled||setTimeout(()=>{a.canceled=!0,a._active=!1,this.compute(),this.emit()},0)}touchStart(a){this.ctrl.setEventIds(a);let b=this.state,c=this.ctrl.touchIds;if(b._active&&b._touchIds.every(a=>c.has(a))||c.size<2)return;this.start(a),b._touchIds=Array.from(c).slice(0,2);let d=a0(a,b._touchIds);d&&this.pinchStart(a,d)}pointerStart(a){if(null!=a.buttons&&a.buttons%2!=1)return;this.ctrl.setEventIds(a),a.target.setPointerCapture(a.pointerId);let b=this.state,c=b._pointerEvents,d=this.ctrl.pointerIds;if(b._active&&Array.from(c.keys()).every(a=>d.has(a))||(c.size<2&&c.set(a.pointerId,a),b._pointerEvents.size<2))return;this.start(a);let e=a_(...Array.from(c.values()));e&&this.pinchStart(a,e)}pinchStart(a,b){this.state.origin=b.origin,this.computeValues([b.distance,b.angle]),this.computeInitial(),this.compute(a),this.emit()}touchMove(a){if(!this.state._active)return;let b=a0(a,this.state._touchIds);b&&this.pinchMove(a,b)}pointerMove(a){let b=this.state._pointerEvents;if(b.has(a.pointerId)&&b.set(a.pointerId,a),!this.state._active)return;let c=a_(...Array.from(b.values()));c&&this.pinchMove(a,c)}pinchMove(a,b){let c=this.state,d=c._values[1],e=b.angle-d,f=0;Math.abs(e)>270&&(f+=Math.sign(e)),this.computeValues([b.distance,b.angle-360*f]),c.origin=b.origin,c.turns=f,c._movement=[c._values[0]/c._initial[0]-1,c._values[1]-c._initial[1]],this.compute(a),this.emit()}touchEnd(a){this.ctrl.setEventIds(a),this.state._active&&this.state._touchIds.some(a=>!this.ctrl.touchIds.has(a))&&(this.state._active=!1,this.compute(a),this.emit())}pointerEnd(a){let b=this.state;this.ctrl.setEventIds(a);try{a.target.releasePointerCapture(a.pointerId)}catch(a){}b._pointerEvents.has(a.pointerId)&&b._pointerEvents.delete(a.pointerId),b._active&&b._pointerEvents.size<2&&(b._active=!1,this.compute(a),this.emit())}gestureStart(a){a.cancelable&&a.preventDefault();let b=this.state;b._active||(this.start(a),this.computeValues([a.scale,a.rotation]),b.origin=[a.clientX,a.clientY],this.compute(a),this.emit())}gestureMove(a){if(a.cancelable&&a.preventDefault(),!this.state._active)return;let b=this.state;this.computeValues([a.scale,a.rotation]),b.origin=[a.clientX,a.clientY];let c=b._movement;b._movement=[a.scale-1,a.rotation],b._delta=aO.sub(b._movement,c),this.compute(a),this.emit()}gestureEnd(a){this.state._active&&(this.state._active=!1,this.compute(a),this.emit())}wheel(a){let b=this.config.modifierKey;(!b||(Array.isArray(b)?b.find(b=>a[b]):a[b]))&&(this.state._active?this.wheelChange(a):this.wheelStart(a),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(a){this.start(a),this.wheelChange(a)}wheelChange(a){"uv"in a||a.cancelable&&a.preventDefault();let b=this.state;b._delta=[-a3(a)[1]/100*b.offset[0],0],aO.addTo(b._movement,b._delta),bl(b),this.state.origin=[a.clientX,a.clientY],this.compute(a),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){let b=this.config.device;b&&(a(b,"start",this[b+"Start"].bind(this)),a(b,"change",this[b+"Move"].bind(this)),a(b,"end",this[b+"End"].bind(this)),a(b,"cancel",this[b+"End"].bind(this)),a("lostPointerCapture","",this[b+"End"].bind(this))),this.config.pinchOnWheel&&a("wheel","",this.wheel.bind(this),{passive:!1})}}let bn=aT(aT({},ba),{},{device(a,b,{shared:c,pointer:{touch:d=!1}={}}){if(c.target&&!bh.touch&&bh.gesture)return"gesture";if(bh.touch&&d)return"touch";if(bh.touchscreen){if(bh.pointer)return"pointer";if(bh.touch)return"touch"}},bounds(a,b,{scaleBounds:c={},angleBounds:d={}}){let e=a=>{let b=a6(a4(c,a),{min:-1/0,max:1/0});return[b.min,b.max]},f=a=>{let b=a6(a4(d,a),{min:-1/0,max:1/0});return[b.min,b.max]};return"function"!=typeof c&&"function"!=typeof d?[e(),f()]:a=>[e(a),f(a)]},threshold(a,b,c){return this.lockDirection="lock"===c.axis,aO.toVector(a,this.lockDirection?[.1,3]:0)},modifierKey:a=>void 0===a?"ctrlKey":a,pinchOnWheel:(a=!0)=>a});class bo extends a8{constructor(...a){super(...a),aR(this,"ingKey","moving")}move(a){this.config.mouseOnly&&"mouse"!==a.pointerType||(this.state._active?this.moveChange(a):this.moveStart(a),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(a){this.start(a),this.computeValues(a2(a)),this.compute(a),this.computeInitial(),this.emit()}moveChange(a){if(!this.state._active)return;let b=a2(a),c=this.state;c._delta=aO.sub(b,c._values),aO.addTo(c._movement,c._delta),this.computeValues(b),this.compute(a),this.emit()}moveEnd(a){this.state._active&&(this.state._active=!1,this.compute(a),this.emit())}bind(a){a("pointer","change",this.move.bind(this)),a("pointer","leave",this.moveEnd.bind(this))}}let bp=aT(aT({},bc),{},{mouseOnly:(a=!0)=>a});class bq extends a8{constructor(...a){super(...a),aR(this,"ingKey","scrolling")}scroll(a){this.state._active||this.start(a),this.scrollChange(a),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(a){a.cancelable&&a.preventDefault();let b=this.state,c=function(a){var b,c;let{scrollX:d,scrollY:e,scrollLeft:f,scrollTop:g}=a.currentTarget;return[null!=(b=null!=d?d:f)?b:0,null!=(c=null!=e?e:g)?c:0]}(a);b._delta=aO.sub(c,b._values),aO.addTo(b._movement,b._delta),this.computeValues(c),this.compute(a),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){a("scroll","",this.scroll.bind(this))}}class br extends a8{constructor(...a){super(...a),aR(this,"ingKey","wheeling")}wheel(a){this.state._active||this.start(a),this.wheelChange(a),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(a){let b=this.state;b._delta=a3(a),aO.addTo(b._movement,b._delta),bl(b),this.compute(a),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){a("wheel","",this.wheel.bind(this))}}class bs extends a8{constructor(...a){super(...a),aR(this,"ingKey","hovering")}enter(a){this.config.mouseOnly&&"mouse"!==a.pointerType||(this.start(a),this.computeValues(a2(a)),this.compute(a),this.emit())}leave(a){if(this.config.mouseOnly&&"mouse"!==a.pointerType)return;let b=this.state;if(!b._active)return;b._active=!1;let c=a2(a);b._movement=b._delta=aO.sub(c,b._values),this.computeValues(c),this.compute(a),b.delta=b.movement,this.emit()}bind(a){a("pointer","enter",this.enter.bind(this)),a("pointer","leave",this.leave.bind(this))}}let bt=aT(aT({},bc),{},{mouseOnly:(a=!0)=>a}),bu=new Map,bv=new Map;function bw(a){bu.set(a.key,a.engine),bv.set(a.key,a.resolver)}let bx={key:"drag",engine:be,resolver:bk},by={key:"hover",engine:bs,resolver:bt},bz={key:"move",engine:bo,resolver:bp},bA={key:"pinch",engine:bm,resolver:bn},bB={key:"scroll",engine:bq,resolver:bc},bC={key:"wheel",engine:br,resolver:bc},bD={target(a){if(a)return()=>"current"in a?a.current:a},enabled:(a=!0)=>a,window:(a=bh.isBrowser?window:void 0)=>a,eventOptions:({passive:a=!0,capture:b=!1}={})=>({passive:a,capture:b}),transform:a=>a},bE=["target","eventOptions","window","enabled","transform"];function bF(a={},b){let c={};for(let[d,e]of Object.entries(b))switch(typeof e){case"function":c[d]=e.call(c,a[d],d,a);break;case"object":c[d]=bF(a[d],e);break;case"boolean":e&&(c[d]=a[d])}return c}class bG{constructor(a,b){aR(this,"_listeners",new Set),this._ctrl=a,this._gestureKey=b}add(a,b,c,d,e){let f=this._listeners,g=function(a,b=""){let c=aU[a];return a+(c&&c[b]||b)}(b,c),h=aT(aT({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),e);a.addEventListener(g,d,h);let i=()=>{a.removeEventListener(g,d,h),f.delete(i)};return f.add(i),i}clean(){this._listeners.forEach(a=>a()),this._listeners.clear()}}class bH{constructor(){aR(this,"_timeouts",new Map)}add(a,b,c=140,...d){this.remove(a),this._timeouts.set(a,window.setTimeout(b,c,...d))}remove(a){let b=this._timeouts.get(a);b&&window.clearTimeout(b)}clean(){this._timeouts.forEach(a=>void window.clearTimeout(a)),this._timeouts.clear()}}class bI{constructor(a){aR(this,"gestures",new Set),aR(this,"_targetEventStore",new bG(this)),aR(this,"gestureEventStores",{}),aR(this,"gestureTimeoutStores",{}),aR(this,"handlers",{}),aR(this,"config",{}),aR(this,"pointerIds",new Set),aR(this,"touchIds",new Set),aR(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(a,b){b.drag&&bJ(a,"drag"),b.wheel&&bJ(a,"wheel"),b.scroll&&bJ(a,"scroll"),b.move&&bJ(a,"move"),b.pinch&&bJ(a,"pinch"),b.hover&&bJ(a,"hover")}(this,a)}setEventIds(a){if(aY(a))return this.touchIds=new Set(Array.from(a.touches).filter(b=>{var c,d;return b.target===a.currentTarget||(null==(c=a.currentTarget)||null==(d=c.contains)?void 0:d.call(c,b.target))}).map(a=>a.identifier)),this.touchIds;if("pointerId"in a)return"pointerup"===a.type||"pointercancel"===a.type?this.pointerIds.delete(a.pointerId):"pointerdown"===a.type&&this.pointerIds.add(a.pointerId),this.pointerIds}applyHandlers(a,b){this.handlers=a,this.nativeHandlers=b}applyConfig(a,b){this.config=function(a,b,c={}){let{target:d,eventOptions:e,window:f,enabled:g,transform:h}=a,i=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,bE);if(c.shared=bF({target:d,eventOptions:e,window:f,enabled:g,transform:h},bD),b){let a=bv.get(b);c[b]=bF(aT({shared:c.shared},i),a)}else for(let a in i){let b=bv.get(a);b&&(c[a]=bF(aT({shared:c.shared},i[a]),b))}return c}(a,b,this.config)}clean(){for(let a of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[a].clean(),this.gestureTimeoutStores[a].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...a){let b,c=this.config.shared,d={};if(!c.target||(b=c.target())){if(c.enabled){for(let c of this.gestures){let e=this.config[c],f=bK(d,e.eventOptions,!!b);e.enabled&&new(bu.get(c))(this,a,c).bind(f)}let e=bK(d,c.eventOptions,!!b);for(let b in this.nativeHandlers)e(b,"",c=>this.nativeHandlers[b](aT(aT({},this.state.shared),{},{event:c,args:a})),void 0,!0)}for(let a in d)d[a]=function(...a){return 0===a.length?a5:1===a.length?a[0]:function(){let b;for(let c of a)b=c.apply(this,arguments)||b;return b}}(...d[a]);if(!b)return d;for(let a in d){let{device:c,capture:e,passive:f}=function(a){let b=a.substring(2).toLowerCase(),c=!!~b.indexOf("passive");c&&(b=b.replace("passive",""));let d=aX.includes(b)?"capturecapture":"capture",e=!!~b.indexOf(d);return e&&(b=b.replace("capture","")),{device:b,capture:e,passive:c}}(a);this._targetEventStore.add(b,c,"",d[a],{capture:e,passive:f})}}}}function bJ(a,b){a.gestures.add(b),a.gestureEventStores[b]=new bG(a,b),a.gestureTimeoutStores[b]=new bH}let bK=(a,b,c)=>(d,e,f,g={},h=!1)=>{var i,j;let k=null!=(i=g.capture)?i:b.capture,l=null!=(j=g.passive)?j:b.passive,m=h?d:function(a,b="",c=!1){let d=aU[a],e=d&&d[b]||b;return"on"+aV(a)+aV(e)+(!function(a=!1,b){return a&&!aW.includes(b)}(c,e)?"":"Capture")}(d,e,k);c&&l&&(m+="Passive"),a[m]=a[m]||[],a[m].push(f)},bL=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function bM(a,b,c,d,e,f){if(!a.has(c)||!bu.has(d))return;let g=c+"Start",h=c+"End";e[d]=a=>{let d;return a.first&&g in b&&b[g](a),c in b&&(d=b[c](a)),a.last&&h in b&&b[h](a),d},f[d]=f[d]||{}}let bN={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:35},bO=(a,b,c)=>Math.min(Math.max(a,b),c);function bP({circles:a,onCircleClick:b,recommendedCircleId:c,fit:g=.5,fitBasis:h="auto",minRadius:i=600,maxRadius:j=1/0,padFactor:k=.25,overlayBlurColor:l="#060010",maxVerticalRotationDeg:m=bN.maxVerticalRotationDeg,dragSensitivity:n=bN.dragSensitivity,enlargeTransitionMs:o=bN.enlargeTransitionMs,segments:p=bN.segments,dragDampening:q=2}){var r,s;let t=(0,e.useRef)(null),u=(0,e.useRef)(null),v=(0,e.useRef)(null),w=(0,e.useRef)({x:0,y:0}),x=(0,e.useRef)({x:0,y:0}),y=(0,e.useRef)(null),z=(0,e.useRef)(!1),A=(0,e.useRef)(!1),B=(0,e.useRef)(null),C=(0,e.useRef)("mouse"),D=(0,e.useRef)(0),E=(0,e.useMemo)(()=>(function(a,b){let c=Array.from({length:b},(a,b)=>-37+2*b),d=[-4,-2,0,2,4],e=[-3,-1,1,3,5],f=c.flatMap((a,b)=>(b%2==0?d:e).map(b=>({x:a,y:b,sizeX:2.1,sizeY:2.1}))),g=f.length;if(0===a.length)return[];let h=Array.from({length:g},(b,c)=>a[c%a.length]);return f.map((a,b)=>({...a,circle:h[b]}))})(a,p),[a,p]),F=(a,b)=>{let c=v.current;c&&(c.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${a}deg) rotateY(${b}deg)`)},G=(0,e.useCallback)(()=>{B.current&&(cancelAnimationFrame(B.current),B.current=null)},[]),H=(0,e.useCallback)((a,b)=>{let c=80*bO(a,-1.4,1.4),d=80*bO(b,-1.4,1.4),e=0,f=bO(q??.6,0,1),g=.94+.055*f,h=.015-.01*f,i=Math.round(90+270*f),j=()=>{if(c*=g,d*=g,Math.abs(c)<h&&Math.abs(d)<h||++e>i){B.current=null;return}let a=bO(w.current.x-d/200,-m,m),b=((w.current.y+c/200+180)%360+360)%360-180;w.current={x:a,y:b},F(a,b),B.current=requestAnimationFrame(j)};G(),B.current=requestAnimationFrame(j)},[q,m,G]);r={onDragStart:({event:a})=>{G(),C.current=a.pointerType||"mouse","touch"===C.current&&a.preventDefault(),z.current=!0,A.current=!1,x.current={...w.current},y.current={x:a.clientX,y:a.clientY}},onDrag:({event:a,last:b,velocity:c=[0,0],direction:d=[0,0]})=>{if(!z.current||!y.current)return;"touch"===C.current&&a.preventDefault();let e=a.clientX-y.current.x,f=a.clientY-y.current.y;!A.current&&e*e+f*f>16&&(A.current=!0);let g=bO(x.current.x-f/n,-m,m),h=x.current.y+e/n;if((w.current.x!==g||w.current.y!==h)&&(w.current={x:g,y:h},F(g,h)),b){z.current=!1;let[a,b]=c,[e,f]=d,g=a*e,h=b*f;!A.current&&(Math.abs(g)>.005||Math.abs(h)>.005)&&H(g,h),y.current=null,A.current&&(D.current=performance.now()),A.current=!1}}},s={target:u,eventOptions:{passive:!1}},([bx,bA,bB,bC,bz,by].forEach(bw),function(a,b){let{handlers:c,nativeHandlers:d,config:e}=function(a,b){let[c,d,e]=function(a){let b={},c={},d=new Set;for(let e in a)bL.test(e)?(d.add(RegExp.lastMatch),c[e]=a[e]):b[e]=a[e];return[c,b,d]}(a),f={};return bM(e,c,"onDrag","drag",f,b),bM(e,c,"onWheel","wheel",f,b),bM(e,c,"onScroll","scroll",f,b),bM(e,c,"onPinch","pinch",f,b),bM(e,c,"onMove","move",f,b),bM(e,c,"onHover","hover",f,b),{handlers:f,config:b,nativeHandlers:d}}(a,b||{});return function(a,b={},c,d){let e=f().useMemo(()=>new bI(a),[]);if(e.applyHandlers(a,d),e.applyConfig(b,c),f().useEffect(e.effect.bind(e)),f().useEffect(()=>e.clean.bind(e),[]),void 0===b.target)return e.bind.bind(e)}(c,e,void 0,d)})(r,s||{});let I=`
    .sphere-root {
      --radius: 520px;
      --circ: calc(var(--radius) * 3.14);
      --rot-y: calc((360deg / var(--segments-x)) / 2);
      --rot-x: calc((360deg / var(--segments-y)) / 2);
      --item-width: calc(var(--circ) / var(--segments-x));
      --item-height: calc(var(--circ) / var(--segments-y));
    }
    
    .sphere-root * { box-sizing: border-box; }
    .sphere, .sphere-item, .item__card { transform-style: preserve-3d; }
    
    .stage {
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
      position: absolute;
      inset: 0;
      margin: auto;
      perspective: calc(var(--radius) * 2);
      perspective-origin: 50% 50%;
    }
    
    .sphere {
      transform: translateZ(calc(var(--radius) * -1));
      will-change: transform;
      position: absolute;
    }
    
    .sphere-item {
      width: calc(var(--item-width) * var(--item-size-x));
      height: calc(var(--item-height) * var(--item-size-y));
      position: absolute;
      top: -999px;
      bottom: -999px;
      left: -999px;
      right: -999px;
      margin: auto;
      transform-origin: 50% 50%;
      backface-visibility: hidden;
      transform: rotateY(calc(var(--rot-y) * (var(--offset-x) + ((var(--item-size-x) - 1) / 2)))) 
                 rotateX(calc(var(--rot-x) * (var(--offset-y) - ((var(--item-size-y) - 1) / 2)))) 
                 translateZ(var(--radius));
    }
    
    .item__card {
      position: absolute;
      inset: 10px;
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      backface-visibility: hidden;
      transition: transform 300ms;
      pointer-events: auto;
    }
  `;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:I}}),(0,d.jsx)("div",{ref:t,className:"sphere-root relative w-full h-full",style:{"--segments-x":p,"--segments-y":p,"--overlay-blur-color":l},children:(0,d.jsx)("main",{ref:u,className:"absolute inset-0 grid place-items-center overflow-hidden select-none bg-transparent",style:{touchAction:"none",WebkitUserSelect:"none"},children:(0,d.jsx)("div",{className:"stage",children:(0,d.jsx)("div",{ref:v,className:"sphere",children:E.map((a,e)=>(0,d.jsx)("div",{className:"sphere-item absolute m-auto","data-offset-x":a.x,"data-offset-y":a.y,"data-size-x":a.sizeX,"data-size-y":a.sizeY,style:{"--offset-x":a.x,"--offset-y":a.y,"--item-size-x":a.sizeX,"--item-size-y":a.sizeY},children:(0,d.jsx)("div",{className:"item__card bg-gradient-to-br from-gray-800 to-gray-900 hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-2xl border-0",onClick:()=>{z.current||A.current||performance.now()-D.current<80||b?.(a.circle)},children:(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center relative",children:[c===a.circle.id&&(0,d.jsx)("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full",style:{backgroundColor:"#00c2ff"},children:(0,d.jsx)("span",{className:"text-[9px] text-white font-semibold",children:"Recommand\xe9"})}),(0,d.jsx)("h3",{className:"text-lg font-bold line-clamp-2 leading-tight",style:{color:"#ffffff"},children:a.circle.name})]})})},`${a.x},${a.y},${e}`))})})})})]})}var bQ=c(80196),bR=c(36734),bS=c(25658),bT=c(71563),bU=c(22947),bV=c(29923);let bW=[{id:"req-1",name:"Alexandre Durand",faculty:"Polytechnique",sharedCourses:4,mutualBuddies:2,timeAgo:"Il y a 2h"},{id:"req-2",name:"Camille Rousseau",faculty:"HEC",sharedCourses:2,mutualBuddies:1,timeAgo:"Il y a 5h"}],bX=[{id:"user-sophie",name:"Sophie Martin",faculty:"Polytechnique",level:12,xpTotal:2450,streak:15,courses:["M\xe9canique","Thermodynamique"],status:"online",lastActivity:"Il y a 5 min",sharedCourses:3,progressThisWeek:85},{id:"user-marie",name:"Marie Dubois",faculty:"Sciences Po",level:8,xpTotal:1580,streak:7,courses:["\xc9lectrostatique","Maths"],status:"away",lastActivity:"Il y a 2h",sharedCourses:2,progressThisWeek:60},{id:"user-thomas",name:"Thomas Bernard",faculty:"ENS",level:18,xpTotal:4200,streak:30,courses:["Probabilit\xe9s","Analyse"],status:"online",lastActivity:"Maintenant",sharedCourses:4,progressThisWeek:95},{id:"user-emma",name:"Emma Laurent",faculty:"Sorbonne",level:10,xpTotal:1980,streak:12,courses:["Chimie","Physique"],status:"online",lastActivity:"Il y a 10 min",sharedCourses:2,progressThisWeek:70},{id:"user-lucas",name:"Lucas Petit",faculty:"CentraleSup\xe9lec",level:14,xpTotal:3100,streak:20,courses:["Info","Algorithmique"],status:"away",lastActivity:"Il y a 1h",sharedCourses:1,progressThisWeek:50},{id:"user-lea",name:"L\xe9a Moreau",faculty:"Paris-Dauphine",level:9,xpTotal:1750,streak:8,courses:["Stats","\xc9co"],status:"offline",lastActivity:"Il y a 5h",sharedCourses:2,progressThisWeek:40}],bY=[{id:"act-1",buddyId:"user-sophie",buddyName:"Sophie Martin",type:"lesson_completed",message:'a compl\xe9t\xe9 la le\xe7on "Loi de Gauss"',course:"\xc9lectrostatique",timeAgo:"Il y a 5 min",icon:"âœ…"},{id:"act-2",buddyId:"user-thomas",buddyName:"Thomas Bernard",type:"pack_unlocked",message:'a d\xe9bloqu\xe9 le pack "Probabilit\xe9s Avanc\xe9es"',course:"Math\xe9matiques",timeAgo:"Il y a 15 min",icon:"\uD83D\uDD13"},{id:"act-3",buddyId:"user-emma",buddyName:"Emma Laurent",type:"level_up",message:"est pass\xe9e au niveau 11 !",course:null,timeAgo:"Il y a 1h",icon:"\uD83C\uDF89"},{id:"act-4",buddyId:"user-marie",buddyName:"Marie Dubois",type:"course_started",message:'a commenc\xe9 le cours "Thermodynamique"',course:"Physique",timeAgo:"Il y a 2h",icon:"\uD83D\uDCDA"}],bZ=[{id:"sug-1",name:"Lucas Mercier",faculty:"Polytechnique",sharedCourses:5,mutualBuddies:3,reason:"5 cours en commun"},{id:"sug-2",name:"L\xe9a Moreau",faculty:"ENS",sharedCourses:4,mutualBuddies:4,reason:"4 buddies mutuels"},{id:"sug-3",name:"Hugo Lambert",faculty:"HEC",sharedCourses:3,mutualBuddies:2,reason:"M\xeame facult\xe9"},{id:"sug-4",name:"Chlo\xe9 Petit",faculty:"Sorbonne",sharedCourses:4,mutualBuddies:1,reason:"4 cours en commun"}];function b$({userId:a,userName:b}){let[c,f]=(0,e.useState)(""),[g,i]=(0,e.useState)("all"),[j,k]=(0,e.useState)(!1),l=bX.filter(a=>{let b=a.name.toLowerCase().includes(c.toLowerCase())||a.faculty.toLowerCase().includes(c.toLowerCase()),d="all"===g||a.status===g||"online"===g&&"away"===a.status;return b&&d});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center shadow-md",children:(0,d.jsx)(q.A,{className:"w-5 h-5 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:"Demandes en attente"}),(0,d.jsx)("span",{className:"bg-blue-600 text-white text-sm px-2 py-0.5 rounded-full font-bold",children:bW.length})]}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Nouveaux buddies potentiels"})]})]}),(0,d.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:bW.length>0?bW.map((a,b)=>(0,d.jsx)(h.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*b},className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-all",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,d.jsx)(bV.H,{name:a.name,size:"md"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:a.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[a.sharedCourses," cours communs"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,d.jsx)(h.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-gray-900 text-white rounded-full text-sm font-semibold hover:bg-gray-800 transition-all",children:"Accepter"}),(0,d.jsx)(h.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1.5 bg-white text-gray-500 rounded-lg hover:bg-gray-200 transition-all border border-gray-200",children:(0,d.jsx)(v.A,{className:"w-3.5 h-3.5"})})]})]})},a.id)):(0,d.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,d.jsx)(q.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,d.jsx)("p",{className:"text-sm",children:"Aucune demande en attente"})]})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.02), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-5",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center shadow-md",children:(0,d.jsx)(I.A,{className:"w-5 h-5 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:"Activit\xe9 r\xe9cente"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Ce que font tes buddies"})]})]})}),(0,d.jsx)("div",{className:"space-y-1 max-h-[300px] overflow-y-auto",children:bY.map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.03*b},className:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-all cursor-pointer",children:[(0,d.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,d.jsx)(bV.H,{name:a.buddyName,size:"sm"}),(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-sm border border-gray-100",children:(0,d.jsx)("span",{className:"text-sm",children:a.icon})})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("p",{className:"text-sm text-gray-900 leading-snug",children:[(0,d.jsx)("span",{className:"font-medium",children:a.buddyName})," ",(0,d.jsx)("span",{className:"text-gray-600 text-sm",children:a.message})]}),(0,d.jsx)("p",{className:"text-sm text-gray-400 mt-0.5",children:a.timeAgo})]})]},a.id))})]})]}),l.length>0&&(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-8 border border-gray-200",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.02), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center",children:(0,d.jsx)(J.A,{className:"w-5 h-5 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:"Suggestions pour toi"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"\xc9tudiants \xe0 d\xe9couvrir"})]})]})}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:bZ.map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05*b},whileHover:{y:-4,scale:1.02},className:"group relative bg-white rounded-xl p-6 border border-gray-100 hover:border-gray-300 transition-all overflow-hidden",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.03), 0 2px 4px rgba(0, 0, 0, 0.04)"},children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gray-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,d.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center",children:[(0,d.jsxs)("div",{className:"mb-4 relative",children:[(0,d.jsx)(bV.H,{name:a.name,size:"xl"}),(0,d.jsx)("div",{className:"absolute inset-0 rounded-full bg-gray-200/50 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,d.jsx)("h4",{className:"font-semibold text-gray-900 mb-1 tracking-tight",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500 font-medium mb-4",children:a.faculty}),(0,d.jsx)("div",{className:"w-full bg-gray-100 rounded-lg px-3 py-2 mb-4 border border-gray-200",children:(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-700",children:a.reason})}),(0,d.jsxs)(h.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full px-4 py-2.5 bg-gray-900 text-white rounded-full text-sm font-semibold hover:bg-gray-800 shadow-sm hover:shadow-md transition-all flex items-center justify-center gap-2",children:[(0,d.jsx)(D.A,{className:"w-4 h-4"}),"Ajouter"]})]})]},a.id))})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(ak.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher par nom ou facult\xe9...",value:c,onChange:a=>f(a.target.value),className:"w-full pl-12 pr-12 py-3.5 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all shadow-sm"}),c&&(0,d.jsx)(h.P.button,{initial:{scale:0},animate:{scale:1},onClick:()=>f(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-all",children:(0,d.jsx)(v.A,{className:"w-4 h-4"})})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.P.button,{onClick:()=>i("all"),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3.5 rounded-xl text-sm font-semibold transition-all shadow-sm ${"all"===g?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:"Tous"}),(0,d.jsxs)(h.P.button,{onClick:()=>i("online"),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3.5 rounded-xl text-sm font-semibold transition-all shadow-sm flex items-center gap-2 ${"online"===g?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:["online"===g&&(0,d.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"online"!==g&&(0,d.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full"}),"En ligne"]})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.02), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center shadow-md",children:(0,d.jsx)(q.A,{className:"w-5 h-5 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:"Mes buddies"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Tes connexions actives"})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.03*b},whileHover:{y:-2,borderColor:"#00c2ff"},className:"group relative bg-white rounded-2xl p-5 cursor-pointer overflow-hidden border border-gray-100 hover:shadow-md transition-all",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,d.jsx)(bV.H,{name:a.name,size:"lg",status:a.status}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"text-base font-semibold text-gray-900 truncate mb-0.5",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:a.faculty})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsxs)("span",{className:"text-xs font-medium text-gray-500 px-2.5 py-1.5 bg-gray-50 rounded-lg",children:[a.sharedCourses," cours en commun"]}),a.streak>0&&(0,d.jsxs)("span",{className:"text-xs font-medium text-gray-500 px-2.5 py-1.5 bg-gray-50 rounded-lg",children:["S\xe9rie de ",a.streak," jours"]}),(0,d.jsxs)("span",{className:"text-xs font-medium text-gray-500 px-2.5 py-1.5 bg-gray-50 rounded-lg",children:["Niveau ",a.level]})]})]},a.id))})]}),0===l.length&&(0,d.jsxs)("div",{className:"text-center py-20 bg-white rounded-xl border border-gray-200",children:[(0,d.jsx)(q.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun buddy trouv\xe9"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Essaie de modifier ta recherche"})]})]}),(0,d.jsx)(bU.N,{userId:a,isOpen:j,onClose:()=>k(!1)})]})}var b_=c(98770);let b0=(0,_.A)("video-off",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var b1=c(17792),b2=c(80878),b3=c(34487);let b4=(0,_.A)("phone-off",[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]]),b5=(0,_.A)("screen-share",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]]),b6=(0,_.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);class b7{static{this.XP_STORAGE_KEY="user_xp_v1"}static{this.BADGES_STORAGE_KEY="user_badges_v1"}static{this.ACTIVITIES_STORAGE_KEY="xp_activities_v1"}static{this.ACTIVITIES_KEY="xp_activities_v1"}static{this.XP_REWARDS={"study-room-join":10,"study-room-create":25,"study-room-complete":50,"lesson-complete":30,"quiz-perfect":40,"buddy-help":15,"course-complete":200,"daily-streak":20}}static{this.LEVEL_THRESHOLDS=[0,100,250,500,1e3,1750,2750,4e3,5500,7500,1e4,13e3,16500,20500,25e3,3e4,36e3,42500,5e4,58e3,67e3]}static{this.AVAILABLE_BADGES=[{id:"first-room",name:"Premi\xe8re Session",description:"Rejoins ta premi\xe8re Study Room",icon:"\uD83C\uDFA5",color:"bg-blue-500",rarity:"common",category:"study-rooms",maxProgress:1},{id:"room-creator",name:"Cr\xe9ateur de Communaut\xe9",description:"Cr\xe9e 5 Study Rooms",icon:"\uD83C\uDFD7ï¸",color:"bg-purple-500",rarity:"uncommon",category:"study-rooms",maxProgress:5},{id:"active-participant",name:"Participant Actif",description:"Participe \xe0 10 Study Rooms",icon:"âš¡",color:"bg-yellow-500",rarity:"rare",category:"study-rooms",maxProgress:10},{id:"marathon-student",name:"\xc9tudiant Marathon",description:"Passe 5 heures en Study Rooms en une semaine",icon:"\uD83C\uDFC3â€â™‚ï¸",color:"bg-orange-500",rarity:"epic",category:"study-rooms",maxProgress:300},{id:"social-butterfly",name:"Papillon Social",description:"Ajoute 5 buddies",icon:"\uD83E\uDD8B",color:"bg-pink-500",rarity:"common",category:"social",maxProgress:5},{id:"mentor",name:"Mentor",description:"Aide 10 buddies avec leurs questions",icon:"\uD83D\uDC68â€\uD83C\uDFEB",color:"bg-green-500",rarity:"rare",category:"social",maxProgress:10},{id:"perfectionist",name:"Perfectionniste",description:"Obtiens 100% \xe0 5 quiz cons\xe9cutifs",icon:"\uD83D\uDCAF",color:"bg-indigo-500",rarity:"epic",category:"progression",maxProgress:5},{id:"streak-master",name:"Ma\xeetre de la R\xe9gularit\xe9",description:"Maintiens une s\xe9rie de 7 jours cons\xe9cutifs",icon:"\uD83D\uDD25",color:"bg-red-500",rarity:"legendary",category:"progression",maxProgress:7}]}static getUserXP(a){let b=localStorage.getItem(`${this.XP_STORAGE_KEY}_${a}`);return b?parseInt(b,10):0}static getUserLevel(a){let b=this.getUserXP(a);return this.calculateLevel(b)}static getCurrentLevel(a){let b=this.getUserXP(a),c=this.calculateLevel(b),d=this.LEVEL_THRESHOLDS[c+1]||this.LEVEL_THRESHOLDS[this.LEVEL_THRESHOLDS.length-1],e=this.LEVEL_THRESHOLDS[c],f=d>e?(b-e)/(d-e)*100:100;return{level:c,currentXP:b,nextLevelXP:d,progress:Math.min(100,Math.max(0,f))}}static calculateLevel(a){for(let b=this.LEVEL_THRESHOLDS.length-1;b>=0;b--)if(a>=this.LEVEL_THRESHOLDS[b])return b;return 0}static getXPToNextLevel(a){let b=this.getUserXP(a),c=this.calculateLevel(b),d=this.LEVEL_THRESHOLDS[c+1];return d?d-b:0}static awardXP(a,b,c,d){let e=this.getUserXP(a),f=this.getUserLevel(a),g=this.XP_REWARDS[b],h=e+g;localStorage.setItem(`${this.XP_STORAGE_KEY}_${a}`,h.toString());let i={id:`xp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:a,type:b,xpEarned:g,description:d||`Activit\xe9: ${b}`,timestamp:new Date,relatedId:c};this.saveActivity(i);let j=this.calculateLevel(h),k=j>f;return this.checkAndUnlockBadges(a,b,c),{newXP:h,levelUp:k,newLevel:k?j:void 0}}static getUserBadges(a){let b=localStorage.getItem(`${this.BADGES_STORAGE_KEY}_${a}`);if(!b)return[];try{return JSON.parse(b).map(a=>({...a,unlockedAt:new Date(a.unlockedAt)}))}catch(a){return console.error("Erreur chargement badges:",a),[]}}static unlockBadge(a,b){let c=this.AVAILABLE_BADGES.find(a=>a.id===b);if(!c)return null;let d=this.getUserBadges(a);if(d.find(a=>a.id===b))return null;let e={...c,unlockedAt:new Date,progress:c.maxProgress||1},f=[...d,e];return localStorage.setItem(`${this.BADGES_STORAGE_KEY}_${a}`,JSON.stringify(f)),e}static updateBadgeProgress(a,b,c){let d=this.getUserBadges(a),e=d.find(a=>a.id===b);return e&&e.maxProgress?(e.progress=Math.min(c,e.maxProgress),localStorage.setItem(`${this.BADGES_STORAGE_KEY}_${a}`,JSON.stringify(d)),e):null}static checkAndUnlockBadges(a,b,c){let d=[],e=this.getUserActivities(a);if("study-room-join"===b){let b=e.filter(a=>"study-room-join"===a.type).length;if(1===b){let b=this.unlockBadge(a,"first-room");b&&d.push(b)}if(b>=10){let b=this.unlockBadge(a,"active-participant");b&&d.push(b)}}if("study-room-create"===b&&e.filter(a=>"study-room-create"===a.type).length>=5){let b=this.unlockBadge(a,"room-creator");b&&d.push(b)}if("quiz-perfect"===b&&e.filter(a=>"quiz-perfect"===a.type).length>=5){let b=this.unlockBadge(a,"perfectionist");b&&d.push(b)}return d}static saveActivity(a){let b=localStorage.getItem(this.ACTIVITIES_KEY),c=b?JSON.parse(b):[];c.push(a),c.length>1e3&&c.splice(0,c.length-1e3),localStorage.setItem(this.ACTIVITIES_KEY,JSON.stringify(c))}static getUserActivities(a,b=50){let c=localStorage.getItem(this.ACTIVITIES_KEY);if(!c)return[];try{return JSON.parse(c).filter(b=>b.userId===a).map(a=>({...a,timestamp:new Date(a.timestamp)})).sort((a,b)=>b.timestamp.getTime()-a.timestamp.getTime()).slice(0,b)}catch(a){return console.error("Erreur chargement activit\xe9s:",a),[]}}static getXPActivities(a,b=50){return this.getUserActivities(a,b)}static getRarityColor(a){return({common:"text-gray-600 bg-gray-100",uncommon:"text-green-600 bg-green-100",rare:"text-blue-600 bg-blue-100",epic:"text-purple-600 bg-purple-100",legendary:"text-yellow-600 bg-yellow-100"})[a]}static getLevelProgress(a){let b=this.getUserXP(a),c=this.calculateLevel(b),d=this.LEVEL_THRESHOLDS[c],e=this.LEVEL_THRESHOLDS[c+1]||d,f=b-d,g=e-d;return{current:c,next:c+1,percentage:Math.min(g>0?f/g*100:100,100)}}}class b8{static{this.STORAGE_KEY="enhanced_notifications_v1"}static{this.GROUPING_WINDOW_HOURS=24}static createBuddyInRoomNotification(a,b,c,d,e,f){return{id:`buddy-room-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"buddy-in-room",fromUserId:b,fromUserName:c,toUserId:a,title:"\uD83D\uDC4B Ton buddy est en Study Room !",message:`${c} a rejoint la session "${e}". Rejoins-le pour \xe9tudier ensemble !`,actionData:{buddyId:b,roomId:d,courseId:f},isRead:!1,createdAt:new Date,priority:"high"}}static createMultipleBuddiesInRoomNotification(a,b,c,d,e){let f=b.slice(0,2).map(a=>a.name).join(" et "),g=b.length-2;return{id:`multiple-buddies-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"multiple-buddies-in-room",fromUserId:b[0].id,fromUserName:b[0].name,toUserId:a,title:"\uD83D\uDD25 Tes buddies \xe9tudient ensemble !",message:`${f}${g>0?` et ${g} autre${g>1?"s":""}`:""} sont dans "${c}". C'est le moment id\xe9al pour les rejoindre !`,actionData:{roomId:d,courseId:e,groupedBuddies:b.map(a=>a.id)},isRead:!1,createdAt:new Date,priority:"high",isGrouped:!0,groupCount:b.length}}static createXPEarnedNotification(a,b,c,d){return{id:`xp-earned-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"xp-earned",fromUserId:"system",fromUserName:"Science Made Simple",toUserId:a,title:"âš¡ XP Gagn\xe9 !",message:`Tu as gagn\xe9 ${b} XP pour ${d}`,actionData:{xpAmount:b},isRead:!1,createdAt:new Date,priority:"normal"}}static createBadgeUnlockedNotification(a,b,c,d){return{id:`badge-unlocked-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"badge-unlocked",fromUserId:"system",fromUserName:"Science Made Simple",toUserId:a,title:"\uD83C\uDFC6 Nouveau Badge D\xe9bloqu\xe9 !",message:`F\xe9licitations ! Tu as d\xe9bloqu\xe9 le badge "${c}" ${d}`,actionData:{badgeId:b},isRead:!1,createdAt:new Date,priority:"high"}}static createCrossSellingNotification(a,b,c,d,e,f){return{id:`cross-sell-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"course-recommendation",fromUserId:b,fromUserName:c,toUserId:a,title:"\uD83D\uDCA1 Cours recommand\xe9 par ton buddy",message:`${c} suit "${e}". D\xe9bloquer maintenant pour ${f}â‚¬ ?`,actionData:{buddyId:b,courseId:d},isRead:!1,createdAt:new Date,expiresAt:new Date(Date.now()+6048e5),priority:"normal"}}static addNotificationWithGrouping(a){let b=this.getAllNotifications(a.toUserId);this.findGroupableNotification(b,a)&&"buddy-in-room"===a.type?this.groupBuddyInRoomNotifications(b,a):b.unshift(a);let c=b.filter(a=>!a.expiresAt||a.expiresAt>new Date);this.saveNotifications(c)}static findGroupableNotification(a,b){let c=new Date(Date.now()-60*this.GROUPING_WINDOW_HOURS*6e4);return a.find(a=>"buddy-in-room"===a.type&&"buddy-in-room"===b.type&&a.actionData?.roomId===b.actionData?.roomId&&a.createdAt>c&&!a.isRead)||null}static groupBuddyInRoomNotifications(a,b){let c=b.actionData?.roomId,d=b.actionData?.courseId,e=a.filter(a=>"buddy-in-room"===a.type&&a.actionData?.roomId===c&&!a.isRead);if(e.length>0){let f=[...e.map(a=>({id:a.fromUserId,name:a.fromUserName})),{id:b.fromUserId,name:b.fromUserName}],g=a.filter(a=>"buddy-in-room"!==a.type||a.actionData?.roomId!==c),h=this.createMultipleBuddiesInRoomNotification(b.toUserId,f,"Study Room",c,d);g.unshift(h),a.splice(0,a.length,...g)}else a.unshift(b)}static getAllNotifications(a){let b=localStorage.getItem(`${this.STORAGE_KEY}_${a}`);if(!b)return[];try{return JSON.parse(b).map(a=>({...a,createdAt:new Date(a.createdAt),expiresAt:a.expiresAt?new Date(a.expiresAt):void 0}))}catch(a){return console.error("Erreur chargement notifications:",a),[]}}static getUnreadCount(a){return this.getAllNotifications(a).filter(a=>!a.isRead).length}static markAsRead(a,b){let c=this.getAllNotifications(a),d=c.find(a=>a.id===b);d&&(d.isRead=!0,this.saveNotifications(c))}static markAllAsRead(a){let b=this.getAllNotifications(a);b.forEach(a=>a.isRead=!0),this.saveNotifications(b)}static addNotification(a){let b=localStorage.getItem(this.STORAGE_KEY),c=b?JSON.parse(b):[];c.push(a),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(c)),console.log("\uD83D\uDCE2 Notification ajout\xe9e:",a.title)}static deleteNotification(a,b){let c=this.getAllNotifications(a).filter(a=>a.id!==b);this.saveNotifications(c)}static saveNotifications(a){if(a.length>0){let b=a[0].toUserId;localStorage.setItem(`${this.STORAGE_KEY}_${b}`,JSON.stringify(a))}}static getNotificationsByType(a,b){return this.getAllNotifications(a).filter(a=>a.type===b)}static getNotificationStats(a){let b=this.getAllNotifications(a),c={total:b.length,unread:b.filter(a=>!a.isRead).length,byType:{},groupedCount:b.filter(a=>a.isGrouped).length};return b.forEach(a=>{c.byType[a.type]=(c.byType[a.type]||0)+1}),c}static simulateRealtimeUpdate(a){setTimeout(()=>{let b=[this.createBuddyInRoomNotification(a,"user_marie","Marie Dubois","room_123","Session Loi de Gauss","loi-gauss"),this.createXPEarnedNotification(a,25,"study-room-create","avoir cr\xe9\xe9 une Study Room")],c=b[Math.floor(Math.random()*b.length)];this.addNotificationWithGrouping(c)},5e3)}}class b9{static{this.DISCOVERY_WEIGHTS={commonCourses:.25,progressionSimilarity:.2,activityLevel:.15,studyTimeCompatibility:.15,socialCompatibility:.1,gamificationAlignment:.1,responsiveness:.05}}static discoverBuddies(a,b,c,d=10){console.log("\uD83D\uDD0D ADVANCED DISCOVERY: Recherche de buddies pour",b.name);let e=c.filter(c=>c.userId!==a&&!b.existingBuddies.includes(c.userId)).map(a=>({...this.convertToDiscoveryFormat(a),compatibilityScore:this.calculateAdvancedCompatibility(b,a),compatibilityReasons:this.getCompatibilityReasons(b,a)})).sort((a,b)=>b.compatibilityScore-a.compatibilityScore).slice(0,d);return console.log("âœ… Trouv\xe9",e.length,"candidats avec scores:",e.map(a=>({name:a.name,score:a.compatibilityScore.toFixed(2)}))),e}static calculateAdvancedCompatibility(a,b){let c={commonCourses:this.calculateCommonCoursesScore(a,b),progressionSimilarity:this.calculateProgressionSimilarity(a,b),activityLevel:this.calculateActivityCompatibility(a,b),studyTimeCompatibility:this.calculateStudyTimeCompatibility(a,b),socialCompatibility:this.calculateSocialCompatibility(a,b),gamificationAlignment:this.calculateGamificationAlignment(a,b),responsiveness:b.responsiveness/100},d=Object.entries(c).reduce((a,[b,c])=>a+c*this.DISCOVERY_WEIGHTS[b],0);return console.log(`ðŸ“Š Compatibilit\xe9 ${a.name} â†” ${b.name}:`,{scores:c,weightedScore:d.toFixed(3)}),d}static calculateCommonCoursesScore(a,b){let c=a.courses.filter(a=>b.courses.includes(a)),d=Math.max(a.courses.length,b.courses.length);return 0===d?0:Math.min(c.length/d+.2*(c.length>=3),1)}static calculateProgressionSimilarity(a,b){let c=Math.max(0,1-Math.abs(a.level-b.level)/20),d=a.courses.filter(a=>b.courses.includes(a)),e=0;if(d.length>0){let c=d.map(c=>{let d=a.completedLessons[c]||0,e=b.completedLessons[c]||0,f=Math.max(d,e,10);return 1-Math.abs(d-e)/f});e=c.reduce((a,b)=>a+b,0)/c.length}return .4*c+.6*e}static calculateActivityCompatibility(a,b){let c=Math.max(0,(Date.now()-a.lastActivity.getTime())/864e5);return .3*Math.max(0,1-c/7)+.3*Math.max(0,1-Math.max(0,(Date.now()-b.lastActivity.getTime())/864e5)/7)+.4*Math.max(0,1-Math.abs(a.averageSessionDuration-b.averageSessionDuration)/120)}static calculateStudyTimeCompatibility(a,b){let c=a.preferredStudyTimes.filter(a=>b.preferredStudyTimes.includes(a)),d=Math.max(a.preferredStudyTimes.length,b.preferredStudyTimes.length);return 0===d?.5:c.length/d}static calculateSocialCompatibility(a,b){return Math.min(1-Math.abs(a.helpfulness-b.helpfulness)/100+.2*(Math.max(a.existingBuddies.length,b.existingBuddies.length)>=5),1)}static calculateGamificationAlignment(a,b){let c=a.badges.filter(a=>b.badges.includes(a)),d=Math.max(a.badges.length,b.badges.length);if(0===d)return .5;let e=c.length/d;return .6*e+.4*(1-Math.min(Math.abs(a.totalXP-b.totalXP)/Math.max(a.totalXP,b.totalXP,1e3),1))}static getCompatibilityReasons(a,b){let c=[],d=a.courses.filter(a=>b.courses.includes(a));return d.length>=2&&c.push(`${d.length} cours en commun`),3>=Math.abs(a.level-b.level)&&c.push("Niveau similaire"),a.preferredStudyTimes.filter(a=>b.preferredStudyTimes.includes(a)).length>=2&&c.push("Horaires compatibles"),b.responsiveness>=80&&c.push("Tr\xe8s r\xe9actif"),b.helpfulness>=80&&c.push("Tr\xe8s serviable"),(Date.now()-b.lastActivity.getTime())/864e5<=1&&c.push("Actif r\xe9cemment"),c}static convertToDiscoveryFormat(a){return{userId:a.userId,name:a.name,avatar:a.avatar,faculty:a.faculty,commonCourses:[],mutualBuddies:0,isOnPlatform:!0,progressionSimilarity:0,recentActivity:(Date.now()-a.lastActivity.getTime())/864e5<=3,studyRoomCompatibility:Math.min(10*a.studyRoomParticipations,100)}}static generateMockProfiles(){return[{userId:"user_emma_advanced",name:"Emma Rousseau",avatar:"/avatars/emma.jpg",faculty:"Sciences",courses:["loi-gauss","integrales","analyse-math","mecanique"],completedLessons:{"loi-gauss":8,integrales:12,"analyse-math":5,mecanique:3},totalXP:2450,level:12,badges:["active-participant","perfectionist","social-butterfly"],lastActivity:new Date(Date.now()-72e5),studyRoomParticipations:15,studyRoomCreations:3,averageSessionDuration:90,preferredStudyTimes:["morning","afternoon"],existingBuddies:["user_1","user_2"],responsiveness:95,helpfulness:88},{userId:"user_lucas_advanced",name:"Lucas Dubois",avatar:"/avatars/lucas.jpg",faculty:"Sciences",courses:["mecanique","forces","equilibres","loi-gauss"],completedLessons:{mecanique:15,forces:10,equilibres:7,"loi-gauss":6},totalXP:1890,level:9,badges:["first-room","room-creator","mentor"],lastActivity:new Date(Date.now()-216e5),studyRoomParticipations:22,studyRoomCreations:8,averageSessionDuration:75,preferredStudyTimes:["evening","night"],existingBuddies:["user_3"],responsiveness:82,helpfulness:94},{userId:"user_chloe_advanced",name:"Chlo\xe9 Martin",avatar:"/avatars/chloe.jpg",faculty:"Sciences",courses:["integrales","analyse-math","suites-limites"],completedLessons:{integrales:20,"analyse-math":18,"suites-limites":14},totalXP:3200,level:16,badges:["perfectionist","marathon-student","active-participant","social-butterfly"],lastActivity:new Date(Date.now()-18e5),studyRoomParticipations:35,studyRoomCreations:12,averageSessionDuration:120,preferredStudyTimes:["afternoon","evening"],existingBuddies:["user_4","user_5","user_6"],responsiveness:98,helpfulness:92}]}static getMockUserProfile(a){return{userId:a,name:"Vous",faculty:"Sciences",courses:["loi-gauss","integrales","mecanique","forces"],completedLessons:{"loi-gauss":10,integrales:8,mecanique:5,forces:7},totalXP:b7.getUserXP(a),level:b7.calculateLevel(b7.getUserXP(a)),badges:b7.getUserBadges(a).map(a=>a.id),lastActivity:new Date,studyRoomParticipations:12,studyRoomCreations:2,averageSessionDuration:85,preferredStudyTimes:["afternoon","evening"],existingBuddies:[],responsiveness:85,helpfulness:78}}static debugCompatibility(a){console.log("\uD83D\uDD0D DEBUG ADVANCED BUDDY DISCOVERY");let b=this.getMockUserProfile(a),c=this.generateMockProfiles();console.log("\uD83D\uDC64 Profil utilisateur:",b),console.log("\uD83C\uDFAF Profils disponibles:",c.length);let d=this.discoverBuddies(a,b,c);console.log("âœ… R\xe9sultats de d\xe9couverte:",d),d.forEach(a=>{console.log(`ðŸ“Š ${a.name}: Score ${a.compatibilityScore?.toFixed(3)} - ${a.compatibilityReasons?.join(", ")}`)})}}class ca{static{this.STORAGE_KEY="buddies_system_v1"}static{this.INVITATIONS_KEY="buddy_invitations_v1"}static{this.NOTIFICATIONS_KEY="social_notifications_v1"}static getAllBuddies(a){let b=localStorage.getItem(this.STORAGE_KEY);if(!b){let b=this.generateMockBuddies(a);return this.saveBuddies(b),b.filter(b=>b.userId===a)}try{return JSON.parse(b).filter(b=>b.userId===a&&"accepted"===b.status)}catch(a){return console.error("Erreur lors du chargement des buddies:",a),[]}}static getPendingRequests(a){let b=localStorage.getItem(this.STORAGE_KEY);if(!b)return[];try{return JSON.parse(b).filter(b=>b.buddyId===a&&"pending"===b.status)}catch(a){return console.error("Erreur lors du chargement des demandes:",a),[]}}static sendBuddyRequest(a,b,c){let d={id:`buddy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:a,buddyId:b,type:c,status:"pending",createdAt:new Date,consents:{activity:"parent"!==c,notifications:!0,studyRoomInvites:"parent"!==c,planningAlerts:"parent"===c},buddyName:this.getUserName(b),buddyStatus:"offline",commonCourses:this.getCommonCourses(a,b)},e=this.loadAllBuddies();return e.push(d),this.saveBuddies(e),this.createSocialNotification({type:"buddy-request",fromUserId:a,fromUserName:this.getUserName(a),toUserId:b,title:"Nouvelle demande de Buddy",message:`${this.getUserName(a)} souhaite devenir votre ${this.getBuddyTypeLabel(c)}`,actionData:{buddyId:d.id},priority:"normal"}),d}static acceptBuddyRequest(a){let b=this.loadAllBuddies(),c=b.findIndex(b=>b.id===a);if(-1===c)return!1;let d=b[c];d.status="accepted",d.acceptedAt=new Date;let e={id:`buddy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:d.buddyId,buddyId:d.userId,type:d.type,status:"accepted",createdAt:new Date,acceptedAt:new Date,consents:d.consents,buddyName:this.getUserName(d.userId),buddyStatus:"online",commonCourses:d.commonCourses};return b[c]=d,b.push(e),this.saveBuddies(b),this.createSocialNotification({type:"buddy-accepted",fromUserId:d.buddyId,fromUserName:this.getUserName(d.buddyId),toUserId:d.userId,title:"Demande accept\xe9e !",message:`${this.getUserName(d.buddyId)} a accept\xe9 votre demande de Buddy`,actionData:{buddyId:a},priority:"normal"}),!0}static declineBuddyRequest(a){let b=this.loadAllBuddies(),c=b.findIndex(b=>b.id===a);return -1!==c&&(b[c].status="declined",this.saveBuddies(b),!0)}static createPhoneInvitation(a,b,c,d){let e={id:`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,inviterId:a,inviterName:this.getUserName(a),phone:b,token:Math.random().toString(36).substr(2,16),type:c,expiresAt:new Date(Date.now()+6048e5),createdAt:new Date,message:d},f=this.loadAllInvitations();return f.push(e),this.saveInvitations(f),e}static getInvitationByToken(a){return this.loadAllInvitations().find(b=>b.token===a&&!b.acceptedAt&&b.expiresAt>new Date)||null}static acceptInvitation(a,b){let c=this.loadAllInvitations(),d=c.findIndex(b=>b.token===a);if(-1===d)return!1;let e=c[d];return e.acceptedAt=new Date,this.sendBuddyRequest(e.inviterId,b,e.type),this.acceptBuddyRequest(this.loadAllBuddies().find(a=>a.userId===e.inviterId&&a.buddyId===b)?.id||""),c[d]=e,this.saveInvitations(c),!0}static generateInvitationLink(a){return`https://sms.app/invite/${a.token}`}static generateWhatsAppInvite(a){let b=this.generateInvitationLink(a),c=`Salut ! Je t'invite \xe0 me rejoindre sur Science Made Simple pour qu'on puisse travailler ensemble ðŸŽ“

Rejoins-moi ici : ${b}

\xc0 bient\xf4t ! ðŸ˜Š`;return`https://wa.me/?text=${encodeURIComponent(c)}`}static discoverUsers(a,b=""){let c=this.getAllBuddies(a).map(a=>a.buddyId);return[{userId:"user_marie",name:"Marie Dubois",avatar:"/avatars/marie.jpg",faculty:"Sciences",commonCourses:["loi-gauss","integrales"],mutualBuddies:2,isOnPlatform:!0},{userId:"user_pierre",name:"Pierre Martin",avatar:"/avatars/pierre.jpg",faculty:"Sciences",commonCourses:["mecanique","forces"],mutualBuddies:1,isOnPlatform:!0},{userId:"user_sophie",name:"Sophie Laurent",avatar:"/avatars/sophie.jpg",faculty:"Sciences",commonCourses:["equilibres"],mutualBuddies:0,isOnPlatform:!0}].filter(d=>d.userId!==a&&!c.includes(d.userId)&&(""===b||d.name.toLowerCase().includes(b.toLowerCase()))).sort((a,b)=>b.commonCourses.length-a.commonCourses.length)}static createSocialNotification(a){let b={id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...a,isRead:!1,createdAt:new Date},c=this.loadAllNotifications();return c.push(b),this.saveNotifications(c),b}static getSocialNotifications(a){return this.loadAllNotifications().filter(b=>b.toUserId===a).sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime())}static markNotificationAsRead(a){let b=this.loadAllNotifications(),c=b.findIndex(b=>b.id===a);return -1!==c&&(b[c].isRead=!0,this.saveNotifications(b),!0)}static getBuddyCourses(a){return({user_marie:["loi-gauss","integrales","analyse-math"],user_pierre:["mecanique","forces","suites-limites"],user_sophie:["equilibres","loi-gauss"],user_alex:["integrales","equilibres","mecanique"],user_lisa:["analyse-math","suites-limites"]})[a]||[]}static getCommonCourses(a,b){let c=this.getBuddyCourses(a),d=this.getBuddyCourses(b);return c.filter(a=>d.includes(a))}static getBuddyCrossSellingOpportunities(a){let b=this.getAllBuddies(a),c=[];return b.forEach(a=>{a.coursesNotOwned.forEach(b=>{let d=this.getCourseNameById(b);c.push({buddyId:a.buddyId,buddyName:a.buddyName,courseId:b,courseName:d,priceEuros:700})})}),c.slice(0,3)}static getImprovedBuddyDiscovery(a,b=10){console.log("\uD83D\uDD0D IMPROVED BUDDY DISCOVERY: Utilisation de l'algorithme avanc\xe9 pour",a);try{let c=b9.getMockUserProfile(a),d=b9.generateMockProfiles(),e=this.getAllBuddies(a).map(a=>a.buddyId),f=d.filter(a=>!e.includes(a.userId)),g=b9.discoverBuddies(a,c,f,b).map(a=>{let b=d.find(b=>b.userId===a.userId);if(b){let d=c.courses.filter(a=>b.courses.includes(a));return{...a,commonCourses:d,progressionSimilarity:Math.round(100*a.compatibilityScore),compatibilityReasons:a.compatibilityReasons||[]}}return a});return console.log("âœ… D\xe9couverte avanc\xe9e termin\xe9e:",g.length,"candidats"),g}catch(c){return console.error("âŒ Erreur dans la d\xe9couverte avanc\xe9e:",c),this.getFallbackBuddyDiscovery(a,b)}}static getFallbackBuddyDiscovery(a,b=10){return console.log("\uD83D\uDD04 FALLBACK: Utilisation de l'ancien algorithme"),[{userId:"user_sophie_new",name:"Sophie Dubois",avatar:"/avatars/sophie.jpg",faculty:"Sciences",commonCourses:["loi-gauss","integrales","analyse-math"],mutualBuddies:2,isOnPlatform:!0,progressionSimilarity:92,recentActivity:!0,studyRoomCompatibility:88},{userId:"user_alex_new",name:"Alex Moreau",avatar:"/avatars/alex.jpg",faculty:"Sciences",commonCourses:["mecanique","forces"],mutualBuddies:1,isOnPlatform:!0,progressionSimilarity:78,recentActivity:!0,studyRoomCompatibility:85},{userId:"user_lea",name:"L\xe9a Martinez",avatar:"/avatars/lea.jpg",faculty:"Sciences",commonCourses:["loi-gauss"],mutualBuddies:0,isOnPlatform:!0,progressionSimilarity:86,recentActivity:!1,studyRoomCompatibility:72}].map(a=>({...a,compatibilityScore:this.calculateCompatibilityScore(a)})).sort((a,b)=>b.compatibilityScore-a.compatibilityScore).slice(0,b)}static calculateCompatibilityScore(a){let b=.4*a.commonCourses.length,c=.3*a.progressionSimilarity/100;return b+c+(a.recentActivity?.2:.1)+.1*a.studyRoomCompatibility/100}static updateBuddyRealTimeStatus(a,b,c,d){let e=this.loadAllBuddies();e.forEach(e=>{e.buddyId===a&&(e.realTimeStatus=b,e.currentStudyRoomId=c,e.currentStudyRoomName=d,e.lastActivity=new Date)}),this.saveBuddies(e)}static getBuddiesInStudyRooms(a){return this.getAllBuddies(a).filter(a=>"in-study-room"===a.realTimeStatus&&a.currentStudyRoomId)}static getCourseNameById(a){return({"loi-gauss":"Loi de Gauss",integrales:"Int\xe9grales et Applications","analyse-math":"Analyse Math\xe9matique",mecanique:"M\xe9canique Classique",forces:"Forces et \xc9quilibres","suites-limites":"Suites et Limites",equilibres:"\xc9quilibres Chimiques","analyse-vectorielle":"Analyse Vectorielle","mecanique-quantique":"M\xe9canique Quantique","algebre-lineaire":"Alg\xe8bre Lin\xe9aire"})[a]||a}static getUserName(a){return({current_user:"Vous",user_marie:"Marie Dubois",user_pierre:"Pierre Martin",user_sophie:"Sophie Laurent",user_alex:"Alex Durand",user_lisa:"Lisa Chen",user_thomas:"Thomas Rousseau"})[a]||"Utilisateur Inconnu"}static getBuddyTypeLabel(a){return({parent:"parent/tuteur",friend:"ami",closeFriend:"ami proche"})[a]}static generateMockBuddies(a){return[{id:"buddy_1",userId:a,buddyId:"user_marie",type:"closeFriend",status:"accepted",createdAt:new Date(Date.now()-432e6),acceptedAt:new Date(Date.now()-432e6),consents:{activity:!0,notifications:!0,studyRoomInvites:!0,planningAlerts:!1},buddyName:"Marie Dubois",buddyAvatar:"/avatars/marie.jpg",buddyFaculty:"Sciences",buddyStatus:"in-study-room",commonCourses:["loi-gauss","integrales"],lastActivity:new Date(Date.now()-36e5),realTimeStatus:"in-study-room",currentStudyRoomId:"room_123",currentStudyRoomName:"Session Loi de Gauss",level:8,totalXP:1250,badges:[{id:"active-participant",name:"Participant Actif",description:"Participe \xe0 10 Study Rooms",icon:"âš¡",color:"bg-yellow-500",rarity:"rare",category:"study-rooms",unlockedAt:new Date(Date.now()-1728e5)}],progressionSimilarity:85,coursesNotOwned:["analyse-vectorielle","mecanique-quantique"]},{id:"buddy_2",userId:a,buddyId:"user_pierre",type:"friend",status:"accepted",createdAt:new Date(Date.now()-2592e5),acceptedAt:new Date(Date.now()-2592e5),consents:{activity:!0,notifications:!0,studyRoomInvites:!0,planningAlerts:!1},buddyName:"Pierre Martin",buddyAvatar:"/avatars/pierre.jpg",buddyFaculty:"Sciences",buddyStatus:"online",commonCourses:["mecanique"],lastActivity:new Date(Date.now()-18e5),realTimeStatus:"online",level:5,totalXP:680,badges:[{id:"first-room",name:"Premi\xe8re Session",description:"Rejoins ta premi\xe8re Study Room",icon:"\uD83C\uDFA5",color:"bg-blue-500",rarity:"common",category:"study-rooms",unlockedAt:new Date(Date.now()-6048e5)}],progressionSimilarity:72,coursesNotOwned:["algebre-lineaire"]}]}static loadAllBuddies(){let a=localStorage.getItem(this.STORAGE_KEY);return a?JSON.parse(a):[]}static saveBuddies(a){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}static loadAllInvitations(){let a=localStorage.getItem(this.INVITATIONS_KEY);return a?JSON.parse(a):[]}static saveInvitations(a){localStorage.setItem(this.INVITATIONS_KEY,JSON.stringify(a))}static loadAllNotifications(){let a=localStorage.getItem(this.NOTIFICATIONS_KEY);return a?JSON.parse(a):[]}static saveNotifications(a){localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(a))}static resetAllData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.INVITATIONS_KEY),localStorage.removeItem(this.NOTIFICATIONS_KEY)}static debugLog(){console.log("\uD83D\uDC65 Buddies:",this.loadAllBuddies()),console.log("\uD83D\uDCE9 Invitations:",this.loadAllInvitations()),console.log("\uD83D\uDD14 Notifications:",this.loadAllNotifications())}}class cb{static{this.STORAGE_KEY="advanced_study_rooms_v1"}static{this.PARTICIPANTS_KEY="study_room_participants_v1"}static{this.REPORTS_KEY="abuse_reports_v1"}static{this.DATA_VERSION=15}static checkStudyRoomAccess(a,b,c){let d=b.startsWith("course-")?b:`course-${b}`,e=this.getCoursePackId(b),f=e.startsWith("pack-")?e:`pack-${e}`,g=c.has(d)||c.has(f);return(console.log("\uD83D\uDD0D ACCESS CHECK:",{courseId:b,normalizedCourseId:d,packId:e,normalizedPackId:f,purchasedItems:Array.from(c),hasFullCourse:g}),g)?{canJoin:!0,canCreate:!0,hasFullCourse:!0}:{canJoin:!1,canCreate:!1,hasFullCourse:!1,reason:"Acc\xe8s Study Rooms r\xe9serv\xe9 aux possesseurs du cours complet",upgradeOptions:[{type:"course",itemId:b,title:`Cours Complet ${this.getCourseNameById(b)}`,price:700,features:["Acc\xe8s \xe0 toutes les le\xe7ons","Study Rooms illimit\xe9es","Sessions avec des experts","Replay des sessions"]},{type:"pack",itemId:this.getCoursePackId(b),title:`Pack Complet - ${this.getPackNameById(b)}`,price:1200,features:["Acc\xe8s \xe0 tous les cours du pack","Study Rooms premium","Coaching personnalis\xe9","Mentorat communautaire"]}]}}static getAllStudyRooms(a){let b=localStorage.getItem(this.STORAGE_KEY),c=`${this.STORAGE_KEY}_version`,d=localStorage.getItem(c),e=[];if(console.log("\uD83D\uDD0D STUDY ROOMS VERSION CHECK:",{storedVersion:d,currentVersion:this.DATA_VERSION,needsRegeneration:!b||d!==String(this.DATA_VERSION)}),b&&d===String(this.DATA_VERSION))try{e=JSON.parse(b),console.log("\uD83D\uDCE6 Study Rooms charg\xe9es depuis cache:",e.length,"rooms")}catch(a){console.error("Erreur lors du chargement des Study Rooms:",a),e=this.generateMockStudyRooms()}else console.log("\uD83D\uDD04 REGENERATING Study Rooms with version:",this.DATA_VERSION),e=this.generateMockStudyRooms(),this.saveStudyRooms(e),localStorage.setItem(c,String(this.DATA_VERSION)),console.log("âœ… Study Rooms r\xe9g\xe9n\xe9r\xe9es:",e.length,"rooms");return a&&(e=e.filter(b=>b.courseId===a)),e.sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime())}static getActiveStudyRooms(){return this.getAllStudyRooms().filter(a=>"live"===a.status)}static getStudyRoomById(a){return this.getAllStudyRooms().find(b=>b.id===a)||null}static createStudyRoom(a){let b=a.estimatedDuration||120,c=new Date(a.startsAt.getTime()+60*b*1e3),d={id:`room_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,courseName:this.getCourseNameById(a.courseId),status:a.startsAt<=new Date?"live":"scheduled",createdAt:new Date,endsAt:c,currentParticipants:[],invitedUsers:a.invitedUsers||[],tags:a.tags||(a.isComplement?["Compl\xe9ments"]:[]),isRecorded:a.enableRecording||!1,replayAddedToCourse:!1,abusiveReports:[],creatorAvatar:`/avatars/${a.createdBy}.jpg`,isComplement:a.isComplement||!1,enableRecording:a.enableRecording||!1,estimatedDuration:b,...a},e={id:`participant_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,roomId:d.id,userId:a.createdBy,userName:a.creatorName,userAvatar:d.creatorAvatar,role:"moderator",joinedAt:new Date,isBuddy:!1,isActive:!0,lastActivity:new Date};d.currentParticipants.push(e);let f=this.getAllStudyRooms();return f.push(d),this.saveStudyRooms(f),d.isComplement&&this.sendComplementNotifications(d),d}static joinStudyRoom(a,b,c,d=!1){let e=this.getAllStudyRooms(),f=e.findIndex(b=>b.id===a);if(-1===f)return!1;let g=e[f];if(g.currentParticipants.some(a=>a.userId===b&&!a.leftAt)||g.maxParticipants&&g.currentParticipants.filter(a=>!a.leftAt).length>=g.maxParticipants)return!1;let h={id:`participant_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,roomId:a,userId:b,userName:c,userAvatar:`/avatars/${b}.jpg`,role:"participant",joinedAt:new Date,isBuddy:d,isActive:!0,lastActivity:new Date};return g.currentParticipants.push(h),"scheduled"===g.status&&new Date>=g.startsAt&&(g.status="live",g.actualStartTime=new Date),e[f]=g,this.saveStudyRooms(e),!0}static leaveStudyRoom(a,b){let c=this.getAllStudyRooms(),d=c.findIndex(b=>b.id===a);if(-1===d)return!1;let e=c[d],f=e.currentParticipants.findIndex(a=>a.userId===b&&!a.leftAt);return -1!==f&&(e.currentParticipants[f].leftAt=new Date,e.currentParticipants[f].isActive=!1,0===e.currentParticipants.filter(a=>!a.leftAt).length&&(e.status="ended",e.actualEndTime=new Date),c[d]=e,this.saveStudyRooms(c),!0)}static reportAbuse(a){let b={id:`report_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"pending",createdAt:new Date,...a},c=this.getAllStudyRooms(),d=c.findIndex(b=>b.id===a.roomId);return -1!==d&&(c[d].abusiveReports.push(b),this.saveStudyRooms(c)),b}static kickParticipant(a,b,c){let d=this.getAllStudyRooms(),e=d.findIndex(b=>b.id===a);if(-1===e)return!1;let f=d[e];if(!f.currentParticipants.find(a=>a.userId===b&&"moderator"===a.role))return!1;let g=f.currentParticipants.findIndex(a=>a.userId===c);return -1!==g&&(f.currentParticipants[g].leftAt=new Date,f.currentParticipants[g].isActive=!1),d[e]=f,this.saveStudyRooms(d),!0}static addReplayToCourse(a,b){let c=this.getAllStudyRooms(),d=c.findIndex(b=>b.id===a);if(-1===d)return!1;let e=c[d];return e.recordingUrl=b,e.replayAddedToCourse=!0,c[d]=e,this.saveStudyRooms(c),!0}static getStudyRoomsWithBuddies(a,b){return this.getActiveStudyRooms().filter(a=>a.currentParticipants.some(a=>b.includes(a.userId)&&!a.leftAt))}static notifyStudentsOfLiveSession(a){let b=this.getStudyRoomById(a);return b?(console.log(`ðŸ“¢ Notification envoy\xe9e pour la Study Room "${b.title}" du cours ${b.courseName}`),["user_marie","user_pierre","user_sophie"]):[]}static getCourseNameById(a){return({"suites-limites":"Suites et Limites","loi-gauss":"Loi de Gauss",integrales:"Int\xe9grales et Applications",mecanique:"M\xe9canique Classique",equilibres:"\xc9quilibres Chimiques",forces:"Forces et Mouvement","analyse-math":"Analyse Math\xe9matique I"})[a]||"Cours Inconnu"}static getCoursePackId(a){return({"course-gauss":"pack-physique-q1","course-forces":"pack-physique-q1","course-suites":"pack-math-q1","course-integrales":"pack-math-q1","course-equilibres":"pack-chemistry","course-reactions":"pack-chemistry","loi-gauss":"pack-physics",forces:"pack-physics",equilibres:"pack-chemistry",mecanique:"pack-physics",integrales:"pack-mathematics","analyse-math":"pack-mathematics","suites-limites":"pack-mathematics"})[a]||"pack-physics"}static getPackNameById(a){return({"course-gauss":"Physique","course-forces":"Physique","course-suites":"Math\xe9matiques","course-integrales":"Math\xe9matiques","course-equilibres":"Chimie","course-reactions":"Chimie","loi-gauss":"Physique",forces:"Physique",equilibres:"Chimie",mecanique:"Physique",integrales:"Math\xe9matiques","analyse-math":"Math\xe9matiques","suites-limites":"Math\xe9matiques"})[a]||"Physique"}static generateMockStudyRooms(){let a=new Date,b=[],c=[{title:"D\xe9bat - Concepts Cl\xe9s",type:"interactive",desc:"Discussion ouverte sur les concepts du cours"},{title:"Session Pratique - Applications",type:"interactive",desc:"Mise en pratique des th\xe9ories"},{title:"Session Interactive - Q&A",type:"interactive",desc:"Questions-r\xe9ponses en groupe"},{title:"Atelier Collaboratif",type:"interactive",desc:"Travail d'\xe9quipe sur des exercices"}],d=[{userId:"user_marie",name:"Marie Dubois",avatar:"/avatars/marie.jpg"},{userId:"user_pierre",name:"Pierre Martin",avatar:"/avatars/pierre.jpg"},{userId:"user_sophie",name:"Sophie Laurent",avatar:"/avatars/sophie.jpg"},{userId:"user_alex",name:"Alex Durand",avatar:"/avatars/alex.jpg"}];[{courseId:"course-gauss",courseName:"Loi de Gauss",packId:"pack-physique-q1",packName:"Physique Q1"},{courseId:"course-forces",courseName:"Forces et Mouvement",packId:"pack-physique-q1",packName:"Physique Q1"},{courseId:"course-suites",courseName:"Suites et Limites",packId:"pack-math-q1",packName:"Math\xe9matiques Q1"},{courseId:"course-integrales",courseName:"Int\xe9grales et Applications",packId:"pack-math-q1",packName:"Math\xe9matiques Q1"},{courseId:"course-equilibres",courseName:"\xc9quilibres Chimiques",packId:"pack-chimie-q1",packName:"Chimie Q1"},{courseId:"course-reactions",courseName:"R\xe9actions Chimiques",packId:"pack-chimie-q1",packName:"Chimie Q1"},{courseId:"analyse-math",courseName:"Analyse Math\xe9matique I",packId:"pack-mathematiques",packName:"Math\xe9matiques Avanc\xe9es"},{courseId:"mecanique",courseName:"M\xe9canique Classique",packId:"pack-sciences",packName:"Sciences Exp\xe9rimentales"}].forEach((e,f)=>{c.slice(0,2).forEach((c,g)=>{let h=d[Math.floor(Math.random()*d.length)],i=`room_${e.packId}_${e.courseId}_${g+1}`,j=0===g&&f<3,k=!j&&Math.random()>.5,l={id:i,courseId:e.courseId,courseName:e.courseName,title:`${c.title} - ${e.courseName}`,description:`${c.desc} | Pack: ${e.packName}`,type:c.type,visibility:"public",status:j?"live":k?"scheduled":"ended",createdBy:h.userId,creatorName:h.name,creatorAvatar:h.avatar,createdAt:new Date(a.getTime()-(f+1)*72e5),startsAt:new Date(j?a.getTime()-36e5:a.getTime()+(g+1)*72e5),endsAt:new Date(j?a.getTime()+36e5:a.getTime()+(g+2)*72e5),actualStartTime:j?new Date(a.getTime()-36e5):void 0,maxParticipants:"silent"===c.type?8:6,currentParticipants:j?[{id:`part_${i}_1`,roomId:i,userId:h.userId,userName:h.name,userAvatar:h.avatar,role:"moderator",joinedAt:new Date(a.getTime()-33e5),isBuddy:f<=1,isActive:!0,lastActivity:new Date(a.getTime()-60*Math.floor(10*Math.random())*1e3)},...f<=1?[{id:`part_${i}_2`,roomId:i,userId:"user_marie",userName:"Marie Dubois",userAvatar:"/avatars/marie.jpg",role:"participant",joinedAt:new Date(a.getTime()-24e5),isBuddy:!0,isActive:!0,lastActivity:new Date(a.getTime()-3e5)},{id:`part_${i}_3`,roomId:i,userId:"user_pierre",userName:"Pierre Martin",userAvatar:"/avatars/pierre.jpg",role:"participant",joinedAt:new Date(a.getTime()-18e5),isBuddy:!0,isActive:!0,lastActivity:new Date(a.getTime()-12e4)}]:[]]:[],invitedUsers:k?["user_marie","user_sophie"]:[],tags:["silent"===c.type?"focus":"discussion","pack",e.packName.toLowerCase()],isRecorded:"interactive"===c.type,replayAddedToCourse:!1,abusiveReports:[],isComplement:!1,hasActiveBuddies:f<=1||j&&Math.random()>.5,buddyCount:f<=1?2:j?Math.floor(3*Math.random()):0,xpReward:"interactive"===c.type?30:20};b.push(l)})}),[{courseId:"course-gauss",courseName:"Loi de Gauss",title:"Session Focus - Exercices Silencieux",desc:"Travail individuel concentr\xe9 sur les exercices"},{courseId:"course-suites",courseName:"Suites et Limites",title:"Focus Groupe - R\xe9visions",desc:"Session silencieuse pour r\xe9viser en profondeur"},{courseId:"course-forces",courseName:"Forces et Mouvement",title:"Session Interactive - Forces et Dynamique",desc:"R\xe9solution d'exercices de forces et dynamique en groupe"}].forEach((c,e)=>{let f=d[e%d.length],g=`room_silent_${c.courseId}_${e}`,h=0===e,i=2===e,j={id:g,courseId:c.courseId,courseName:c.courseName,title:c.title,description:c.desc,type:i?"interactive":"silent",visibility:"public",status:h?"live":"scheduled",createdBy:f.userId,creatorName:f.name,creatorAvatar:f.avatar,createdAt:new Date(a.getTime()-3*e*36e5),startsAt:new Date(h?a.getTime()-18e5:i?a.getTime()+9e5:a.getTime()+(e+1)*18e6),endsAt:new Date(h?a.getTime()+54e5:i?a.getTime()+45e5:a.getTime()+(e+2)*18e6),actualStartTime:h?new Date(a.getTime()-18e5):void 0,maxParticipants:i?10:8,currentParticipants:0===e?[{id:`part_${g}_1`,roomId:g,userId:f.userId,userName:f.name,userAvatar:f.avatar,role:"moderator",joinedAt:new Date(a.getTime()-15e5),isBuddy:!1,isActive:!0,lastActivity:new Date(a.getTime()-3e5)},{id:`part_${g}_2`,roomId:g,userId:"user_marie",userName:"Marie Dubois",userAvatar:"/avatars/marie.jpg",role:"participant",joinedAt:new Date(a.getTime()-12e5),isBuddy:!0,isActive:!0,lastActivity:new Date(a.getTime()-12e4)},{id:`part_${g}_3`,roomId:g,userId:"user_pierre",userName:"Pierre Martin",userAvatar:"/avatars/pierre.jpg",role:"participant",joinedAt:new Date(a.getTime()-9e5),isBuddy:!0,isActive:!0,lastActivity:new Date(a.getTime()-6e4)}]:[],invitedUsers:i?["user_sophie","user_lucas"]:[],tags:i?["interactive","groupe","dynamique"]:["focus","silent","revision"],isRecorded:!!i,replayAddedToCourse:!1,abusiveReports:[],isComplement:!1,hasActiveBuddies:0===e||!!i,buddyCount:0===e?2:2*!!i,xpReward:i?30:20};b.push(j)});let e=[{id:"complement_gauss_live",courseId:"course-gauss",courseName:"Loi de Gauss",title:"\uD83C\uDF93 Session Compl\xe9ments avec Zak - Applications du Th\xe9or\xe8me de Gauss",description:"Session exclusive EN DIRECT avec le fondateur : ma\xeetrisez les applications avanc\xe9es du th\xe9or\xe8me de Gauss",type:"interactive",visibility:"public",status:"live",createdBy:"founder-zak",creatorName:"Zak (Fondateur)",creatorAvatar:"/avatars/zak.jpg",createdAt:new Date(a.getTime()-9e5),startsAt:new Date(a.getTime()-6e5),endsAt:new Date(a.getTime()+3e6),actualStartTime:new Date(a.getTime()-6e5),maxParticipants:50,currentParticipants:[{id:"part_comp_live_1",roomId:"complement_gauss_live",userId:"founder-zak",userName:"Zak (Fondateur)",userAvatar:"/avatars/zak.jpg",role:"moderator",joinedAt:new Date(a.getTime()-6e5),isBuddy:!1,isActive:!0,lastActivity:new Date(a.getTime()-3e4)},{id:"part_comp_live_2",roomId:"complement_gauss_live",userId:"user_sophie",userName:"Sophie Laurent",userAvatar:"/avatars/sophie.jpg",role:"participant",joinedAt:new Date(a.getTime()-48e4),isBuddy:!0,isActive:!0,lastActivity:new Date(a.getTime()-15e3)},{id:"part_comp_live_3",roomId:"complement_gauss_live",userId:"user_lucas",userName:"Lucas M.",userAvatar:"/avatars/lucas.jpg",role:"participant",joinedAt:new Date(a.getTime()-3e5),isBuddy:!1,isActive:!0,lastActivity:new Date(a.getTime()-1e4)}],invitedUsers:[],tags:["complement","live","zak"],isRecorded:!0,replayUrl:void 0,replayAddedToCourse:!1,abusiveReports:[],isComplement:!0,hasActiveBuddies:!0,buddyCount:1,xpReward:100},{id:"complement_loi_gauss_1",courseId:"course-gauss",courseName:"Loi de Gauss",title:"\uD83C\uDF93 Session Compl\xe9ments avec Zak - M\xe9thode de r\xe9solution avanc\xe9e",description:"Session exclusive avec le fondateur : d\xe9couvrez les astuces pour ma\xeetriser les calculs de champ \xe9lectrique complexes",type:"interactive",visibility:"public",status:"ended",createdBy:"founder-zak",creatorName:"Zak (Fondateur)",creatorAvatar:"/avatars/zak.jpg",createdAt:new Date(a.getTime()-6048e5),startsAt:new Date(a.getTime()-6048e5+72e5),endsAt:new Date(a.getTime()-6048e5+108e5),actualStartTime:new Date(a.getTime()-6048e5+72e5),actualEndTime:new Date(a.getTime()-6048e5+108e5),maxParticipants:50,currentParticipants:[],invitedUsers:[],tags:["compl\xe9ments","zak","fondateur","masterclass"],isRecorded:!0,enableRecording:!0,replayAddedToCourse:!0,recordingUrl:"/replays/complement-gauss-1.mp4",abusiveReports:[],isComplement:!0,hasActiveBuddies:!1,buddyCount:0,xpReward:50},{id:"complement_suites_limites_1",courseId:"course-suites",courseName:"Suites et Limites",title:"\uD83C\uDF93 Session Compl\xe9ments avec Zak - Techniques de convergence",description:"Masterclass exclusive : apprenez les techniques avanc\xe9es pour d\xe9montrer la convergence des suites",type:"interactive",visibility:"public",status:"live",createdBy:"founder-zak",creatorName:"Zak (Fondateur)",creatorAvatar:"/avatars/zak.jpg",createdAt:new Date(a.getTime()-18e5),startsAt:new Date(a.getTime()-9e5),endsAt:new Date(a.getTime()+27e5),actualStartTime:new Date(a.getTime()-9e5),maxParticipants:50,currentParticipants:[{id:"part_complement_1",roomId:"complement_suites_limites_1",userId:"founder-zak",userName:"Zak (Fondateur)",userAvatar:"/avatars/zak.jpg",role:"moderator",joinedAt:new Date(a.getTime()-9e5),isBuddy:!1,isActive:!0,lastActivity:new Date(a.getTime()-6e4)}],invitedUsers:[],tags:["compl\xe9ments","zak","fondateur","masterclass","live"],isRecorded:!0,enableRecording:!0,replayAddedToCourse:!1,abusiveReports:[],isComplement:!0,hasActiveBuddies:!1,buddyCount:0,xpReward:50},{id:"complement_integrales_1",courseId:"course-integrales",courseName:"Int\xe9grales et Applications",title:"\uD83C\uDF93 Session Compl\xe9ments avec Zak - Int\xe9gration par parties avanc\xe9e",description:"Session sp\xe9ciale : d\xe9couvrez les cas particuliers et les astuces pour l'int\xe9gration par parties",type:"interactive",visibility:"public",status:"scheduled",createdBy:"founder-zak",creatorName:"Zak (Fondateur)",creatorAvatar:"/avatars/zak.jpg",createdAt:new Date(a.getTime()-864e5),startsAt:new Date(a.getTime()+2592e5),endsAt:new Date(a.getTime()+2592e5+54e5),maxParticipants:50,currentParticipants:[],invitedUsers:[],tags:["compl\xe9ments","zak","fondateur","masterclass","\xe0-venir"],isRecorded:!0,enableRecording:!0,replayAddedToCourse:!1,abusiveReports:[],isComplement:!0,hasActiveBuddies:!1,buddyCount:0,xpReward:50}];b.unshift(...e),console.log("\uD83C\uDF93 MOCK STUDY ROOMS GENERATED:",{total:b.length,byStatus:{live:b.filter(a=>"live"===a.status).length,scheduled:b.filter(a=>"scheduled"===a.status).length,ended:b.filter(a=>"ended"===a.status).length},complements:b.filter(a=>a.isComplement).length,withBuddies:b.filter(a=>a.buddyCount>0).length,courses:[...new Set(b.map(a=>a.courseId))]});let f=b.sort((a,b)=>{if(a.isComplement&&!b.isComplement)return -1;if(!a.isComplement&&b.isComplement)return 1;let c={live:0,scheduled:1,ended:2,cancelled:3};return c[a.status]-c[b.status]});return console.log("\uD83D\uDCCB TOP 5 STUDY ROOMS:",f.slice(0,5).map(a=>({id:a.id,course:a.courseId,name:a.courseName,status:a.status,isComplement:a.isComplement,buddyCount:a.buddyCount}))),f}static saveStudyRooms(a){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}static sendComplementNotifications(a){let b=`ðŸ“š Nouvelle session "Compl\xe9ments" disponible : ${a.title}`;console.log(`ðŸ”” Notification Study Room "Compl\xe9ments" envoy\xe9e:`),console.log(`ðŸ“§ Email push envoy\xe9 \xe0 tous les \xe9tudiants du cours "${a.courseName}"`),console.log(`ðŸ“± Notification mobile: ${b}`),console.log(`â° D\xe9but: ${a.startsAt.toLocaleString("fr-FR")}`),console.log(`ðŸŽ¯ Type: ${"silent"===a.type?"Silencieuse (focus)":"Interactive (\xe9change)"}`),console.log(`ðŸ‘¥ Visibilit\xe9: ${"public"===a.visibility?"Publique":"buddies"===a.visibility?"Buddies uniquement":"Priv\xe9e"}`),console.log(`ðŸŽ¬ Enregistrement: ${a.enableRecording?"Activ\xe9 (replay ajout\xe9 au cours)":"D\xe9sactiv\xe9"}`)}static resetData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.PARTICIPANTS_KEY),localStorage.removeItem(this.REPORTS_KEY),console.log("âœ… Donn\xe9es des Study Rooms r\xe9initialis\xe9es")}static refreshStudyRooms(){localStorage.removeItem(this.STORAGE_KEY);let a=this.generateMockStudyRooms();return this.saveStudyRooms(a),console.log(`âœ… ${a.length} Study Rooms r\xe9g\xe9n\xe9r\xe9es pour tous les packs`),a}static debugLog(){let a=this.getAllStudyRooms();console.log("\uD83C\uDFE2 Study Rooms:",a),console.log(`ðŸ“Š Total: ${a.length} rooms`),console.log(`ðŸŸ¢ Live: ${a.filter(a=>"live"===a.status).length}`),console.log(`ðŸ“… Scheduled: ${a.filter(a=>"scheduled"===a.status).length}`),console.log(`â¹ï¸ Ended: ${a.filter(a=>"ended"===a.status).length}`);let b={};a.forEach(a=>{let c=a.tags.find(a=>a.includes("q1")||a.includes("mathematiques")||a.includes("sciences")||a.includes("\xe9lectrostatique"))||"autre";b[c]=(b[c]||0)+1}),console.log("\uD83D\uDCE6 Par pack:",b)}}class cc{static{this.NOTIFICATION_COOLDOWN_MINUTES=30}static{this.LAST_NOTIFICATION_KEY="buddy_room_notifications_v1"}static notifyBuddyJoinedStudyRoom(a,b,c,d,e){console.log("\uD83D\uDD14 BUDDY ROOM NOTIFICATION: Buddy rejoint room",{buddyId:a,buddyName:b,roomId:c,roomName:d,courseId:e});let f=ca.loadAllBuddies().filter(b=>b.buddyId===a&&"accepted"===b.status&&b.consents.studyRoomInvites&&b.commonCourses.includes(e)).map(a=>a.userId);console.log("\uD83D\uDC65 Utilisateurs \xe0 notifier:",f),f.forEach(f=>{if(this.isInCooldown(f,c))return void console.log("â° Notification en cooldown pour",f,c);let g=b8.createBuddyInRoomNotification(f,a,b,c,d,e);b8.addNotificationWithGrouping(g),this.recordNotification(f,c),console.log("âœ… Notification envoy\xe9e \xe0",f,"pour buddy",b)})}static notifyMultipleBuddiesInRoom(a,b,c,d){console.log("\uD83D\uDD14 MULTIPLE BUDDIES NOTIFICATION:",{roomId:a,roomName:b,courseId:c,buddiesCount:d.length});let e=ca.loadAllBuddies(),f=new Map;e.filter(a=>"accepted"===a.status&&a.consents.studyRoomInvites&&a.commonCourses.includes(c)&&d.some(b=>b.id===a.buddyId)).forEach(a=>{let b=d.find(b=>b.id===a.buddyId);b&&(f.has(a.userId)||f.set(a.userId,[]),f.get(a.userId).push(b))}),f.forEach((d,e)=>{if(d.length>=2){if(this.isInCooldown(e,a,"multiple"))return;let f=b8.createMultipleBuddiesInRoomNotification(e,d,b,a,c);b8.addNotificationWithGrouping(f),this.recordNotification(e,a,"multiple"),console.log("âœ… Notification group\xe9e envoy\xe9e \xe0",e,"pour",d.length,"buddies")}})}static monitorStudyRoomActivity(){console.log("\uD83D\uDD0D MONITORING: Surveillance des Study Rooms activ\xe9e"),setInterval(()=>{this.checkForNewBuddyActivity()},3e4)}static checkForNewBuddyActivity(){cb.getAllStudyRooms().filter(a=>"live"===a.status).forEach(a=>{let b=a.currentParticipants.filter(a=>a.isBuddy&&!a.leftAt).map(a=>({id:a.userId,name:a.userName}));if(1===b.length){let c=b[0];this.notifyBuddyJoinedStudyRoom(c.id,c.name,a.id,a.title,a.courseId)}else b.length>=2&&this.notifyMultipleBuddiesInRoom(a.id,a.title,a.courseId,b)})}static isInCooldown(a,b,c="single"){let d=`${a}-${b}-${c}`,e=localStorage.getItem(this.LAST_NOTIFICATION_KEY);if(!e)return!1;try{let a=JSON.parse(e)[d];if(!a)return!1;let b=60*this.NOTIFICATION_COOLDOWN_MINUTES*1e3;return Date.now()-a<b}catch(a){return console.error("Erreur lecture cooldown notifications:",a),!1}}static recordNotification(a,b,c="single"){let d=`${a}-${b}-${c}`,e=localStorage.getItem(this.LAST_NOTIFICATION_KEY),f={};if(e)try{f=JSON.parse(e)}catch(a){console.error("Erreur parsing cooldown notifications:",a)}f[d]=Date.now(),localStorage.setItem(this.LAST_NOTIFICATION_KEY,JSON.stringify(f))}static debugNotifications(){console.log("\uD83D\uDD14 BUDDY ROOM NOTIFICATIONS DEBUG:"),console.log("- Cooldown minutes:",this.NOTIFICATION_COOLDOWN_MINUTES),console.log("- Storage key:",this.LAST_NOTIFICATION_KEY);let a=localStorage.getItem(this.LAST_NOTIFICATION_KEY);a&&console.log("- Derni\xe8res notifications:",JSON.parse(a))}static resetCooldowns(){localStorage.removeItem(this.LAST_NOTIFICATION_KEY),console.log("âœ… Cooldowns des notifications buddy rooms r\xe9initialis\xe9s")}static onUserJoinedWebRTCRoom(a,b,c,d,e){console.log("\uD83C\uDFA5 WEBRTC JOIN:",{userId:a,userName:b,roomId:c,roomName:d,courseId:e}),ca.loadAllBuddies().some(b=>b.buddyId===a&&"accepted"===b.status)&&(this.notifyBuddyJoinedStudyRoom(a,b,c,d,e),ca.updateBuddyRealTimeStatus(a,"in-study-room",c,d))}static onUserLeftWebRTCRoom(a){console.log("\uD83C\uDFA5 WEBRTC LEAVE:",{userId:a}),ca.updateBuddyRealTimeStatus(a,"online")}}function cd({room:a,userId:b,userName:c,userAvatar:f,isModerator:g=!1,onLeaveRoom:j,onKickParticipant:k}){let[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(!0),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)([]),[v,x]=(0,e.useState)([]),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)("connecting"),H=(0,e.useRef)(null);(0,e.useRef)(null);let I=(0,e.useRef)(null),J=async()=>{if(r)s(!1);else try{s(!0)}catch(a){console.error("Erreur partage \xe9cran:",a)}},K=()=>{if(z.trim()){let d={id:`msg_${Date.now()}`,roomId:a.id,userId:b,userName:c,userAvatar:f,message:z.trim(),timestamp:new Date,type:"text"};x(a=>[...a,d]),A(""),I.current&&I.current.focus()}};return(0,d.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,d.jsxs)("div",{className:"bg-gray-800 p-4 flex items-center justify-between border-b border-gray-700",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-white font-semibold",children:a.title}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[t.length+1," participants"]})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"connected"===F?"bg-green-600 text-white":"connecting"===F?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:"connected"===F?"Connect\xe9":"connecting"===F?"Connexion...":"D\xe9connect\xe9"})})]}),(0,d.jsxs)("div",{className:"flex-1 flex",children:[(0,d.jsx)("div",{className:"flex-1 p-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-full",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-gray-800 rounded-lg overflow-hidden aspect-video",children:[(0,d.jsx)("video",{ref:H,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),!l&&(0,d.jsx)("div",{className:"absolute inset-0 bg-gray-700 flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:c.charAt(0)})}),(0,d.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/50 backdrop-blur-sm rounded px-2 py-1",children:(0,d.jsx)("span",{className:"text-white text-sm font-medium",children:"Vous"})}),r&&(0,d.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs",children:"Partage d'\xe9cran"})]}),t.map((b,c)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*c},className:"relative bg-gray-800 rounded-lg overflow-hidden aspect-video",children:[b.isVideoEnabled?(0,d.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\uD83D\uDCF9 Vid\xe9o active"})}):(0,d.jsx)("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:b.userName.charAt(0)})}),(0,d.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/50 backdrop-blur-sm rounded px-2 py-1",children:(0,d.jsx)("span",{className:"text-white text-sm font-medium",children:b.userName})}),(0,d.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[!b.isAudioEnabled&&(0,d.jsx)("div",{className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:(0,d.jsx)(b_.A,{size:12,className:"text-white"})}),b.isScreenSharing&&(0,d.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,d.jsx)(b5,{size:12,className:"text-white"})})]}),g&&(0,d.jsx)("div",{className:"absolute top-2 right-2",children:(0,d.jsx)("button",{onClick:()=>(b=>{if(g&&k){k(b),u(a=>a.filter(a=>a.userId!==b));let c={id:`msg_kick_${Date.now()}`,roomId:a.id,userId:"system",userName:"Mod\xe9rateur",message:`Un participant a \xe9t\xe9 exclu de la session`,timestamp:new Date,type:"moderator-action"};x(a=>[...a,c])}})(b.userId),className:"w-8 h-8 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center text-white transition-colors",title:"Exclure le participant",children:(0,d.jsx)(b6,{size:14})})})]},b.userId))]})}),(0,d.jsx)(i.N,{children:B&&(0,d.jsxs)(h.P.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"w-80 bg-gray-800 border-l border-gray-700 flex flex-col",children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,d.jsx)("h4",{className:"text-white font-semibold",children:"Chat de la session"})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:v.map(a=>(0,d.jsx)("div",{className:`${"system"===a.type||"moderator-action"===a.type?"text-center":a.userId===b?"text-right":"text-left"}`,children:"system"===a.type||"moderator-action"===a.type?(0,d.jsx)("div",{className:"text-gray-400 text-sm italic",children:a.message}):(0,d.jsxs)("div",{className:`inline-block max-w-xs px-3 py-2 rounded-lg ${a.userId===b?"bg-blue-600 text-white":"bg-gray-700 text-white"}`,children:[(0,d.jsx)("div",{className:"text-xs opacity-70 mb-1",children:a.userName}),(0,d.jsx)("div",{children:a.message})]})},a.id))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{ref:I,type:"text",value:z,onChange:a=>A(a.target.value),onKeyPress:a=>"Enter"===a.key&&K(),placeholder:"Tapez votre message...",className:"flex-1 bg-gray-700 text-white rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,d.jsx)("button",{onClick:K,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Envoyer"})]})})]})})]}),(0,d.jsx)("div",{className:"bg-gray-800 p-4 border-t border-gray-700",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{m(!l)},className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${l?"bg-gray-700 hover:bg-gray-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,title:l?"D\xe9sactiver la cam\xe9ra":"Activer la cam\xe9ra",children:l?(0,d.jsx)(p.A,{size:20}):(0,d.jsx)(b0,{size:20})}),(0,d.jsx)("button",{onClick:()=>{o(!n)},className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${n?"bg-gray-700 hover:bg-gray-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,title:n?"Couper le micro":"Activer le micro",children:n?(0,d.jsx)(bS.A,{size:20}):(0,d.jsx)(b_.A,{size:20})}),(0,d.jsx)("button",{onClick:J,className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,title:r?"Arr\xeater le partage":"Partager l'\xe9cran",children:(0,d.jsx)(b5,{size:20})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("button",{onClick:()=>E(!D),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:[(0,d.jsx)(q.A,{size:20}),(0,d.jsx)("span",{className:"hidden sm:inline",children:t.length+1})]}),(0,d.jsxs)("button",{onClick:()=>C(!B),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:[(0,d.jsx)(aG.A,{size:20}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Chat"})]}),g&&(0,d.jsxs)("button",{onClick:()=>{console.log("\uD83D\uDEE1ï¸ Panneau de mod\xe9ration ouvert");let c=prompt("Action de mod\xe9ration (kick/ban/mute) + userId:","kick user_pierre");if(c){let[d,e]=c.split(" ");switch(d){case"kick":u(a=>a.filter(a=>a.userId!==e)),console.log(`ðŸ‘¢ ${e} a \xe9t\xe9 expuls\xe9 de la Study Room`);let f={id:`sys_${Date.now()}`,roomId:a.id,userId:"system",userName:"Syst\xe8me",userAvatar:"",message:`${e} a \xe9t\xe9 expuls\xe9 par le mod\xe9rateur`,timestamp:new Date,type:"system"};x(a=>[...a,f]);break;case"mute":u(a=>a.map(a=>a.userId===e?{...a,isAudioEnabled:!1}:a)),console.log(`ðŸ”‡ ${e} a \xe9t\xe9 mis en sourdine`);break;default:console.log("Action de mod\xe9ration non reconnue")}b7.awardXP(b,"moderation-action",10)}},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors",title:"Ouvrir le panneau de mod\xe9ration",children:[(0,d.jsx)(y.A,{size:20}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Mod\xe9ration"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{console.log("âš™ï¸ Param\xe8tres WebRTC ouverts");let a=prompt("Param\xe8tre \xe0 modifier (video-quality/audio-quality/recording):","video-quality high");if(a){let[b,c]=a.split(" ");switch(b){case"video-quality":console.log(`ðŸ“¹ Qualit\xe9 vid\xe9o chang\xe9e: ${c}`),alert(`Qualit\xe9 vid\xe9o r\xe9gl\xe9e sur: ${c.toUpperCase()}`);break;case"audio-quality":console.log(`ðŸŽ¤ Qualit\xe9 audio chang\xe9e: ${c}`),alert(`Qualit\xe9 audio r\xe9gl\xe9e sur: ${c.toUpperCase()}`);break;case"recording":let d="start"===c;setIsRecording(d),console.log(`ðŸŽ¬ Enregistrement ${d?"d\xe9marr\xe9":"arr\xeat\xe9"}`),alert(`Enregistrement ${d?"d\xe9marr\xe9":"arr\xeat\xe9"}`);break;default:console.log("Param\xe8tre non reconnu")}}},className:"w-12 h-12 rounded-full bg-gray-700 hover:bg-gray-600 text-white flex items-center justify-center transition-colors",title:"Ouvrir les param\xe8tres WebRTC",children:(0,d.jsx)(w.A,{size:20})}),(0,d.jsx)("button",{onClick:()=>{H.current?.srcObject&&H.current.srcObject.getTracks().forEach(a=>a.stop()),j()},className:"w-12 h-12 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",title:"Quitter la session",children:(0,d.jsx)(b4,{size:20})})]})]})})]})}var ce=c(37533);let cf=(0,_.A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),cg=(0,_.A)("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),ch=(0,_.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);function ci({room:a,userId:b,userName:c,onLeaveRoom:f}){let[g,j]=(0,e.useState)(!0),[l,n]=(0,e.useState)(!0),[o,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)("Studying hard! \uD83D\uDCAA"),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)([]),[C,D]=(0,e.useState)(null),[E,F]=(0,e.useState)(0),[G,H]=(0,e.useState)([{id:"user-1",name:"Sarah M.",isVideoEnabled:!0,isAudioEnabled:!0,currentMusic:"Lo-fi Hip Hop Radio",currentCourse:"Loi de Gauss",personalMessage:'"A little bit of plain, ordinary, everyday kindness"',isBuddy:!0,encouragements:5,reactions:[{emoji:"\uD83D\uDC4D",count:3},{emoji:"\uD83D\uDD25",count:2}]},{id:"user-2",name:"Alex K.",isVideoEnabled:!0,isAudioEnabled:!1,currentMusic:"June - Briston Maroney",currentCourse:"\xc9quilibres Chimiques",personalMessage:"Bring results now darlin'",isBuddy:!1,encouragements:3,reactions:[{emoji:"\uD83D\uDC4D",count:1}]},{id:"user-3",name:"Marie L.",isVideoEnabled:!0,isAudioEnabled:!0,currentMusic:"Only Girl (In The World) - Rihanna",currentCourse:"Int\xe9grales",personalMessage:"anki and lots of coffee, final test soon!",isBuddy:!0,encouragements:8,reactions:[{emoji:"â˜•",count:4},{emoji:"\uD83D\uDCAA",count:2}]},{id:"user-4",name:"Thomas D.",isVideoEnabled:!0,isAudioEnabled:!0,currentMusic:"Capriccio italien - Tchaikovsky",currentCourse:"Forces et Mouvement",personalMessage:"The flower that blooms in adversity is the most rare and beautiful of all \uD83C\uDF38",isBuddy:!1,encouragements:2,reactions:[]}]),I=()=>{if(!y.trim())return;let a={id:Date.now().toString(),userId:b,userName:c,message:y,timestamp:new Date,isPrivate:null!==C,targetUserId:C||void 0};B(b=>[...b,a]),z("")};return(0,d.jsxs)("div",{className:"fixed inset-0 bg-gray-50 z-50 flex flex-col",children:[(0,d.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:(0,d.jsx)(m.A,{size:20,className:"text-blue-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.courseName||"Loi de Gauss"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:`px-3 py-1.5 rounded-lg text-xs font-semibold flex items-center gap-1.5 ${"silent"===a.type?"bg-purple-50 text-purple-700 border border-purple-200":"bg-green-50 text-green-700 border border-green-200"}`,children:"silent"===a.type?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(b2.A,{size:14}),"Silencieux"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bS.A,{size:14}),"Interactif"]})}),(0,d.jsx)("div",{className:`px-3 py-1.5 rounded-lg text-xs font-semibold flex items-center gap-1.5 ${"public"===a.visibility?"bg-blue-50 text-blue-700 border border-blue-200":"bg-amber-50 text-amber-700 border border-amber-200"}`,children:"public"===a.visibility?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{size:14}),"Public"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{size:14}),"Priv\xe9"]})}),(0,d.jsxs)("div",{className:"px-3 py-1.5 rounded-lg text-xs font-semibold bg-gray-100 text-gray-700 border border-gray-200 flex items-center gap-1.5",children:[(0,d.jsx)(q.A,{size:14}),G.length," participants"]}),(0,d.jsxs)("div",{className:"px-3 py-1.5 rounded-lg text-xs font-semibold bg-red-50 text-red-700 border border-red-200 flex items-center gap-1.5",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"LIVE â€¢ ",(a=>{let b=Math.floor(a/3600),c=Math.floor(a%3600/60);return b>0?`${b}h ${c.toString().padStart(2,"0")}min`:`${c}min ${(a%60).toString().padStart(2,"0")}s`})(E)]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>n(!l),className:`p-3 rounded-xl transition-all ${l?"bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300":"bg-red-50 hover:bg-red-100 text-red-600 border border-red-300"}`,children:l?(0,d.jsx)(bS.A,{size:20}):(0,d.jsx)(b_.A,{size:20})}),(0,d.jsx)("button",{onClick:()=>j(!g),className:`p-3 rounded-xl transition-all ${g?"bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300":"bg-red-50 hover:bg-red-100 text-red-600 border border-red-300"}`,children:g?(0,d.jsx)(p.A,{size:20}):(0,d.jsx)(b0,{size:20})}),(0,d.jsxs)("button",{onClick:()=>r(!o),className:"p-3 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-900 border border-gray-300 transition-all relative",children:[(0,d.jsx)(aG.A,{size:20}),A.length>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 rounded-full text-xs flex items-center justify-center text-white",children:A.length})]}),(0,d.jsxs)("button",{onClick:f,className:"cursor-target px-4 py-3 rounded-xl bg-red-600 hover:bg-red-700 text-white transition-all flex items-center gap-2 font-semibold",children:[(0,d.jsx)(b4,{size:18}),"Quitter"]})]})]})}),(0,d.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,d.jsx)("div",{className:`flex-1 bg-white p-6 overflow-y-auto transition-all ${o?"mr-96":""}`,children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 auto-rows-max",children:G.map(a=>(0,d.jsx)(cj,{participant:a,isExpanded:s===a.id,onExpand:()=>t(s===a.id?null:a.id),onEncourage:()=>(a=>{H(b=>b.map(b=>b.id===a?{...b,encouragements:b.encouragements+1}:b));let b=G.find(b=>b.id===a);b&&B(a=>[...a,{id:Date.now().toString(),userId:"system",userName:"System",message:`${c} encouraged ${b.name}! ðŸ‘`,timestamp:new Date}])})(a.id),onReaction:b=>{var c;return c=a.id,void H(a=>a.map(a=>a.id===c?a.reactions.find(a=>a.emoji===b)?{...a,reactions:a.reactions.map(a=>a.emoji===b?{...a,count:a.count+1}:a)}:{...a,reactions:[...a.reactions,{emoji:b,count:1}]}:a))},onPrivateMessage:()=>D(a.id)},a.id))})}),(0,d.jsx)(i.N,{children:o&&(0,d.jsxs)(h.P.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},className:"fixed right-0 top-[73px] bottom-0 w-96 bg-white border-l border-gray-200 flex flex-col",children:[(0,d.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900",children:C?"Message priv\xe9":"Chat de groupe"}),C&&(0,d.jsx)("button",{onClick:()=>D(null),className:"text-xs text-gray-500 hover:text-gray-700",children:"Retour au groupe"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 border border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-xs font-semibold text-gray-600",children:"Mon message"}),u?(0,d.jsx)("button",{onClick:()=>{v(!1)},className:"text-blue-600 hover:text-blue-700",children:(0,d.jsx)(k.A,{size:14})}):(0,d.jsx)("button",{onClick:()=>v(!0),className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(ce.A,{size:14})})]}),u?(0,d.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:"w-full text-sm bg-white border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):(0,d.jsx)("p",{className:"text-sm text-gray-700",children:w})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:A.filter(a=>!a.isPrivate||a.targetUserId===C||a.userId===b).map(a=>(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-700 flex-shrink-0",children:a.userName.split(" ").map(a=>a[0]).join("").toUpperCase()}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:a.userName}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:a.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),(0,d.jsx)("p",{className:"text-sm text-gray-700",children:a.message})]})]},a.id))}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{type:"text",value:y,onChange:a=>z(a.target.value),onKeyPress:a=>"Enter"===a.key&&I(),placeholder:C?"Message priv\xe9...":"\xc9cris un message...",className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm !cursor-text"}),(0,d.jsx)("button",{onClick:I,className:"cursor-target px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all",children:(0,d.jsx)(bT.A,{size:18})})]})})]})})]})]})}function cj({participant:a,isExpanded:b,onExpand:c,onEncourage:f,onReaction:g,onPrivateMessage:j}){let[k,l]=(0,e.useState)(!1),[n,o]=(0,e.useState)(!1);return(0,d.jsxs)(h.P.div,{layout:!0,className:`relative bg-white rounded-2xl overflow-hidden border-2 shadow-md transition-all ${a.isBuddy?"border-yellow-400 shadow-yellow-100":"border-gray-200"} ${b?"col-span-2 row-span-2":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a.isBuddy&&(0,d.jsxs)("div",{className:"absolute top-2 left-2 z-10 px-2 py-1 bg-yellow-500 text-black text-xs font-bold rounded-lg flex items-center gap-1",children:[(0,d.jsx)(ae.A,{size:12}),"Buddy"]}),a.encouragements>0&&(0,d.jsxs)("div",{className:"absolute top-2 right-2 z-10 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded-lg flex items-center gap-1",children:[(0,d.jsx)(J.A,{size:12}),a.encouragements]}),(0,d.jsxs)("div",{className:`relative bg-gradient-to-br from-gray-100 to-gray-200 ${b?"h-96":"h-48"} flex items-center justify-center`,children:[a.isVideoEnabled?(0,d.jsx)("div",{className:"text-6xl font-bold text-gray-700",children:a.name.charAt(0)}):(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(b0,{size:32,className:"mx-auto mb-2 text-gray-400"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Cam\xe9ra d\xe9sactiv\xe9e"})]}),a.isAudioEnabled&&(0,d.jsx)("div",{className:"absolute bottom-2 left-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:(0,d.jsx)(bS.A,{size:16,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"p-4 space-y-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[a.name,!a.isAudioEnabled&&(0,d.jsx)(b2.A,{size:14,className:"text-gray-400"})]})}),a.currentMusic&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,d.jsx)(cf,{size:12,className:"text-green-600"}),(0,d.jsx)("span",{className:"text-gray-600 truncate",children:a.currentMusic})]}),a.currentCourse&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,d.jsx)(m.A,{size:12,className:"text-blue-600"}),(0,d.jsx)("span",{className:"text-gray-600 truncate",children:a.currentCourse})]}),a.personalMessage&&(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:(0,d.jsx)("p",{className:"text-xs text-gray-700 italic line-clamp-2",children:a.personalMessage})}),a.reactions.length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:a.reactions.map((a,b)=>(0,d.jsxs)("span",{className:"px-2 py-1 bg-gray-100 border border-gray-200 rounded-lg text-xs flex items-center gap-1",children:[a.emoji," ",(0,d.jsx)("span",{className:"text-gray-700 font-semibold",children:a.count})]},b))})]}),(0,d.jsx)(i.N,{children:k&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-4 left-4 right-4 flex gap-2 justify-center",children:[(0,d.jsxs)("button",{onClick:f,className:"cursor-target p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all flex items-center gap-1 text-xs font-semibold shadow-lg",children:[(0,d.jsx)(cg,{size:14}),"Encourage"]}),(0,d.jsx)("button",{onClick:j,className:"cursor-target p-2 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 rounded-lg transition-all shadow-md",title:"Message priv\xe9",children:(0,d.jsx)(aG.A,{size:14})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>o(!n),className:"cursor-target p-2 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 rounded-lg transition-all shadow-md",title:"R\xe9agir",children:(0,d.jsx)(J.A,{size:14})}),n&&(0,d.jsx)("div",{className:"absolute bottom-full mb-2 left-0 bg-white rounded-xl shadow-2xl p-2 flex gap-1 border border-gray-200",children:["\uD83D\uDC4D","â¤ï¸","\uD83D\uDD25","\uD83D\uDCAA","â˜•","\uD83C\uDFAF"].map(a=>(0,d.jsx)("button",{onClick:()=>{g(a),o(!1)},className:"cursor-target hover:scale-125 transition-transform text-xl p-1 hover:bg-gray-50 rounded",children:a},a))})]}),(0,d.jsx)("button",{onClick:c,className:"cursor-target p-2 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 rounded-lg transition-all shadow-md",title:"Agrandir",children:(0,d.jsx)(ch,{size:14})})]})})]})}function ck({isOpen:a,onClose:b,room:c,currentUserId:f}){let[g,j]=(0,e.useState)(!0),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(!0),[o,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)(!0),[u,w]=(0,e.useState)(!0),[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)([]),B=(0,e.useRef)(null),C=(0,e.useRef)(null),D=()=>{if(x.trim()&&c){let a={id:Date.now().toString(),participantId:f,participantName:"Vous",message:x.trim(),timestamp:new Date,type:"text"};A(b=>[...b,a]),y(""),C.current?.focus()}};return c?(0,d.jsx)(i.N,{children:a&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm p-4",children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(p.A,{className:"text-green-600",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"font-semibold text-gray-900",children:c.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[c.courseName," â€¢ ",c.currentUsers.length,"/",c.maxUsers," participants"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>l(!k),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${k?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:k?"\uD83D\uDCF9 WebRTC ON":"\uD83D\uDE80 WebRTC OFF"}),(0,d.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"ACTIF"}),(0,d.jsx)("button",{onClick:b,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-200 transition-colors",children:(0,d.jsx)(v.A,{size:18})})]})]}),m?(0,d.jsx)(ci,{room:{id:c.id,courseId:c.courseName,courseName:c.courseName,title:c.name,type:c.type||"interactive",visibility:"public",status:"live",createdBy:f,creatorName:"Vous",createdAt:new Date,startsAt:new Date,currentParticipants:[],invitedUsers:[],tags:[],isRecorded:!1,replayAddedToCourse:!1,abusiveReports:[],moderationRules:["Respecter les autres participants","Pas de contenu inappropri\xe9"],xpReward:25,buddyCount:0,hasActiveBuddies:!1},userId:f,userName:"Yassine",onLeaveRoom:b}):k?(0,d.jsx)(cd,{room:{id:c.id,courseId:c.courseName,courseName:c.courseName,title:c.name,type:"interactive",visibility:"public",status:"live",createdBy:f,creatorName:"Vous",createdAt:new Date,startsAt:new Date,currentParticipants:[],invitedUsers:[],tags:[],isRecorded:!1,replayAddedToCourse:!1,abusiveReports:[],moderationRules:["Respecter les autres participants","Pas de contenu inappropri\xe9"],xpReward:25,buddyCount:0,hasActiveBuddies:!1},userId:f,userName:"\xc9tudiant",isModerator:!0,onLeaveRoom:()=>l(!1)}):(0,d.jsxs)("div",{className:"flex h-[calc(90vh-80px)]",children:[(0,d.jsxs)("div",{className:"flex-1 bg-gray-900 relative",children:[(0,d.jsx)("div",{className:"absolute inset-4 bg-gray-800 rounded-lg flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)(p.A,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Interface vid\xe9o en d\xe9veloppement"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Int\xe9gration WebRTC pr\xe9vue"})]})}),(0,d.jsx)("div",{className:"absolute bottom-4 left-4 flex gap-2",children:c.currentUsers.slice(0,4).map((a,b)=>a&&a.id?(0,d.jsxs)("div",{className:"w-20 h-16 bg-gray-700 rounded-lg flex items-center justify-center relative",children:[(0,d.jsx)("div",{className:"text-white text-sm font-medium",children:a.firstName?a.firstName.substring(0,2).toUpperCase():a.id?a.id.substring(0,2).toUpperCase():"??"}),0===b&&(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white",children:(0,d.jsx)(bS.A,{size:8,className:"text-white ml-0.5 mt-0.5"})})]},a.id):null)}),(0,d.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-3 bg-gray-800/90 backdrop-blur-sm rounded-full px-4 py-2",children:[(0,d.jsx)("button",{onClick:()=>r(!o),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${o?"bg-gray-700 text-white hover:bg-gray-600":"bg-red-500 text-white hover:bg-red-600"}`,children:o?(0,d.jsx)(bS.A,{size:18}):(0,d.jsx)(b_.A,{size:18})}),(0,d.jsx)("button",{onClick:()=>j(!g),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${g?"bg-gray-700 text-white hover:bg-gray-600":"bg-red-500 text-white hover:bg-red-600"}`,children:g?(0,d.jsx)(p.A,{size:18}):(0,d.jsx)(b0,{size:18})}),(0,d.jsx)("button",{onClick:()=>t(!s),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${s?"bg-gray-700 text-white hover:bg-gray-600":"bg-red-500 text-white hover:bg-red-600"}`,children:s?(0,d.jsx)(b1.A,{size:18}):(0,d.jsx)(b2.A,{size:18})}),(0,d.jsx)("div",{className:"w-px h-6 bg-gray-600"}),(0,d.jsx)("button",{className:"w-10 h-10 rounded-full bg-gray-700 text-white hover:bg-gray-600 flex items-center justify-center transition-colors",children:(0,d.jsx)(b3.A,{size:18})}),(0,d.jsx)("button",{className:"w-10 h-10 rounded-full bg-red-500 text-white hover:bg-red-600 flex items-center justify-center transition-colors",children:(0,d.jsx)(b4,{size:18})})]})]}),u&&(0,d.jsxs)("div",{className:"w-80 border-l border-gray-200 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,d.jsxs)("button",{className:"flex-1 py-3 px-4 text-sm font-medium text-blue-600 border-b-2 border-blue-600",children:[(0,d.jsx)(aG.A,{size:16,className:"inline mr-2"}),"Chat"]}),(0,d.jsxs)("button",{className:"flex-1 py-3 px-4 text-sm font-medium text-gray-500 hover:text-gray-700",children:[(0,d.jsx)(q.A,{size:16,className:"inline mr-2"}),"Participants"]})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[z.map(a=>(0,d.jsx)("div",{className:`${"system"===a.type?"text-center":""}`,children:"system"===a.type?(0,d.jsx)("div",{className:"text-xs text-gray-500 bg-gray-100 rounded-full px-3 py-1 inline-block",children:a.message}):(0,d.jsx)("div",{className:`${a.participantId===f?"ml-8":"mr-8"}`,children:(0,d.jsxs)("div",{className:`p-3 rounded-lg ${a.participantId===f?"bg-blue-500 text-white ml-auto":"bg-gray-100 text-gray-900"}`,children:[a.participantId!==f&&(0,d.jsx)("div",{className:"text-xs font-medium mb-1 opacity-70",children:a.participantName}),(0,d.jsx)("div",{className:"text-sm",children:a.message}),(0,d.jsx)("div",{className:`text-xs mt-1 opacity-70 ${a.participantId===f?"text-right":"text-left"}`,children:a.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})})},a.id)),(0,d.jsx)("div",{ref:B})]}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{ref:C,type:"text",value:x,onChange:a=>y(a.target.value),onKeyPress:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),D())},placeholder:"Tapez votre message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),(0,d.jsx)("button",{onClick:D,disabled:!x.trim(),className:"w-8 h-8 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:(0,d.jsx)(bT.A,{size:14})})]})})]})]})]})})}):null}var cl=c(79944),cm=c(30029),cn=c(66229);Date.now(),Date.now(),Date.now(),Date.now();let co=[{id:"e1",title:"Session de r\xe9vision collective - Physique",description:"R\xe9visons ensemble les chapitres sur l'\xe9lectromagn\xe9tisme avant le partiel",date:new Date(Date.now()+1728e5),time:"18h00 - 20h00",location:"Biblioth\xe8que Centrale",attendees:12,maxAttendees:20,type:"study"},{id:"e2",title:"Atelier: M\xe9thodes de r\xe9solution de probl\xe8mes",description:"Workshop anim\xe9 par un ancien \xe9tudiant devenu ing\xe9nieur",date:new Date(Date.now()+432e6),time:"14h00 - 16h00",location:"Salle A201",attendees:8,maxAttendees:15,type:"workshop"},{id:"e3",title:"Rencontre informelle - Caf\xe9 \xc9tudiant",description:"Moment convivial pour faire connaissance et \xe9changer",date:new Date(Date.now()+6048e5),time:"17h30 - 19h00",location:"Caf\xe9 du Campus",attendees:15,maxAttendees:25,type:"social"},{id:"e4",title:"Webinaire: Orientation et d\xe9bouch\xe9s en sciences",description:"D\xe9couvre les opportunit\xe9s de carri\xe8re avec nos intervenants",date:new Date(Date.now()+864e6),time:"19h00 - 20h30",location:"En ligne (Zoom)",attendees:45,maxAttendees:100,type:"online"}],cp=[{id:"1",name:"Maya Benali",avatar:"\uD83D\uDC69â€\uD83D\uDD2C",points:2450,contributions:87,badge:"Animateur",isOnline:!0},{id:"2",name:"Sarah Martin",avatar:"\uD83D\uDC69â€\uD83C\uDF93",points:2180,contributions:65,badge:"Mentor",isOnline:!0},{id:"3",name:"Thomas Dubois",avatar:"\uD83D\uDC68â€\uD83C\uDF93",points:1920,contributions:54,badge:"Expert",isOnline:!1},{id:"4",name:"L\xe9o Bernard",avatar:"\uD83D\uDC68â€\uD83D\uDCBC",points:1650,contributions:43,badge:"Engag\xe9",isOnline:!0},{id:"5",name:"Emma Laurent",avatar:"\uD83D\uDC69",points:1480,contributions:38,badge:"Engag\xe9",isOnline:!1},{id:"6",name:"Zak El Amrani",avatar:"\uD83D\uDC68â€\uD83D\uDCBC",points:850,contributions:12,badge:"Nouveau",isOnline:!0}],cq=a=>{let b=a.split(" ").filter(a=>a.length>0);return 0===b.length?"??":1===b.length?b[0].substring(0,2).toUpperCase():(b[0][0]+b[b.length-1][0]).toUpperCase()};function cr({circle:a,onBack:b,onOpenMessaging:c}){let[g,j]=(0,e.useState)("discussion"),[k,l]=(0,e.useState)(""),[m,p]=(0,e.useState)([{id:"1",author:"Zak",authorInitials:"ZK",content:`Bienvenue dans le cercle ${a.name} ! N'h\xe9sitez pas \xe0 poser vos questions et \xe0 partager vos ressources.`,timestamp:"Il y a 2h",isMentor:!0},{id:"2",author:"Sarah Martin",authorInitials:"SM",content:"Salut tout le monde ! Ravie de rejoindre ce groupe.",timestamp:"Il y a 1h30",isMentor:!1},{id:"3",author:"Thomas Dubois",authorInitials:"TD",content:"Quelqu'un aurait des ressources sur les \xe9quations diff\xe9rentielles ?",timestamp:"Il y a 45min",isMentor:!1},{id:"4",author:"Maya Benali",authorInitials:"MB",content:"Je peux te partager mon cours, il est vraiment bien fait !",timestamp:"Il y a 30min",isMentor:!1},{id:"5",author:"Zak",authorInitials:"ZK",content:"Super initiative Maya ! N'h\xe9sitez pas \xe0 partager vos ressources, c'est comme \xe7a qu'on progresse ensemble.",timestamp:"Il y a 15min",isMentor:!0}]),q=f().useRef(null),r=[{id:"discussion",label:"Discussion",icon:aG.A},{id:"events",label:"\xc9v\xe9nements",icon:o.A},{id:"leaderboard",label:"Classement",icon:n.A}],s=()=>{q.current?.scrollIntoView({behavior:"smooth"})},u=()=>{k.trim()&&(p([...m,{id:`msg-${Date.now()}`,author:"Vous",authorInitials:"V",content:k.trim(),timestamp:"\xc0 l'instant",isMentor:!1}]),l(""),setTimeout(s,100))};return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[(0,d.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:b,className:"p-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",children:(0,d.jsx)(cl.A,{size:20})}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-3xl",children:a.icon}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:a.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[a.memberCount," membres"]})]})]})]}),(0,d.jsxs)("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-colors flex items-center gap-2 text-sm font-medium",children:[(0,d.jsx)(cm.A,{size:16}),"Inviter"]})]})}),(0,d.jsx)("div",{className:"bg-white border-b border-gray-100 px-6 py-3 flex-shrink-0",children:(0,d.jsx)("div",{className:"flex gap-2",children:r.map(a=>{let b=a.icon;return(0,d.jsxs)("button",{onClick:()=>j(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-full font-medium text-sm transition-colors ${g===a.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,d.jsx)(b,{size:16}),a.label]},a.id)})})}),(0,d.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col",children:(0,d.jsxs)(i.N,{mode:"wait",children:["discussion"===g&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"h-full flex flex-col",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden flex flex-col flex-1 m-4",children:[(0,d.jsxs)("div",{className:"px-5 py-3 border-b border-gray-100 flex-shrink-0 bg-white flex items-center justify-between",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,d.jsxs)("span",{className:"text-gray-600 font-medium",children:[cp.filter(a=>a.isOnline).length," en ligne"]})]})}),(0,d.jsxs)("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 font-medium rounded-full text-xs",children:[m.length," messages"]})]}),(0,d.jsxs)("div",{className:"flex-1 p-5 space-y-5 overflow-y-auto",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundColor:"#fafafa"},children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsxs)("span",{className:"px-4 py-2 bg-gray-100 text-gray-500 text-xs font-medium rounded-full",children:["\uD83C\uDF89 Bienvenue dans ",a.name]})}),m.map((a,b)=>(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:`flex gap-3 ${"Vous"===a.author?"flex-row-reverse":""}`,children:[(0,d.jsx)("div",{className:`w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0 font-semibold ${a.isMentor||"Vous"===a.author?"bg-gray-900 text-white":"bg-gray-200 text-gray-600"}`,style:{fontSize:"14px"},children:a.authorInitials}),(0,d.jsxs)("div",{className:`max-w-[75%] ${"Vous"===a.author?"items-end":""}`,children:[(0,d.jsxs)("div",{className:`flex items-center gap-2 mb-1.5 ${"Vous"===a.author?"justify-end":""}`,children:[(0,d.jsx)("span",{className:"font-semibold text-gray-800",style:{fontSize:"14px"},children:a.author}),a.isMentor&&(0,d.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 font-medium rounded-md border border-gray-200",style:{fontSize:"11px"},children:"Fondateur"}),(0,d.jsx)("span",{className:"text-gray-400",style:{fontSize:"12px"},children:a.timestamp})]}),(0,d.jsx)("div",{className:`px-4 py-3 rounded-2xl leading-relaxed ${"Vous"===a.author?"bg-gray-900 text-white rounded-tr-md":"bg-white border border-gray-200 text-gray-900 rounded-tl-md"}`,style:{fontSize:"15px"},children:a.content})]})]}),2===b&&(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("span",{className:"px-4 py-2 bg-gray-100 text-gray-500 text-xs font-medium rounded-full",children:"\uD83D\uDC4B 3 nouveaux membres cette semaine"})})]},a.id)),(0,d.jsx)("div",{ref:q})]}),(0,d.jsx)("div",{className:"p-5 border-t border-gray-200 bg-white flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,d.jsxs)("div",{className:"flex gap-0.5",children:[(0,d.jsx)("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",children:(0,d.jsx)(cn.A,{size:20})}),(0,d.jsx)("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Envoyer une image",children:(0,d.jsx)(W.A,{size:20})}),(0,d.jsx)("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Message vocal",children:(0,d.jsx)(bS.A,{size:20})})]}),(0,d.jsx)("input",{value:k,onChange:a=>l(a.target.value),onKeyPress:a=>"Enter"===a.key&&u(),placeholder:"\xc9cris ton message...",className:"flex-1 px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900 focus:bg-white text-sm"}),(0,d.jsx)("button",{onClick:u,disabled:!k.trim(),className:`p-3 rounded-xl transition-colors ${k.trim()?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-200 text-gray-400"}`,children:(0,d.jsx)(bT.A,{size:20})})]})})]})},"discussion"),"events"===g&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"\xc9v\xe9nements \xe0 venir"})}),(0,d.jsx)("button",{className:"px-5 py-2.5 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-all text-sm font-medium hover:scale-[1.02] active:scale-[0.98]",children:"+ Sugg\xe9rer"})]}),(0,d.jsx)("div",{className:"space-y-3",children:co.map((a,b)=>{let c=a.date.getTime()-Date.now()<2592e5;return(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*b},className:"group bg-white rounded-2xl border border-gray-100 hover:border-gray-200 transition-all overflow-hidden",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsxs)("div",{className:"w-20 flex-shrink-0 flex flex-col items-center justify-center py-5 border-r border-gray-100",style:{backgroundColor:c?"#00c2ff":"#f9fafb"},children:[(0,d.jsx)("span",{className:"text-2xl font-bold",style:{color:c?"white":"#111827"},children:a.date.getDate()}),(0,d.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",style:{color:c?"rgba(255,255,255,0.8)":"#6b7280"},children:a.date.toLocaleDateString("fr-FR",{month:"short"})})]}),(0,d.jsx)("div",{className:"flex-1 p-5",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("span",{className:"inline-block px-2.5 py-1 bg-gray-100 text-gray-600 rounded-md text-xs font-medium mb-2",children:"study"===a.type?"\xc9tude":"workshop"===a.type?"Atelier":"social"===a.type?"Social":"En ligne"}),(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base mb-1 truncate",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-500 line-clamp-1",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-400",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(t.A,{size:12}),a.time]}),(0,d.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(aI.A,{size:12}),a.location]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900",children:a.attendees}),(0,d.jsxs)("div",{className:"text-xs text-gray-400",children:["/ ",a.maxAttendees]})]}),(0,d.jsx)("button",{className:"px-4 py-2 rounded-full text-sm font-medium transition-all hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:"#00c2ff",color:"white"},children:"Participer"})]})]})})]})},a.id)})})]},"events"),"leaderboard"===g&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-6 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Classement"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:"Les membres les plus actifs ce mois-ci"})]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:cp.slice(0,3).map((a,b)=>{let c=[1,0,2][b],e=cp[c],f=0===c;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},className:`bg-white rounded-2xl border transition-all text-center ${f?"border-gray-900 py-6":"border-gray-100 py-5"}`,style:f?{transform:"scale(1.05)",boxShadow:"0 8px 30px rgba(0,0,0,0.08)"}:{},children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full mx-auto mb-3 flex items-center justify-center text-sm font-bold",style:{backgroundColor:f?"#00c2ff":"#f3f4f6",color:f?"white":"#6b7280"},children:c+1}),(0,d.jsxs)("div",{className:"relative inline-block mb-3",children:[(0,d.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:f?"#111827":"#e5e7eb",color:f?"white":"#374151"},children:cq(e.name)}),e.isOnline&&(0,d.jsx)("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white"})]}),(0,d.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-0.5 truncate px-3",children:e.name.split(" ")[0]}),(0,d.jsx)("div",{className:"text-lg font-bold",style:{color:f?"#00c2ff":"#111827"},children:e.points.toLocaleString()}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"pts"})]},e.id)})}),(0,d.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:cp.slice(3).map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+.05*b},className:"flex items-center gap-4 px-5 py-4 border-b border-gray-50 last:border-b-0 hover:bg-gray-50 transition-colors group",children:[(0,d.jsx)("span",{className:"w-6 text-center font-mono text-sm font-medium text-gray-400",children:b+4}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-600",children:cq(a.name)}),a.isOnline&&(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:a.name}),(0,d.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-xs font-medium",children:a.badge})]}),(0,d.jsxs)("span",{className:"text-xs text-gray-400",children:[a.contributions," contributions"]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:"font-bold text-gray-900",children:a.points.toLocaleString()}),(0,d.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:"pts"})]}),(0,d.jsx)("button",{onClick:()=>c(a.id),className:"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Envoyer un message",children:(0,d.jsx)(aG.A,{size:18})})]},a.id))}),(0,d.jsx)("div",{className:"mt-4 p-4 bg-gray-900 rounded-2xl text-white",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:"#00c2ff"},children:"YS"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Ton classement"}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"12\xe8me ce mois-ci"})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:"text-2xl font-bold",children:"420"}),(0,d.jsx)("span",{className:"text-sm text-gray-400 ml-1",children:"pts"})]})]})})]},"leaderboard")]})})]})}function cs({onOpenMessaging:a,userId:b="user-1",initialTab:c="buddies",hideHeader:f=!1}={}){let g=["buddies","circles","qa"].includes(c)?c:"buddies",[j,k]=(0,e.useState)(g),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(null),[p,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!1),w=(0,ac.sh)(),x=(0,ac.iL)();(0,ac.w2)(),(0,ac.rk)();let y=(0,ac.Rr)();(0,ac.Vb)(),(0,ac.wO)(),(0,ac.$w)();let z=(0,ac.HV)(),A=x.filter(a=>a.isJoined),B=x.filter(a=>!a.isJoined),C=[{id:"buddies",label:"Buddies",icon:D.A},{id:"circles",label:"Cercles",icon:q.A},{id:"qa",label:"Chat",icon:aG.A}];return(0,d.jsxs)("div",{className:`h-full ${f?"bg-transparent":"bg-gray-50"} flex flex-col`,children:[!f&&(0,d.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-6 flex-shrink-0",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"64px"},children:"Social Club"})}),(0,d.jsx)("div",{className:"border-t border-gray-200 bg-white pt-4",children:(0,d.jsx)("div",{className:"flex space-x-6",children:C.map(a=>{let b=a.icon;return(0,d.jsxs)("button",{onClick:()=>k(a.id),className:`flex items-center gap-2 py-3 px-4 rounded-full transition-colors ${j===a.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,d.jsx)(b,{size:18}),(0,d.jsx)("span",{className:"font-medium",children:a.label})]},a.id)})})})]}),(0,d.jsx)("div",{className:`flex-1 overflow-y-auto ${f?"":"px-6 py-8"} min-h-0`,children:(0,d.jsxs)(i.N,{mode:"wait",children:["buddies"===j&&(0,d.jsx)(b$,{userId:w.id,userName:w.firstName||"\xc9tudiant"}),"circles"===j&&(0,d.jsx)(d.Fragment,{children:u&&n?(0,d.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full",children:(0,d.jsx)(cr,{circle:x.find(a=>a.id===n),onBack:()=>{v(!1),o(null)},onOpenMessaging:b=>{u&&(v(!1),o(null)),a&&a(b)}})},"circle-detail"):(0,d.jsx)(ct,{joinedCircles:A,availableCircles:B,selectedCircle:n,onSelectCircle:a=>{a&&(x.find(b=>b.id===a)?.isJoined?(o(a),v(!0)):(o(a),v(!1)))},onCloseModal:()=>{o(null),v(!1)},alumniProfiles:z})}),"qa"===j&&(0,d.jsx)(cv,{questions:y,currentUser:w})]})}),(0,d.jsx)(ck,{isOpen:s,onClose:()=>{t(!1),r(null)},room:p,currentUserId:w.id})]})}function ct({joinedCircles:a,availableCircles:b,selectedCircle:c,onSelectCircle:f,onCloseModal:g,alumniProfiles:i}){let[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)("all"),n=b.filter(a=>{let b=a.name.toLowerCase().includes(j.toLowerCase())||a.description.toLowerCase().includes(j.toLowerCase()),c="all"===l||a.type===l;return b&&c});return[...a,...n],(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[a.length>0&&(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,d.jsx)(q.A,{className:"w-4 h-4 text-white"})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tes cercles actifs"}),(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("button",{className:"text-sm text-gray-600 hover:text-gray-900 font-medium px-3 py-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:"Voir tout"}),(0,d.jsx)("div",{className:"h-5 w-px bg-gray-200 mx-1"}),(0,d.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>{let a=document.getElementById("circles-scroll-container");a&&a.scrollBy({left:-200,behavior:"smooth"})},children:(0,d.jsx)(C.A,{size:18})}),(0,d.jsx)("button",{className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>{let a=document.getElementById("circles-scroll-container");a&&a.scrollBy({left:200,behavior:"smooth"})},children:(0,d.jsx)(B.A,{size:18})})]})]}),(0,d.jsx)("div",{id:"circles-scroll-container",className:"grid grid-cols-7 gap-4 mt-3",children:a.map((a,b)=>{let c=[{type:"active",label:"\uD83D\uDFE2 Actif aujourd'hui"},{type:"hot",label:"\uD83D\uDD25 Tr\xe8s actif"},{type:"online",label:"\uD83D\uDC65 12 en ligne"},{type:"recent",label:"â± Il y a 3 min"}],e=c[b%c.length];return(0,d.jsx)(h.P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.03*b},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(a.id),className:"cursor-pointer group",children:(0,d.jsxs)("div",{className:"w-full aspect-square rounded-full flex flex-col items-center justify-center text-center p-3 transition-all shadow-lg hover:shadow-xl bg-gradient-to-br from-gray-800 to-gray-900 relative",children:[(0,d.jsx)("h4",{className:"font-bold leading-tight line-clamp-2 px-1",style:{color:"#ffffff",fontSize:"18px"},children:a.name}),(0,d.jsx)("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] text-gray-500 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity bg-white px-2 py-0.5 rounded-full shadow-sm border border-gray-100",children:e.label})]})},a.id)})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",style:{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05), 0 4px 8px rgba(0, 0, 0, 0.03)"},children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center shadow-md",children:(0,d.jsx)(bQ.A,{className:"w-5 h-5 text-white"})}),(0,d.jsx)("div",{children:(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 tracking-tight",children:"D\xe9couvrir des cercles actifs par mati\xe8re, \xe9cole ou objectif"})})]}),(0,d.jsxs)("div",{className:"relative w-72",children:[(0,d.jsx)(ak.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:16}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher un cercle...",value:j,onChange:a=>k(a.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-full text-sm font-medium text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:bg-white transition-all"}),j&&(0,d.jsx)("button",{onClick:()=>k(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(v.A,{size:14})})]})]})}),(0,d.jsx)("div",{className:"h-[500px] relative",children:(0,d.jsx)(bP,{circles:n.map(a=>({id:a.id,name:a.name,description:a.description,icon:a.icon,memberCount:a.memberCount,type:a.type,color:"#1f2937"})),onCircleClick:a=>f(a.id),recommendedCircleId:n.length>0?n[0].id:void 0})})]}),0===a.length&&0===n.length&&(0,d.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200",children:[(0,d.jsx)(q.A,{className:"mx-auto text-gray-300 mb-4",size:48}),(0,d.jsx)("p",{className:"text-gray-600 font-medium",children:"Aucun cercle trouv\xe9"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Essayez un autre terme de recherche"})]}),c&&b.find(a=>a.id===c)&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[9999] flex items-center justify-center p-4",onClick:a=>{a.stopPropagation(),g()},children:(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full overflow-hidden",onClick:a=>a.stopPropagation(),children:(()=>{let a=b.find(a=>a.id===c),e=Math.floor(5*Math.random())+1,f=Math.floor(30*Math.random())+10,h=Math.floor(4*Math.random())+1;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"bg-gray-900 px-6 py-8 text-center rounded-t-2xl",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{fontFamily:"Parafina, serif",color:"#FFFFFF"},children:a.name}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:a.description})]}),(0,d.jsxs)("div",{className:"px-6 py-5",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900",children:a.memberCount}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Membres"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900",children:f}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Actifs aujourd'hui"})]}),(0,d.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[(0,d.jsx)("div",{className:"text-lg font-bold",style:{color:"#00c2ff"},children:h}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Cours communs"})]})]}),e>0&&(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl mb-5",children:[(0,d.jsx)("div",{className:"flex -space-x-2",children:[...Array(Math.min(e,3))].map((a,b)=>(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-bold text-gray-500",children:["SM","TD","EL"][b]},b))}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-900 font-medium",children:[e," de tes buddies"]}),(0,d.jsx)("span",{className:"text-sm text-gray-500",children:" sont d\xe9j\xe0 ici"})]})]}),(0,d.jsx)("div",{className:"flex items-center justify-center gap-2 mb-5",children:(0,d.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:"faculty"===a.type?"\uD83C\uDFDBï¸ Facult\xe9":"course"===a.type?"\uD83D\uDCD6 Cours":"\uD83C\uDF93 Alumni"})}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),g()},type:"button",className:"flex-1 px-4 py-3.5 bg-gray-100 text-gray-700 rounded-full font-semibold hover:bg-gray-200 transition-all text-sm",children:"Annuler"}),(0,d.jsx)("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),console.log("Rejoindre le cercle:",a.id),alert(`âœ… Vous avez rejoint le cercle avec succ\xe8s !`),g()},type:"button",className:"flex-1 px-4 py-3.5 text-white rounded-full font-semibold transition-all text-sm hover:opacity-90",style:{backgroundColor:"#00c2ff"},children:"Rejoindre"})]})]})]})})()})}),"alumni-network"===c&&(0,d.jsxs)("div",{className:"mt-8",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF93"}),"R\xe9seau Alumni SMS - Nos R\xe9ussites (",i.length,")"]}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"D\xe9couvrez les parcours inspirants de nos anciens \xe9tudiants qui excellent aujourd'hui dans leurs domaines."}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(a=>(0,d.jsx)(cu,{alumni:a},a.id))})]})]})}function cu({alumni:a}){return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-all duration-300 group cursor-pointer",whileHover:{y:-4},children:[(0,d.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,d.jsx)("div",{className:"text-4xl",children:a.avatar}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("h4",{className:"font-bold text-lg text-gray-900",children:[a.firstName," ",a.lastName]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:a.currentPosition}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:a.company})]}),(0,d.jsxs)("div",{className:`px-2 py-1 rounded-full text-sm font-medium ${(a=>{switch(a){case"engineering":return"text-blue-600 bg-blue-100";case"medicine":return"text-red-600 bg-red-100";case"business":return"text-green-600 bg-green-100";case"research":return"text-purple-600 bg-purple-100";case"tech":return"text-indigo-600 bg-indigo-100";case"law":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}})(a.domain)}`,children:[(0,d.jsx)("span",{className:"mr-1",children:(a=>{switch(a){case"engineering":return"âš™ï¸";case"medicine":return"âš•ï¸";case"business":return"\uD83D\uDCBC";case"research":return"\uD83D\uDD2C";case"tech":return"\uD83D\uDCBB";case"law":return"âš–ï¸";default:return"\uD83C\uDFAF"}})(a.domain)}),a.domain]})]}),(0,d.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-xl",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("span",{className:"text-lg",children:"\uD83C\uDF93"}),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:a.university})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.degree}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Dipl\xf4m\xe9 en ",a.graduationYear]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Cours SMS suivis :"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.smsCoursesCompleted.slice(0,3).map((a,b)=>(0,d.jsx)("span",{className:"text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:a},b)),a.smsCoursesCompleted.length>3&&(0,d.jsxs)("span",{className:"text-sm bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:["+",a.smsCoursesCompleted.length-3]})]})]}),(0,d.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-xl border-l-4 border-blue-500",children:(0,d.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',a.testimonial,'"']})}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("a",{href:a.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{children:"\uD83D\uDCBC"}),"LinkedIn"]}),a.email&&(0,d.jsxs)("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{children:"\uD83D\uDCE7"}),"Contact"]})]}),(0,d.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100 text-center",children:(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Ancien \xe9tudiant SMS â€¢ Depuis ",a.joinedSmsYear]})})]})}function cv({questions:a,currentUser:b}){let[c,g]=(0,e.useState)(""),[i,j]=(0,e.useState)([{id:"1",author:"Zak",authorInitials:"ZK",content:"Bienvenue dans le chat g\xe9n\xe9ral ! N'h\xe9sitez pas \xe0 poser vos questions et \xe0 aider les autres.",timestamp:"Il y a 2h",isMentor:!0},{id:"2",author:"Sophie M.",authorInitials:"SM",content:"Salut tout le monde ! Comment \xe7a va ?",timestamp:"Il y a 1h",isMentor:!1},{id:"3",author:"Thomas B.",authorInitials:"TB",content:"Quelqu'un peut m'expliquer rapidement les diff\xe9rences entre les cercles et les buddies ?",timestamp:"Il y a 45min",isMentor:!1},{id:"4",author:"Zak",authorInitials:"ZK",content:"Les Buddies sont tes amis d'\xe9tude - tu les choisis personnellement. Les Cercles sont des groupes th\xe9matiques (par facult\xe9, cours, etc.) o\xf9 tu retrouves des \xe9tudiants avec les m\xeames int\xe9r\xeats.",timestamp:"Il y a 30min",isMentor:!0}]),k=f().useRef(null),l=()=>{k.current?.scrollIntoView({behavior:"smooth"})},m=()=>{c.trim()&&(j([...i,{id:`msg-${Date.now()}`,author:"Vous",authorInitials:b.firstName?.[0]||"V",content:c.trim(),timestamp:"\xc0 l'instant",isMentor:!1}]),g(""),setTimeout(l,100))};return(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"h-full flex flex-col",children:(0,d.jsxs)("div",{className:"bg-gradient-to-b from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden flex flex-col flex-1",children:[(0,d.jsxs)("div",{className:"p-5 border-b border-gray-200 flex-shrink-0 bg-white",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(aG.A,{size:24,className:"text-gray-600"})}),(0,d.jsx)("div",{children:(0,d.jsx)("h3",{className:"font-bold text-gray-900",style:{fontSize:"22px"},children:"Chat g\xe9n\xe9ral"})})]}),(0,d.jsxs)("span",{className:"px-3 py-1.5 bg-blue-600 text-white font-medium rounded-full flex-shrink-0",style:{fontSize:"13px"},children:[i.length," messages"]})]}),(0,d.jsxs)("p",{className:"text-gray-500 mt-1",style:{fontSize:"14px"},children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"12 en ligne"})]}),(0,d.jsx)("span",{className:"mx-2 text-gray-300",children:"\xb7"}),(0,d.jsx)("span",{className:"text-gray-600",children:"Tous les \xe9tudiants"})]})]}),(0,d.jsxs)("div",{className:"flex-1 p-5 space-y-5 overflow-y-auto",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundColor:"#fafafa"},children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("span",{className:"px-4 py-2 bg-gray-100 text-gray-500 text-sm font-medium rounded-full",children:"\uD83D\uDD25 Discussion active aujourd'hui"})}),i.map((a,b)=>(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:`flex gap-3 ${"Vous"===a.author?"flex-row-reverse":""}`,children:[(0,d.jsx)("div",{className:`w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0 font-semibold ${a.isMentor||"Vous"===a.author?"bg-gray-900 text-white":"bg-gray-200 text-gray-600"}`,style:{fontSize:"14px"},children:a.authorInitials}),(0,d.jsxs)("div",{className:`max-w-[75%] ${"Vous"===a.author?"items-end":""}`,children:[(0,d.jsxs)("div",{className:`flex items-center gap-2 mb-1.5 ${"Vous"===a.author?"justify-end":""}`,children:[(0,d.jsx)("span",{className:"font-semibold text-gray-800",style:{fontSize:"14px"},children:a.author}),a.isMentor&&(0,d.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 font-medium rounded-md border border-gray-200",style:{fontSize:"11px"},children:"Fondateur"}),(0,d.jsx)("span",{className:"text-gray-400",style:{fontSize:"12px"},children:a.timestamp})]}),(0,d.jsx)("div",{className:`px-4 py-3 rounded-2xl leading-relaxed ${"Vous"===a.author?"bg-gray-900 text-white rounded-tr-md":"bg-white border border-gray-200 text-gray-900 rounded-tl-md"}`,style:{fontSize:"15px"},children:a.content})]})]}),1===b&&(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("span",{className:"px-4 py-2 bg-gray-100 text-gray-500 text-sm font-medium rounded-full",children:"\uD83D\uDC4B 5 nouveaux membres cette semaine"})})]},a.id)),(0,d.jsx)("div",{ref:k})]}),(0,d.jsx)("div",{className:"p-5 border-t border-gray-200 bg-white flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,d.jsxs)("div",{className:"flex gap-0.5",children:[(0,d.jsx)("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",children:(0,d.jsx)(bR.A,{size:20})}),(0,d.jsx)("button",{className:"p-2.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Message vocal",children:(0,d.jsx)(bS.A,{size:20})})]}),(0,d.jsx)("input",{value:c,onChange:a=>g(a.target.value),onKeyPress:a=>"Enter"===a.key&&m(),placeholder:"\xc9cris ton message...",className:"flex-1 px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900 focus:bg-white text-sm"}),(0,d.jsx)("button",{onClick:m,disabled:!c.trim(),className:`p-3 rounded-xl transition-colors ${c.trim()?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-200 text-gray-400"}`,children:(0,d.jsx)(bT.A,{size:20})})]})})]})})}Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now();var cw=c(96589);let cx=(0,_.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var cy=c(71213);let cz=(0,_.A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),cA=(0,_.A)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),cB=(0,_.A)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),cC=[{id:"sarah-1",name:"Sarah Martin",avatar:"\uD83D\uDC69â€\uD83C\uDF93",isOnline:!0,lastMessage:"Merci pour le partage !",lastMessageTime:new Date(Date.now()-3e5),unreadCount:2},{id:"zak-1",name:"Zak El Amrani",avatar:"\uD83D\uDC68â€\uD83D\uDCBC",isOnline:!0,lastMessage:"\xc0 quelle heure pour demain ?",lastMessageTime:new Date(Date.now()-9e5),unreadCount:1},{id:"maya-1",name:"Maya Benali",avatar:"\uD83D\uDC69â€\uD83D\uDD2C",isOnline:!1,lastMessage:"Super id\xe9e pour le projet !",lastMessageTime:new Date(Date.now()-72e5),unreadCount:0},{id:"leo-1",name:"L\xe9o Dubois",avatar:"\uD83D\uDC68â€\uD83C\uDF93",isOnline:!0,lastMessage:"Tu as vu le dernier cours ?",lastMessageTime:new Date(Date.now()-108e5),unreadCount:0},{id:"emma-1",name:"Emma Laurent",avatar:"\uD83D\uDC69",isOnline:!1,lastMessage:"Je t'envoie mes notes ce soir",lastMessageTime:new Date(Date.now()-864e5),unreadCount:0}],cD={"sarah-1":[{id:"m1",senderId:"sarah-1",content:"Salut ! Tu as compris l'exercice 5 ?",timestamp:new Date(Date.now()-36e5),read:!0,type:"text"},{id:"m2",senderId:"me",content:"Oui, je peux t'expliquer si tu veux",timestamp:new Date(Date.now()-33e5),read:!0,type:"text"},{id:"m3",senderId:"sarah-1",content:"Ce serait g\xe9nial ! Tu es dispo demain ?",timestamp:new Date(Date.now()-3e6),read:!0,type:"text"},{id:"m4",senderId:"me",content:"Oui, on peut se retrouver \xe0 la bibli vers 14h",timestamp:new Date(Date.now()-27e5),read:!0,type:"text"},{id:"m5",senderId:"sarah-1",content:"Parfait ! Je t'ai envoy\xe9 le document",timestamp:new Date(Date.now()-6e5),read:!1,type:"text"},{id:"m6",senderId:"sarah-1",content:"Merci pour le partage !",timestamp:new Date(Date.now()-3e5),read:!1,type:"text"}],"zak-1":[{id:"m1",senderId:"zak-1",content:"Hey ! On fait toujours la session de r\xe9vision ?",timestamp:new Date(Date.now()-18e5),read:!0,type:"text"},{id:"m2",senderId:"me",content:"Bien s\xfbr ! Je r\xe9serve la salle",timestamp:new Date(Date.now()-15e5),read:!0,type:"text"},{id:"m3",senderId:"zak-1",content:"\xc0 quelle heure pour demain ?",timestamp:new Date(Date.now()-9e5),read:!1,type:"text"}],"circle-solvay":[{id:"m1",senderId:"marie-s",content:"Bonjour \xe0 tous ! Qui est dispo pour une session de r\xe9vision ce weekend ?",timestamp:new Date(Date.now()-72e5),read:!0,type:"text"},{id:"m2",senderId:"thomas-d",content:"Moi je suis partant ! Samedi matin \xe7a vous va ?",timestamp:new Date(Date.now()-69e5),read:!0,type:"text"},{id:"m3",senderId:"me",content:"\xc7a marche pour moi aussi \uD83D\uDC4D",timestamp:new Date(Date.now()-66e5),read:!0,type:"text"},{id:"m4",senderId:"emma-l",content:"Super ! On se retrouve \xe0 la bibli centrale ?",timestamp:new Date(Date.now()-63e5),read:!0,type:"text"},{id:"m5",senderId:"marie-s",content:"Parfait ! J'ai r\xe9serv\xe9 la salle 204",timestamp:new Date(Date.now()-18e5),read:!1,type:"text"},{id:"m6",senderId:"lucas-m",content:"Super id\xe9e pour la session ! Je serai l\xe0",timestamp:new Date(Date.now()-15e5),read:!1,type:"text"}],"circle-math":[{id:"m1",senderId:"thomas-d",content:"Quelqu'un peut m'expliquer la m\xe9thode de Newton ?",timestamp:new Date(Date.now()-54e5),read:!0,type:"text"},{id:"m2",senderId:"sarah-m",content:"Oui ! C'est une m\xe9thode it\xe9rative pour trouver les racines",timestamp:new Date(Date.now()-51e5),read:!0,type:"text"},{id:"m3",senderId:"me",content:"Je peux partager mes notes si \xe7a aide",timestamp:new Date(Date.now()-48e5),read:!0,type:"text"},{id:"m4",senderId:"thomas-d",content:"Ce serait g\xe9nial, merci !",timestamp:new Date(Date.now()-45e5),read:!0,type:"text"},{id:"m5",senderId:"alex-k",content:"J'ai aussi un bon tuto vid\xe9o \xe0 partager",timestamp:new Date(Date.now()-42e5),read:!0,type:"text"},{id:"m6",senderId:"thomas-d",content:"J'ai trouv\xe9 une solution ! Merci \xe0 tous \uD83C\uDF89",timestamp:new Date(Date.now()-36e5),read:!1,type:"text"}],"circle-belgium":[{id:"m1",senderId:"alex-k",content:"Salut \xe0 tous ! Qui organise le meetup de ce mois ?",timestamp:new Date(Date.now()-144e5),read:!0,type:"text"},{id:"m2",senderId:"marie-s",content:"Je peux m'en occuper ! Que diriez-vous du 15 ?",timestamp:new Date(Date.now()-138e5),read:!0,type:"text"},{id:"m3",senderId:"me",content:"\xc7a me va parfaitement !",timestamp:new Date(Date.now()-135e5),read:!0,type:"text"},{id:"m4",senderId:"sophie-b",content:"\uD83D\uDC4D Je confirme ma pr\xe9sence",timestamp:new Date(Date.now()-132e5),read:!0,type:"text"},{id:"m5",senderId:"alex-k",content:"Qui vient au meetup ? On est d\xe9j\xe0 15 inscrits !",timestamp:new Date(Date.now()-108e5),read:!0,type:"text"}]},cE=[{...cC[0],category:"buddy",isGroupChat:!1},{...cC[1],category:"buddy",isGroupChat:!1},{...cC[4],category:"buddy",isGroupChat:!1},{id:"circle-solvay",name:"Club Solvay Brussels",avatar:"\uD83C\uDFDBï¸",isOnline:!0,lastMessage:"Marie: Super id\xe9e pour la session !",lastMessageTime:new Date(Date.now()-15e5),unreadCount:3,category:"circle",circleId:"solvay-brussels",circleName:"Club Solvay Brussels",isGroupChat:!0,memberCount:234,activeMembers:12},{id:"circle-math",name:"Analyse Math\xe9matique",avatar:"\uD83D\uDCCA",isOnline:!0,lastMessage:"Thomas: J'ai trouv\xe9 une solution !",lastMessageTime:new Date(Date.now()-36e5),unreadCount:1,category:"circle",circleId:"math-analysis",circleName:"Analyse Math\xe9matique",isGroupChat:!0,memberCount:87,activeMembers:8},{id:"circle-belgium",name:"\xc9tudiants Belges",avatar:"\uD83C\uDDE7\uD83C\uDDEA",isOnline:!0,lastMessage:"Alex: Qui vient au meetup ?",lastMessageTime:new Date(Date.now()-108e5),unreadCount:0,category:"circle",circleId:"belgium-students",circleName:"\xc9tudiants Belges",isGroupChat:!0,memberCount:523,activeMembers:45}];function cF({defaultContactId:a}){let[b,c]=(0,e.useState)(""),[f,g]=(0,e.useState)(a&&cC.find(b=>b.id===a)||null),[i,j]=(0,e.useState)(cD),[l,m]=(0,e.useState)(""),n=(0,e.useRef)(null),[o,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)("all"),u=cE.filter(a=>{let c=a.name.toLowerCase().includes(b.toLowerCase()),d="all"===s||"buddies"===s&&"buddy"===a.category||"circles"===s&&"circle"===a.category||"groups"===s&&"group"===a.category;return c&&d}),v={all:cE.length,buddies:cE.filter(a=>"buddy"===a.category).length,circles:cE.filter(a=>"circle"===a.category).length,groups:cE.filter(a=>"group"===a.category).length},w=()=>{if(l.trim()&&f){let a={id:`m${Date.now()}`,senderId:"me",content:l,timestamp:new Date,read:!0,type:"text"};j(b=>({...b,[f.id]:[...b[f.id]||[],a]})),m("")}},x=f&&i[f.id]||[],y=f?.isGroupChat||!1;return(0,d.jsxs)("div",{className:"h-full bg-gray-50 flex pt-4",children:[(0,d.jsxs)("div",{className:`${o?"flex":"hidden"} md:flex flex-col w-full md:w-96 bg-white border-r border-gray-200`,children:[(0,d.jsxs)("div",{className:"p-4 pt-6 border-b border-gray-200",children:[(0,d.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(aG.A,{className:"text-blue-600",size:24}),"Messages"]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:[{id:"all",label:"Tous",icon:q.A},{id:"buddies",label:"Buddies",icon:cx},{id:"circles",label:"Cercles",icon:q.A}].map(a=>{let b=a.icon,c=v[a.id];return(0,d.jsxs)("button",{onClick:()=>t(a.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex-shrink-0 ${s===a.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,d.jsx)(b,{size:16,className:"flex-shrink-0"}),(0,d.jsx)("span",{className:"whitespace-nowrap",children:a.label}),(0,d.jsx)("span",{className:`text-xs px-1.5 py-0.5 rounded-full flex-shrink-0 ${s===a.id?"bg-white/20":"bg-gray-200"}`,children:c})]},a.id)})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(ak.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher une conversation...",value:b,onChange:a=>c(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:u.map(a=>(0,d.jsxs)(h.P.button,{onClick:()=>g(a),className:`w-full p-4 flex items-start gap-3 hover:bg-gray-50 transition-colors border-b border-gray-100 ${f?.id===a.id?"bg-blue-50":""}`,whileHover:{x:4},children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"text-3xl",children:a.avatar}),a.isGroupChat&&a.activeMembers?(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 px-1.5 py-0.5 bg-green-500 text-white text-xs rounded-full border-2 border-white font-medium",children:a.activeMembers}):a.isOnline&&(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),(0,d.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,d.jsx)("span",{className:"font-semibold text-gray-900 truncate",children:a.name}),a.isGroupChat&&(0,d.jsx)("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full flex-shrink-0",children:"Groupe"}),"buddy"===a.category&&!a.isGroupChat&&(0,d.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full flex-shrink-0",children:"Buddy"})]}),a.lastMessageTime&&(0,d.jsx)("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:(a=>{let b=Math.floor((new Date().getTime()-a.getTime())/6e4);return b<1?"\xc0 l'instant":b<60?`${b}min`:b<1440?`${Math.floor(b/60)}h`:a.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})(a.lastMessageTime)})]}),a.isGroupChat&&a.memberCount&&(0,d.jsxs)("div",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[(0,d.jsx)(q.A,{size:12}),a.memberCount," membres \xb7 ",a.activeMembers," en ligne"]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 truncate",children:a.lastMessage||"Nouvelle conversation"}),a.unreadCount>0&&(0,d.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full flex-shrink-0",children:a.unreadCount})]})]})]},a.id))})]}),(0,d.jsx)("div",{className:`${!o||f?"flex":"hidden"} md:flex flex-col flex-1`,children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 pt-6 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>{r(!0),g(null)},className:"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(cl.A,{size:20})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"text-3xl",children:f.avatar}),f.isGroupChat&&f.activeMembers?(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 px-1.5 py-0.5 bg-green-500 text-white text-xs rounded-full border-2 border-white font-medium",children:f.activeMembers}):f.isOnline&&(0,d.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:f.name}),f.isGroupChat&&(0,d.jsx)("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full",children:"Groupe"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:f.isGroupChat?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{size:14}),f.memberCount," membres \xb7 ",f.activeMembers," en ligne"]}):f.isOnline?"En ligne":"Hors ligne"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[f.isGroupChat?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Voir les membres",children:(0,d.jsx)(q.A,{size:20,className:"text-gray-600"})}),(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(p.A,{size:20,className:"text-gray-600"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(cy.A,{size:20,className:"text-gray-600"})}),(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(p.A,{size:20,className:"text-gray-600"})})]}),(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(cz,{size:20,className:"text-gray-600"})})]})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.map((a,b)=>{var c;let e="me"===a.senderId,f=0===b||x[b-1].timestamp.getTime()-a.timestamp.getTime()>3e5;return(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${e?"justify-end":"justify-start"}`,children:(0,d.jsxs)("div",{className:`max-w-[70%] ${e?"items-end":"items-start"} flex flex-col`,children:[f&&(0,d.jsx)("span",{className:"text-xs text-gray-400 mb-1 px-2",children:a.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}),(0,d.jsxs)("div",{children:[!e&&y&&(0,d.jsx)("span",{className:"text-xs font-medium text-gray-600 mb-1 px-2 block",children:{"marie-s":"Marie","thomas-d":"Thomas","emma-l":"Emma","lucas-m":"Lucas","sarah-m":"Sarah","alex-k":"Alex","sophie-b":"Sophie",me:"Moi"}[c=a.senderId]||c}),(0,d.jsx)("div",{className:`px-4 py-2 rounded-2xl ${e?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:(0,d.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:a.content})})]}),e&&(0,d.jsx)("div",{className:"flex items-center gap-1 mt-1 px-2",children:a.read?(0,d.jsx)(cA,{size:14,className:"text-blue-600"}):(0,d.jsx)(k.A,{size:14,className:"text-gray-400"})})]})},a.id)}),(0,d.jsx)("div",{ref:n})]}),(0,d.jsx)("div",{className:"bg-white border-t border-gray-200 p-4",children:(0,d.jsxs)("div",{className:"flex items-end gap-2",children:[(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(cn.A,{size:20,className:"text-gray-600"})}),(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(W.A,{size:20,className:"text-gray-600"})}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("textarea",{value:l,onChange:a=>m(a.target.value),onKeyPress:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),w())},placeholder:"\xc9cris un message...",className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:1})}),(0,d.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(cB,{size:20,className:"text-gray-600"})}),(0,d.jsx)("button",{onClick:w,disabled:!l.trim(),className:"p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,d.jsx)(bT.A,{size:20})})]})})]}):(0,d.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(aG.A,{size:64,className:"text-gray-300 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"S\xe9lectionne une conversation"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Choisis un contact pour commencer \xe0 discuter"})]})})})]})}let cG=(0,_.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var cH=c(76596);function cI({isOpen:a,onClose:b,onJoin:c,roomTitle:f,roomId:g}){let[j,k]=(0,e.useState)("Microphone MacBook Air (Built-in)"),[l,m]=(0,e.useState)("Par d\xe9faut - Haut-parleurs MacBook Air (Built-in)"),[n,o]=(0,e.useState)("Cam\xe9ra FaceTime HD"),[p,q]=(0,e.useState)("720p"),[r,s]=(0,e.useState)("Aucun"),[t,u]=(0,e.useState)("Aucun"),[w,x]=(0,e.useState)(0),[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(!1),[I,J]=(0,e.useState)(!1),K=(0,e.useRef)(null),L=(0,e.useRef)(null);return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",style:{fontFamily:"Parafina, serif"},children:"Configuration des appareils"}),(0,d.jsx)("button",{onClick:b,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-500"})})]}),(0,d.jsx)("div",{className:"p-8",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-12",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6",children:"Audio"}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source du microphone"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>z(!y),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{className:"truncate",children:j}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),y&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["Microphone MacBook Air (Built-in)","Microphone externe USB","Casque Bluetooth"].map(a=>(0,d.jsx)("button",{onClick:()=>{k(a),z(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Activit\xe9 du microphone"}),(0,d.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"h-full rounded-full",style:{backgroundColor:"#00c2ff"},animate:{width:`${w}%`},transition:{duration:.1}})})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source des haut-parleurs"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>B(!A),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{className:"truncate",children:l}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),A&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["Par d\xe9faut - Haut-parleurs MacBook Air (Built-in)","Casque Bluetooth","\xc9cran externe"].map(a=>(0,d.jsx)("button",{onClick:()=>{m(a),B(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("button",{onClick:()=>{new Audio("/test-sound.mp3").play().catch(()=>{let a=new(window.AudioContext||window.webkitAudioContext),b=a.createOscillator(),c=a.createGain();b.connect(c),c.connect(a.destination),b.frequency.value=440,c.gain.value=.1,b.start(),setTimeout(()=>b.stop(),500)})},className:"px-5 py-2.5 rounded-full text-sm font-medium text-white transition-colors flex items-center gap-2",style:{backgroundColor:"#00c2ff"},children:[(0,d.jsx)(b1.A,{size:16}),"Tester les haut-parleurs"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6",children:"Vid\xe9o"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source de la cam\xe9ra"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>D(!C),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{className:"truncate",children:n}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),C&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["Cam\xe9ra FaceTime HD","Webcam USB","iPhone (Continuity)"].map(a=>(0,d.jsx)("button",{onClick:()=>{o(a),D(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Qualit\xe9 vid\xe9o"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>F(!E),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{children:p}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),E&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["480p","720p","1080p"].map(a=>(0,d.jsx)("button",{onClick:()=>{q(a),F(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Transformation vid\xe9o"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>H(!G),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{children:r}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),G&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["Aucun","Miroir","Flou l\xe9ger"].map(a=>(0,d.jsx)("button",{onClick:()=>{s(a),H(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Remplacement d'arri\xe8re-plan"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>J(!I),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-left text-sm text-gray-700 flex items-center justify-between hover:border-gray-300 transition-colors",children:[(0,d.jsx)("span",{children:t}),(0,d.jsx)(au.A,{size:16,className:"text-gray-400 flex-shrink-0 ml-2"})]}),I&&(0,d.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-10 py-1",children:["Aucun","Flou","Biblioth\xe8que","Bureau moderne"].map(a=>(0,d.jsx)("button",{onClick:()=>{u(a),J(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:a},a))})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Aper\xe7u vid\xe9o"}),(0,d.jsx)("div",{className:"aspect-video bg-gray-900 rounded-xl overflow-hidden",children:(0,d.jsx)("video",{ref:K,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]"})})]})]})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[(0,d.jsx)("button",{onClick:b,className:"px-6 py-2.5 rounded-full text-sm font-medium text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,d.jsxs)("button",{onClick:()=>{L.current&&L.current.getTracks().forEach(a=>a.stop()),c()},className:"px-6 py-2.5 rounded-full text-sm font-medium text-white transition-colors flex items-center gap-2",style:{backgroundColor:"#00c2ff"},children:["Rejoindre la room",(0,d.jsx)(O.A,{size:16})]})]})]})})}):null}var cJ=c(10708),cK=c(49269);let cL=(0,_.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var cM=c(58709);let cN=(0,_.A)("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),cO=(0,_.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var cP=c(90133);let cQ=(0,_.A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),cR=(0,_.A)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);var cS=c(19710);function cT({roomId:a,roomTitle:b,currentUser:c,onLeave:f}){let[g,j]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(!1),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[x,y]=(0,e.useState)("participants"),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)("pen"),[H,I]=(0,e.useState)("#000000"),J=(0,e.useRef)(null),K=(0,e.useRef)(!1),L=(0,e.useRef)({x:0,y:0}),[M]=(0,e.useState)([{id:c.id,name:c.name,isMuted:!1,isVideoOn:!0}]),[N,O]=(0,e.useState)([]),P=(0,e.useRef)(null),Q=`https://app.sciencemadesimple.io/room?id=${a}`,R=()=>{z.trim()&&(O(a=>[...a,{id:Date.now().toString(),senderId:c.id,senderName:c.name,message:z.trim(),timestamp:new Date}]),A(""))};return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex bg-white",children:[(0,d.jsxs)("div",{className:"w-80 border-r border-gray-200 flex flex-col bg-white",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,d.jsx)("div",{className:"w-16 h-16 flex items-center justify-center",children:(0,d.jsx)("img",{src:"/favicon.svg",alt:"SMS",className:"w-14 h-14"})})}),(0,d.jsxs)("div",{className:"flex border-b border-gray-100",children:[(0,d.jsx)("button",{onClick:()=>y("participants"),className:`flex-1 p-3 flex items-center justify-center transition-colors ${"participants"===x?"bg-gray-100":"hover:bg-gray-50"}`,children:(0,d.jsx)(q.A,{size:18,className:"participants"===x?"text-gray-900":"text-gray-400"})}),(0,d.jsx)("button",{onClick:()=>y("chat"),className:`flex-1 p-3 flex items-center justify-center transition-colors ${"chat"===x?"bg-gray-100":"hover:bg-gray-50"}`,children:(0,d.jsx)(aG.A,{size:18,className:"chat"===x?"text-gray-900":"text-gray-400"})}),(0,d.jsx)("button",{onClick:()=>y("settings"),className:`flex-1 p-3 flex items-center justify-center transition-colors ${"settings"===x?"bg-gray-100":"hover:bg-gray-50"}`,children:(0,d.jsx)(w.A,{size:18,className:"settings"===x?"text-gray-900":"text-gray-400"})})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col",children:["participants"===x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Pr\xe9sents"}),(0,d.jsx)("span",{className:"w-5 h-5 rounded-full bg-gray-200 text-xs font-medium text-gray-600 flex items-center justify-center",children:M.length})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("button",{className:"w-7 h-7 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:(0,d.jsx)(ak.A,{size:14,className:"text-gray-400"})}),(0,d.jsx)("button",{className:"w-7 h-7 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:(0,d.jsx)(v.A,{size:14,className:"text-gray-400"})})]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto px-4",children:M.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-50",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{className:"w-6 h-6 flex items-center justify-center rounded hover:bg-gray-100 transition-colors",children:a.isMuted?(0,d.jsx)(b_.A,{size:14,className:"text-gray-400"}):(0,d.jsx)(bS.A,{size:14,className:"text-gray-600"})}),(0,d.jsx)("button",{className:"w-6 h-6 flex items-center justify-center rounded hover:bg-gray-100 transition-colors",children:a.isVideoOn?(0,d.jsx)(p.A,{size:14,className:"text-gray-600"}):(0,d.jsx)(b0,{size:14,className:"text-gray-400"})})]})]},a.id))})]}),"chat"===x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Chat"}),(0,d.jsx)("button",{className:"w-7 h-7 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:(0,d.jsx)(v.A,{size:14,className:"text-gray-400"})})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[0===N.length?(0,d.jsx)("p",{className:"text-sm text-gray-400 text-center py-8",children:"Aucun message pour le moment"}):N.map(a=>(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsxs)("span",{className:"font-medium text-gray-900",children:[a.senderName,": "]}),(0,d.jsx)("span",{className:"text-gray-600",children:a.message})]},a.id)),(0,d.jsx)("div",{ref:P})]})]}),"settings"===x&&(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Param\xe8tres"}),(0,d.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Les param\xe8tres audio et vid\xe9o sont disponibles dans la barre de contr\xf4le."})]})]}),"chat"===x&&(0,d.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"text",value:z,onChange:a=>A(a.target.value),onKeyPress:a=>"Enter"===a.key&&R(),placeholder:"Message \xe0 tous...",className:"flex-1 px-3 py-2 bg-gray-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-200"}),(0,d.jsx)("button",{onClick:R,disabled:!z.trim(),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-900 text-white disabled:bg-gray-300 transition-colors",children:(0,d.jsx)(bT.A,{size:14})})]})})]}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col bg-gray-50",children:[(0,d.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,d.jsxs)("div",{className:"max-w-lg w-full",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",style:{fontFamily:"Parafina, serif"},children:"Informations de la room"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Room ID:"}),(0,d.jsx)("p",{className:"text-lg font-medium text-gray-900",children:a})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-white rounded-xl border border-gray-200",children:[(0,d.jsx)("code",{className:"flex-1 text-sm text-gray-600 font-mono truncate",children:Q}),(0,d.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(Q),C(!0),setTimeout(()=>C(!1),2e3)},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium text-gray-700 transition-colors flex items-center gap-2",children:[B?(0,d.jsx)(k.A,{size:14}):(0,d.jsx)(cJ.A,{size:14}),B?"Copi\xe9":"Copier"]})]}),(0,d.jsx)("p",{className:"text-sm text-gray-400 mt-4 text-center",children:"Partagez ce lien pour inviter d'autres participants"})]})}),(0,d.jsx)(i.N,{children:D&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white z-20 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-gray-900",style:{fontFamily:"Parafina, serif"},children:"Tableau blanc"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{let a=J.current;if(a){let b=document.createElement("a");b.download="whiteboard.png",b.href=a.toDataURL(),b.click()}},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"T\xe9l\xe9charger",children:(0,d.jsx)(cK.A,{size:18,className:"text-gray-600"})}),(0,d.jsx)("button",{onClick:()=>{let a=J.current,b=a?.getContext("2d");b&&a&&(b.clearRect(0,0,a.width,a.height),b.fillStyle="#ffffff",b.fillRect(0,0,a.width,a.height))},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Effacer tout",children:(0,d.jsx)(cL,{size:18,className:"text-gray-600"})}),(0,d.jsx)("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-600"})})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 p-3 border-b border-gray-100 bg-gray-50",children:[(0,d.jsx)("div",{className:"flex items-center gap-1 bg-white rounded-xl p-1 shadow-sm",children:[{id:"pen",icon:cM.A,label:"Crayon"},{id:"eraser",icon:cN,label:"Gomme"},{id:"line",icon:cO,label:"Ligne"},{id:"circle",icon:cP.A,label:"Cercle"},{id:"square",icon:cQ,label:"Rectangle"},{id:"text",icon:cR,label:"Texte"}].map(a=>(0,d.jsx)("button",{onClick:()=>G(a.id),className:`p-2.5 rounded-lg transition-colors ${F===a.id?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,title:a.label,children:(0,d.jsx)(a.icon,{size:18})},a.id))}),(0,d.jsx)("div",{className:"flex items-center gap-1 bg-white rounded-xl p-1 shadow-sm",children:["#000000","#ef4444","#3b82f6","#22c55e","#f59e0b","#8b5cf6"].map(a=>(0,d.jsx)("button",{onClick:()=>I(a),className:`w-7 h-7 rounded-lg transition-all ${H===a?"ring-2 ring-offset-2 ring-gray-400":""}`,style:{backgroundColor:a}},a))})]}),(0,d.jsx)("div",{className:"flex-1 relative overflow-hidden",children:(0,d.jsx)("canvas",{ref:J,className:"absolute inset-0 w-full h-full cursor-crosshair",style:{touchAction:"none"},onMouseDown:a=>{K.current=!0;let b=J.current?.getBoundingClientRect();b&&(L.current={x:a.clientX-b.left,y:a.clientY-b.top})},onMouseMove:a=>{if(!K.current)return;let b=J.current,c=b?.getContext("2d"),d=b?.getBoundingClientRect();if(!c||!d)return;let e=a.clientX-d.left,f=a.clientY-d.top;"pen"===F?(c.beginPath(),c.moveTo(L.current.x,L.current.y),c.lineTo(e,f),c.strokeStyle=H,c.lineWidth=2,c.lineCap="round",c.stroke()):"eraser"===F&&(c.beginPath(),c.moveTo(L.current.x,L.current.y),c.lineTo(e,f),c.strokeStyle="#ffffff",c.lineWidth=20,c.lineCap="round",c.stroke()),L.current={x:e,y:f}},onMouseUp:()=>{K.current=!1},onMouseLeave:()=>{K.current=!1}})})]})}),(0,d.jsx)("div",{className:"flex items-center justify-center p-4 bg-white border-t border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 rounded-2xl p-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>j(!g),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl transition-colors ${g?"bg-red-100 text-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,children:g?(0,d.jsx)(b_.A,{size:18}):(0,d.jsx)(bS.A,{size:18})}),(0,d.jsx)("button",{onClick:()=>o(!n),className:"absolute -top-1 -right-1 w-5 h-5 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-50",children:(0,d.jsx)(at.A,{size:12,className:"text-gray-400"})}),n&&(0,d.jsxs)("div",{className:"absolute bottom-full mb-2 left-0 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2",children:[(0,d.jsx)("p",{className:"px-3 py-1 text-xs text-gray-400",children:"Microphone"}),(0,d.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50",children:"Microphone MacBook Air"})]}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Mute"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>m(!l),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl transition-colors ${!l?"bg-red-100 text-red-600":"bg-white text-gray-700 hover:bg-gray-50"}`,children:l?(0,d.jsx)(p.A,{size:18}):(0,d.jsx)(b0,{size:18})}),(0,d.jsx)("button",{onClick:()=>s(!r),className:"absolute -top-1 -right-1 w-5 h-5 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-50",children:(0,d.jsx)(at.A,{size:12,className:"text-gray-400"})}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Video"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:(0,d.jsx)(b3.A,{size:18})}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Partager"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:()=>{E(!0),setTimeout(()=>{let a=J.current;if(a){let b=a.getBoundingClientRect();a.width=b.width,a.height=b.height;let c=a.getContext("2d");c&&(c.fillStyle="#ffffff",c.fillRect(0,0,a.width,a.height))}},100)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl transition-colors ${D?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:D?{backgroundColor:"#00c2ff"}:void 0,children:(0,d.jsx)(cM.A,{size:18})}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Tableau"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white text-gray-700 hover:bg-gray-50 transition-colors",children:(0,d.jsx)(b1.A,{size:18})}),(0,d.jsx)("button",{onClick:()=>u(!t),className:"absolute -top-1 -right-1 w-5 h-5 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-50",children:(0,d.jsx)(at.A,{size:12,className:"text-gray-400"})}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Audio"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",children:(0,d.jsx)(cS.A,{size:18})}),(0,d.jsx)("span",{className:"block text-xs text-gray-500 text-center mt-1",children:"Quitter"})]})]})})]})]})}function cU({userId:a,userName:b,purchasedItems:c,onNavigateToUpgrade:f,onNavigateToCourseReplay:g,userCourses:j=[],isAdmin:k=!1,initialProgramFilter:l,hideHeader:m=!1}){let[n,o]=(0,e.useState)([]),[r,s]=(0,e.useState)([]),[u,w]=(0,e.useState)(""),[x,y]=(0,e.useState)("all"),[z,B]=(0,e.useState)("all"),[C,D]=(0,e.useState)("live"),[F,G]=(0,e.useState)((a=>{if(!a)return"all";let b=a.toLowerCase();return b.includes("physique")||b.includes("ondes")||b.includes("forces")||b.includes("mouvement")?"physics":b.includes("chimie")||b.includes("chimique")||b.includes("\xe9quilibre")?"chemistry":b.includes("math")||b.includes("suites")||b.includes("limites")?"mathematics":b.includes("bio")?"biology":"all"})(l)),[H,I]=(0,e.useState)(!1),[K,M]=(0,e.useState)("buddies"),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(null),[T,U]=(0,e.useState)(!0),[V,W]=(0,e.useState)(!1),[X,Y]=(0,e.useState)(null),[Z,$]=(0,e.useState)(!1),[_,aa]=(0,e.useState)(!1),[ab,ac]=(0,e.useState)(!1),[ad,ae]=(0,e.useState)(null),[af,ag]=(0,e.useState)("registration"),ah=()=>{U(!0);try{let a=cb.getAllStudyRooms();o(a)}catch(a){console.error("Erreur lors du chargement des Study Rooms:",a)}finally{U(!1)}},ai=a=>{if(console.log("\uD83C\uDFAF Rejoindre Study Room:",a.title),a.isComplement&&"ended"===a.status&&a.replayAddedToCourse){console.log("\uD83D\uDCFA Redirection vers le replay de la session Compl\xe9ments"),g&&g(a.courseId,a.id);return}Y(a),$(!0),console.log("âš™ï¸ Configuration des appareils pour:",a.title)},aj=b=>b.currentParticipants.some(b=>b.userId===a&&!b.leftAt),al=a=>a.currentParticipants.filter(a=>a.isBuddy&&!a.leftAt);return T?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center p-16",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-16 h-16 border-4 border-gray-200 rounded-full"}),(0,d.jsx)("div",{className:"w-16 h-16 border-4 border-gray-900 border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]}),(0,d.jsx)("span",{className:"mt-6 text-gray-700 font-medium",children:"Chargement des Study Rooms..."}),(0,d.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Pr\xe9paration de l'espace collaboratif"})]}):(0,d.jsxs)("div",{className:"h-full flex flex-col",children:[!m&&(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-6 py-6 flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h1",{className:"text-gray-900 font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"64px"},children:"STUDY ROOMS"}),(0,d.jsxs)("button",{onClick:()=>O(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-all",children:[(0,d.jsx)(A.A,{size:18}),(0,d.jsx)("span",{children:"Cr\xe9er une Room"})]})]})}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[(0,d.jsxs)("div",{className:"relative max-w-md",children:[(0,d.jsx)(ak.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher...",value:u,onChange:a=>w(a.target.value),className:"w-full pl-11 pr-4 py-3 bg-white border border-gray-200 rounded-full text-sm font-medium text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-all"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-start gap-10",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Type"}),(0,d.jsx)("div",{className:"flex gap-2",children:[{id:"all",label:"Tous"},{id:"silent",label:"Silencieuse"},{id:"interactive",label:"Interactive"},{id:"complement",label:"Mentor"}].map(a=>(0,d.jsx)("button",{onClick:()=>y(a.id),className:`px-5 py-2.5 rounded-full text-base font-medium transition-all ${x===a.id?"all"===a.id?"bg-gray-900 text-white":"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Visibilit\xe9"}),(0,d.jsx)("div",{className:"flex gap-2",children:[{id:"all",label:"Toutes"},{id:"public",label:"Publique"},{id:"buddies",label:"Buddies"},{id:"private",label:"Priv\xe9e"}].map(a=>(0,d.jsx)("button",{onClick:()=>B(a.id),className:`px-5 py-2.5 rounded-full text-base font-medium transition-all ${z===a.id?"all"===a.id?"bg-gray-900 text-white":"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Statut"}),(0,d.jsx)("div",{className:"flex gap-2",children:[{id:"all",label:"Tous"},{id:"live",label:"En cours"},{id:"scheduled",label:"Programm\xe9e"},{id:"ended",label:"Termin\xe9e"}].map(a=>(0,d.jsx)("button",{onClick:()=>D(a.id),className:`px-5 py-2.5 rounded-full text-base font-medium transition-all ${C===a.id?"all"===a.id?"bg-gray-900 text-white":"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsx)("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Programme"}),(0,d.jsx)("div",{className:"flex gap-2",children:[{id:"all",label:"Tous"},{id:"physics",label:"Physique"},{id:"chemistry",label:"Chimie"},{id:"mathematics",label:"Maths"},{id:"biology",label:"Biologie"}].map(a=>(0,d.jsx)("button",{onClick:()=>G(a.id),className:`px-5 py-2.5 rounded-full text-base font-medium transition-all ${F===a.id?"all"===a.id?"bg-gray-900 text-white":"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]})]}),(0,d.jsx)(i.N,{children:H&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-6 border border-gray-200 shadow-sm space-y-5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"p-2 bg-gray-900 rounded-lg",children:(0,d.jsx)(cG,{size:16,className:"text-white"})}),"Filtres Avanc\xe9s"]}),(0,d.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,d.jsx)(v.A,{size:20})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cours"}),(0,d.jsxs)("select",{value:filterCourse,onChange:a=>setFilterCourse(a.target.value),className:"w-full px-4 py-2.5 text-sm bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent font-medium text-gray-700 transition-all cursor-pointer",children:[(0,d.jsx)("option",{value:"all",children:"Tous les cours"}),j.map(a=>(0,d.jsx)("option",{value:a.id,children:a.title},a.id))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Trier par"}),(0,d.jsxs)("select",{value:K,onChange:a=>M(a.target.value),className:"w-full px-4 py-2.5 text-sm bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-900 focus:border-transparent font-medium text-gray-700 transition-all cursor-pointer",children:[(0,d.jsx)("option",{value:"buddies",children:"\uD83E\uDD1D Buddies"}),(0,d.jsx)("option",{value:"participants",children:"\uD83D\uDC65 Participants"}),(0,d.jsx)("option",{value:"xp",children:"âš¡ Points XP"}),(0,d.jsx)("option",{value:"recent",children:"\uD83D\uDD52 R\xe9cent"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priorit\xe9"}),(0,d.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 bg-white border border-gray-200 rounded-xl hover:border-gray-300 transition-all",children:[(0,d.jsx)("input",{type:"checkbox",checked:showBuddyRoomsFirst,onChange:a=>setShowBuddyRoomsFirst(a.target.checked),className:"w-5 h-5 rounded border-gray-300 text-gray-900 focus:ring-gray-900"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Buddies en premier"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col justify-center p-3 bg-white border border-gray-200 rounded-xl",children:[(0,d.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[r.length," room",r.length>1?"s":""]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[r.filter(a=>a.hasActiveBuddies).length," avec buddies"]})]})]})]})}),(()=>{let b=n.filter(b=>cb.checkStudyRoomAccess(a,b.courseId,c).canJoin&&!aj(b));console.log("\uD83C\uDFAF Study Rooms accessibles pour suggestions:",b.length);let e=b.map(a=>{let b=0,c=al(a),d=a.currentParticipants.filter(a=>!a.leftAt).length;if(a.isComplement&&"live"===a.status&&(b+=1e3),c.length>0&&(b+=100*c.length),"live"===a.status&&(b+=20*d,"interactive"===a.type&&(b+=50)),a.isComplement&&"scheduled"===a.status&&a.startsAt){let c=new Date(a.startsAt).getTime()-Date.now();c<36e5&&c>0&&(b+=500-c/7200)}if("scheduled"===a.status&&a.startsAt){let c=new Date(a.startsAt).getTime()-Date.now();c<18e5&&c>0&&(b+=200-c/9e3)}return{room:a,score:b}}).filter(({score:a})=>a>0).sort((a,b)=>b.score-a.score).slice(0,3).map(({room:a})=>a);return(console.log("âœ¨ Suggestions trouv\xe9es:",e.length,e.map(a=>({id:a.id,name:a.courseName,isComplement:a.isComplement,status:a.status,buddyCount:a.buddyCount}))),0===e.length)?(console.log("âŒ Aucune suggestion - retour null"),null):(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(J.A,{className:"w-5 h-5 text-blue-600"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Suggestions pour vous"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>{let b=al(a);return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl p-4 border-2 border-blue-200 shadow-lg shadow-blue-500/10 overflow-hidden",children:[(0,d.jsxs)("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:["live"===a.status&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-600 text-white text-sm font-bold rounded-md shadow-lg animate-pulse",children:[(0,d.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),"LIVE"]}),a.isComplement&&(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-amber-600 text-white text-sm font-bold rounded-md shadow-lg",children:[(0,d.jsx)(L.A,{className:"w-3 h-3"}),"Compl\xe9ments"]})]}),(0,d.jsx)("h4",{className:"font-bold text-base text-gray-900 mb-2 pr-28",children:a.courseName}),(0,d.jsxs)("div",{className:"space-y-2 mb-3",children:[b.length>0&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,d.jsx)("div",{className:"flex -space-x-1.5",children:b.slice(0,3).map(a=>(0,d.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full border-2 border-white flex items-center justify-center text-white text-sm font-bold shadow-sm",title:a.userName,children:a.userName.charAt(0)},a.id))}),(0,d.jsxs)("span",{className:"font-medium",children:[b.length," ",b.length>1?"buddies":"buddy","live"===a.status?" en ligne":" inscrit(s)"]})]}),"live"===a.status&&a.currentParticipants.filter(a=>!a.leftAt).length>0&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,d.jsx)(q.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{children:[a.currentParticipants.filter(a=>!a.leftAt).length," participant",a.currentParticipants.filter(a=>!a.leftAt).length>1?"s":"","interactive"===a.type?" â€¢ Interactive":" actif(s)"]})]}),"scheduled"===a.status&&a.startsAt&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-700 bg-blue-50 px-3 py-1.5 rounded-lg",children:[(0,d.jsx)(t.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{className:"font-medium",children:["Commence dans ",Math.round((new Date(a.startsAt).getTime()-Date.now())/6e4)," min",a.isComplement&&" â€¢ Avec Zak"]})]})]}),(0,d.jsx)("button",{onClick:()=>ai(a),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 transition-all text-sm shadow-lg shadow-blue-500/30",children:"Rejoindre maintenant"})]},`suggested-${a.id}`)})})]})})(),(0,d.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:0===r.length?(0,d.jsxs)("div",{className:"col-span-full text-center py-16 bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200",children:[(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:(0,d.jsx)(p.A,{className:"w-20 h-20 text-gray-300 mx-auto mb-5"})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Aucune Study Room trouv\xe9e"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:u||"all"!==x||"all"!==z||"all"!==C||"all"!==F?"Essayez de modifier vos filtres pour trouver d'autres Study Rooms":"Cr\xe9ez la premi\xe8re Study Room pour commencer \xe0 \xe9tudier en collaboration"}),(0,d.jsxs)(h.P.button,{onClick:()=>O(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl font-semibold hover:from-gray-800 hover:to-gray-700 transition-all shadow-lg shadow-gray-900/20",children:[(0,d.jsx)(A.A,{size:18}),(0,d.jsx)("span",{children:"Cr\xe9er une Study Room"})]})]}):r.map(b=>{let e=aj(b);(b=>{let c=b.currentParticipants.find(b=>b.userId===a&&!b.leftAt);return c?.role})(b);let f=al(b);cb.checkStudyRoomAccess(a,b.courseId,c);let i=b.currentParticipants.filter(a=>!a.leftAt).length;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},transition:{type:"spring",stiffness:300,damping:20},className:"bg-white rounded-2xl p-5 border border-gray-200 hover:border-gray-300 hover:shadow-lg transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:["live"===b.status&&(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-red-500 text-white rounded-full text-sm font-bold",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),b.isComplement&&(0,d.jsx)("span",{className:"inline-flex items-center gap-1 text-orange-500 text-sm font-semibold",children:"â˜… Recommand\xe9e"})]}),(0,d.jsx)("h3",{className:"font-bold text-xl text-gray-900 mb-2",children:b.isComplement?"Session Compl\xe9ments":b.title||b.courseName}),(0,d.jsxs)("p",{className:"text-gray-500 text-sm mb-4",children:[(()=>{if("live"===b.status&&b.startsAt){let a=Math.round((Date.now()-new Date(b.startsAt).getTime())/6e4);return`D\xe9marr\xe9e il y a ${a} min`}if("scheduled"===b.status&&b.startsAt){let a=Math.round((new Date(b.startsAt).getTime()-Date.now())/6e4);return`Commence dans ${a} min`}return null})(),b.isComplement&&" \xb7 Avec Zak (mentor)",!b.isComplement&&` \xb7 Avec ${b.creatorName}`]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex -space-x-2",children:[b.currentParticipants.filter(a=>!a.leftAt).slice(0,3).map((a,b)=>(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded-full border-2 border-white flex items-center justify-center text-white text-sm font-bold",children:String.fromCharCode(65+b)},a.id)),i>3&&(0,d.jsxs)("div",{className:"w-8 h-8 bg-gray-400 rounded-full border-2 border-white flex items-center justify-center text-white text-sm font-bold",children:["+",i-3]})]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,d.jsxs)("span",{className:"font-semibold text-gray-900",children:[i," dedans"]}),f.length>0&&(0,d.jsxs)("span",{className:"text-gray-500",children:[" â€” dont ",f.length," de tes buddys"]})]})]}),b.isComplement&&"ended"===b.status&&b.replayAddedToCourse?(0,d.jsx)("button",{onClick:()=>(b=>{if(console.log("\uD83D\uDCFA Tentative de voir le replay:",b.title),!cb.checkStudyRoomAccess(a,b.courseId,c).canJoin){ae(b.courseId),ag("replay"),ac(!0);return}console.log("âœ… Acc\xe8s autoris\xe9 - Ouverture du replay"),g&&g(b.courseId,b.id)})(b),className:"px-5 py-2.5 bg-purple-600 text-white rounded-full font-semibold hover:bg-purple-700 transition-all text-sm",children:"Voir le replay"}):e?(0,d.jsx)("button",{onClick:()=>{var c;return c=b.id,void(cb.leaveStudyRoom(c,a)&&ah())},className:"px-5 py-2.5 bg-red-600 text-white rounded-full font-semibold hover:bg-red-700 transition-all text-sm",children:"Quitter"}):(0,d.jsx)("button",{onClick:()=>ai(b),className:"px-5 py-2.5 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-all text-sm",children:"Rejoindre"})]})]},b.id)})})]}),P&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Signaler un abus"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Votre signalement sera examin\xe9 par notre \xe9quipe de mod\xe9ration."}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>{Q(!1),S(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Annuler"}),(0,d.jsx)("button",{onClick:()=>{console.log("Signalement envoy\xe9 pour:",R),Q(!1),S(null)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Signaler"})]})]})}),ab&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-3xl shadow-2xl max-w-lg w-full p-8",children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4 ring-4 ring-blue-100/50",children:(0,d.jsx)(E.A,{className:"w-9 h-9 text-blue-600"})}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"replay"===af?"Un contenu exclusif vous attend ! \uD83D\uDCFA":"Une session exclusive vous attend ! \uD83C\uDF93"}),(0,d.jsx)("p",{className:"text-gray-600 text-base leading-relaxed mb-4",children:"replay"===af?(0,d.jsxs)(d.Fragment,{children:["Ce replay de la session ",(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"Compl\xe9ments avec Zak"})," est r\xe9serv\xe9 aux \xe9tudiants ayant d\xe9bloqu\xe9 le cours complet."]}):(0,d.jsxs)(d.Fragment,{children:["Cette session ",(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"Compl\xe9ments avec Zak"})," est r\xe9serv\xe9e aux \xe9tudiants ayant d\xe9bloqu\xe9 le cours complet."]})}),(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 mb-2",children:[(0,d.jsx)("p",{className:"text-sm text-blue-900 font-medium",children:"âœ¨ D\xe9bloquez maintenant et acc\xe9dez \xe0 :"}),(0,d.jsxs)("ul",{className:"text-sm text-blue-800 mt-2 space-y-1 text-left",children:[(0,d.jsx)("li",{children:"â€¢ Toutes les sessions Compl\xe9ments"}),(0,d.jsx)("li",{children:"â€¢ Les replays exclusifs"}),(0,d.jsx)("li",{children:"â€¢ L'accompagnement personnalis\xe9 de Zak"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>{ac(!1),ae(null)},className:"flex-1 px-4 py-3 text-gray-600 bg-white rounded-xl hover:bg-gray-50 transition-all font-medium border border-gray-200",children:"Plus tard"}),(0,d.jsx)("button",{onClick:()=>{ac(!1),ad&&f&&f(ad),ae(null)},className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all font-semibold shadow-lg shadow-blue-500/30",children:"D\xe9bloquer le cours â†’"})]})]})}),(0,d.jsx)(cH.C,{isOpen:N,onClose:()=>O(!1),onCreateRoom:c=>{try{let d=cb.createStudyRoom({courseId:c.courseId,title:c.title,description:c.description,type:c.type,visibility:c.visibility,createdBy:a,creatorName:b,startsAt:c.isImmediate?new Date:c.startsAt||new Date,estimatedDuration:c.estimatedDuration,isComplement:c.isComplement,enableRecording:c.enableRecording});console.log("âœ… Study Room cr\xe9\xe9e avec succ\xe8s:",d),ah(),O(!1)}catch(a){console.error("âŒ Erreur lors de la cr\xe9ation de la Study Room:",a)}},userCourses:j,isAdmin:k}),X&&V&&(0,d.jsx)(ck,{isOpen:V,onClose:()=>{W(!1),Y(null)},room:{id:X.id,name:X.title,courseName:X.courseName,currentUsers:[`${a}`],maxUsers:10,isActive:"live"===X.status},currentUserId:a}),X&&(0,d.jsx)(cI,{isOpen:Z,onClose:()=>{$(!1),Y(null)},onJoin:()=>{if(!X)return;let b=b7.awardXP(a,"study-room-join",20);b.levelUp&&console.log("\uD83C\uDF89 Level Up! Nouveau niveau:",b.newLevel),$(!1),aa(!0),console.log("âœ… Connexion \xe0 la Study Room:",X.title)},roomTitle:X.title,roomId:X.id}),X&&_&&(0,d.jsx)(cT,{roomId:X.id,roomTitle:X.title,currentUser:{id:a,name:b},onLeave:()=>{aa(!1),Y(null)}})]})}let cV=[{id:"coaching-addon",title:"Session Coaching Personnalis\xe9",description:"Une heure avec un expert pour optimiser ton parcours",originalPrice:49,offerPrice:19,savings:"61% d'\xe9conomies",features:["Analyse personnalis\xe9e de tes besoins","Plan d'\xe9tude sur mesure","Techniques d'apprentissage avanc\xe9es","Suivi de progression"],popularity:"80% des \xe9tudiants ajoutent cette option",timeLeft:"Offre valable pendant 10 minutes"},{id:"study-guide",title:"Guide M\xe9thodes d'Excellence",description:"PDF exclusif avec toutes nos techniques secr\xe8tes",originalPrice:29,offerPrice:9,savings:"69% d'\xe9conomies",features:["Plus de 100 pages de contenu","Techniques de m\xe9morisation","Gestion du stress aux examens","Planning optimal"],popularity:"92% de nos \xe9tudiants excellent utilisent ce guide"}],cW=({item:a,onClose:b,onConfirm:c})=>{let[f,g]=(0,e.useState)("review"),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)(!1),n=a.price+j.reduce((a,b)=>a+b.offerPrice,0),o=j.reduce((a,b)=>a+(b.originalPrice-b.offerPrice),0);return(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,d.jsx)(H.A,{className:"text-white",size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Ton Capital Cognitif"}),(0,d.jsx)("p",{className:"text-purple-100 text-sm",children:"Investissement dans ton avenir"})]})]}),(0,d.jsx)("button",{onClick:b,className:"text-white hover:text-purple-200 text-2xl",children:"\xd7"})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:["R\xe9vision","Optimisation","Finalisation"].map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${b<=["review","offers","payment"].indexOf(f)?"bg-white text-purple-600":"bg-white/20 text-white"}`,children:b+1}),(0,d.jsx)("span",{className:"ml-2 text-sm",children:a}),b<2&&(0,d.jsx)(O.A,{size:16,className:"mx-2"})]},a))})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto max-h-[600px]",children:(0,d.jsxs)(i.N,{mode:"wait",children:["review"===f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Excellente d\xe9cision ! \uD83C\uDFAF"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Tu es sur le point d'investir dans ton avenir acad\xe9mique"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-6 mb-6",children:[(0,d.jsx)("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:a.name}),a.credits&&(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("span",{className:"text-3xl",children:"\uD83E\uDDE0"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-bold text-gray-900",children:[a.credits+(a.bonusCredits||0)," cr\xe9dits au total"]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[a.credits," cr\xe9dits + ",a.bonusCredits||0," bonus"]})]})]}),(0,d.jsx)("div",{className:"space-y-2 mb-4",children:a.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)(M.A,{size:16,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-gray-700",children:a})]},b))}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[a.price,"â‚¬"]})})]}),(0,d.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(q.A,{size:16,className:"text-green-600"}),(0,d.jsx)("span",{className:"font-medium text-green-800",children:"Ce que disent nos \xe9tudiants"})]}),(0,d.jsx)("p",{className:"text-green-700 text-sm italic",children:"\"Gr\xe2ce \xe0 mes cr\xe9dits, j'ai pu d\xe9bloquer exactement les cours dont j'avais besoin. Mon niveau en maths a explos\xe9 !\" - Sarah, 17 ans"})]}),(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 cursor-pointer",onClick:()=>m(!l),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:16,className:"text-blue-600"}),(0,d.jsx)("span",{className:"font-medium text-blue-800",children:"Garantie R\xe9ussite 100%"})]}),(0,d.jsx)(h.P.div,{animate:{rotate:180*!!l},className:"text-blue-600",children:(0,d.jsx)(O.A,{size:16,className:"transform rotate-90"})})]}),(0,d.jsx)(i.N,{children:l&&(0,d.jsx)(h.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-3 text-sm text-blue-700",children:(0,d.jsx)("p",{children:"Si tu n'es pas satisfait de tes progr\xe8s dans les 30 jours, nous te remboursons int\xe9gralement ET tu gardes tes cr\xe9dits. Notre mission : ta r\xe9ussite, pas ton argent."})})})]})]},"review"),"offers"===f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Optimisons ton investissement ! âœ¨"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Des offres exclusives disponibles uniquement maintenant"})]}),(0,d.jsx)("div",{className:"space-y-4 mb-6",children:cV.map(a=>(0,d.jsxs)(h.P.div,{whileHover:{scale:1.02},className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${j.find(b=>b.id===a.id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,onClick:()=>(a=>{k(b=>b.find(b=>b.id===a.id)?b.filter(b=>b.id!==a.id):[...b,a])})(a),children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-1",children:a.title}),(0,d.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:a.description}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[a.offerPrice,"â‚¬"]}),(0,d.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[a.originalPrice,"â‚¬"]}),(0,d.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium",children:a.savings})]}),(0,d.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2 mb-3",children:(0,d.jsx)("p",{className:"text-yellow-800 text-xs font-medium",children:a.popularity})}),(0,d.jsx)("div",{className:"space-y-1",children:a.features.slice(0,2).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,d.jsx)(M.A,{size:12,className:"text-green-500"}),(0,d.jsx)("span",{children:a})]},b))})]}),(0,d.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${j.find(b=>b.id===a.id)?"border-green-500 bg-green-500":"border-gray-300"}`,children:j.find(b=>b.id===a.id)&&(0,d.jsx)(M.A,{size:16,className:"text-white"})})]}),a.timeLeft&&(0,d.jsxs)("div",{className:"flex items-center gap-1 text-xs text-orange-600",children:[(0,d.jsx)(t.A,{size:12}),(0,d.jsx)("span",{children:a.timeLeft})]})]},a.id))}),j.length>0&&(0,d.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,d.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Ton optimisation :"}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-green-700",children:[(0,d.jsx)("span",{children:"\xc9conomies suppl\xe9mentaires :"}),(0,d.jsxs)("span",{className:"font-bold",children:["-",o,"â‚¬"]})]})]})]},"offers"),"payment"===f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pr\xeat pour le d\xe9collage ! \uD83D\uDE80"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Un dernier r\xe9capitulatif avant de booster ton apprentissage"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-6 mb-6",children:[(0,d.jsx)("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"R\xe9capitulatif"}),(0,d.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-700",children:a.name}),(0,d.jsxs)("span",{className:"font-medium",children:[a.price,"â‚¬"]})]}),j.map(a=>(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:a.title}),(0,d.jsxs)("span",{className:"text-green-600",children:[a.offerPrice,"â‚¬"]})]},a.id))]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,d.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:[n,"â‚¬"]})]}),o>0&&(0,d.jsxs)("div",{className:"text-green-600 text-sm text-right",children:["Tu \xe9conomises ",o,"â‚¬ !"]})]})]}),(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(ae.A,{size:16,className:"text-blue-600"}),(0,d.jsx)("span",{className:"font-medium text-blue-800",children:"Notre engagement"})]}),(0,d.jsx)("p",{className:"text-blue-700 text-sm",children:"Nous ne te laissons pas seul. Notre \xe9quipe t'accompagne jusqu'\xe0 ta r\xe9ussite. C'est notre mission, pas juste un service."})]})]},"payment")]})}),(0,d.jsxs)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["Total : ",n,"â‚¬"]}),o>0&&(0,d.jsxs)("div",{className:"text-green-600 text-sm",children:["\xc9conomies : ",o,"â‚¬"]})]}),(0,d.jsxs)("button",{onClick:()=>{"review"===f?g("offers"):"offers"===f?g("payment"):c([a,...j])},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:["payment"===f?"Investir maintenant":"Continuer",(0,d.jsx)(O.A,{size:16})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-4 text-xs text-gray-500",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(E.A,{size:12,className:"text-green-500"}),(0,d.jsx)("span",{children:"Paiement s\xe9curis\xe9"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(y.A,{size:12,className:"text-blue-500"}),(0,d.jsx)("span",{children:"Garantie 30 jours"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(ae.A,{size:12,className:"text-red-500"}),(0,d.jsx)("span",{children:"Support bienveillant"})]})]})]})]})})},cX=`
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .preserve-3d {
    transform-style: preserve-3d;
  }
  
  .staircase-step {
    transform-style: preserve-3d;
  }
  
  .staircase-step:hover {
    transform: translateZ(10px) rotateX(-2deg) rotateY(2deg);
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotateX(-15deg) rotateY(15deg); }
    50% { transform: translateY(-5px) rotateX(-15deg) rotateY(15deg); }
  }
  
  .step-float {
    animation: float 3s ease-in-out infinite;
  }
`,cY=({steps:a,onStepClick:b,className:c="",height:e="h-[600px]"})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:cX}}),(0,d.jsxs)("div",{className:`relative w-full ${e} overflow-hidden rounded-2xl ${c}`,role:"region","aria-label":"Parcours acad\xe9mique interactif",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-blue-300 to-blue-800",children:(0,d.jsx)("div",{className:"absolute inset-0",children:(0,d.jsx)("div",{className:"absolute bottom-0 left-0 w-full",children:(0,d.jsxs)("svg",{viewBox:"0 0 1200 400",className:"w-full h-full opacity-20",preserveAspectRatio:"none",children:[(0,d.jsx)("path",{d:"M0,400 L0,200 L200,120 L400,180 L600,100 L800,160 L1000,80 L1200,140 L1200,400 Z",fill:"rgba(59, 130, 246, 0.3)"}),(0,d.jsx)("path",{d:"M0,400 L0,250 L150,200 L350,240 L550,180 L750,220 L950,160 L1200,200 L1200,400 Z",fill:"rgba(59, 130, 246, 0.2)"}),(0,d.jsx)("path",{d:"M0,400 L0,300 L100,280 L300,320 L500,280 L700,300 L900,260 L1200,280 L1200,400 Z",fill:"rgba(59, 130, 246, 0.1)"})]})})})}),(0,d.jsx)("div",{className:"relative h-full overflow-hidden perspective-1000",children:(0,d.jsx)("div",{className:"relative w-full h-full transform-gpu",style:{transformStyle:"preserve-3d"},children:(0,d.jsx)("div",{className:"absolute inset-0",style:{perspective:"1000px"},children:a.map((c,e)=>{let f=a.length,g=e/Math.max(1,f-1);return(0,d.jsxs)(h.P.div,{className:"absolute cursor-pointer group",style:{left:`${15+70/f*g*f}%`,top:`${75-50/f*g*f}%`,transform:"translate(-50%, -50%)",zIndex:f-e},initial:{opacity:0,scale:0,rotateX:-90},animate:{opacity:1,scale:1,rotateX:0},transition:{delay:.15*e,duration:.8,type:"spring",stiffness:120},whileHover:{scale:1.1,rotateX:-5,transition:{duration:.2}},onClick:()=>b?.(e,c),tabIndex:0,role:"button","aria-label":`\xc9tape ${e+1}: ${c.title}. ${c.description}`,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),b?.(e,c))},className:"focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-60 rounded-xl",children:[(0,d.jsxs)("div",{className:"relative transform-gpu staircase-step step-float",style:{transformStyle:"preserve-3d",animationDelay:`${.5*e}s`},children:[(0,d.jsx)("div",{className:"absolute bg-black opacity-15 rounded-lg",style:{width:"88px",height:"88px",left:"12px",top:"12px",transform:"rotateX(90deg) translateZ(-2px)",filter:"blur(4px)"}}),(0,d.jsxs)("div",{className:"relative bg-gradient-to-br from-yellow-100 to-yellow-200 border-2 border-yellow-300 rounded-lg shadow-xl group-hover:shadow-2xl transition-all duration-300 flex items-center justify-center",style:{width:"80px",height:"80px",transform:"rotateX(-15deg) rotateY(15deg)",transformStyle:"preserve-3d"},children:[(0,d.jsx)("div",{className:"absolute bg-gradient-to-b from-yellow-200 to-yellow-400 border-r-2 border-yellow-400",style:{width:"12px",height:"80px",right:"-12px",top:"0",transform:"rotateY(90deg)",transformOrigin:"left center"}}),(0,d.jsx)("div",{className:"absolute bg-gradient-to-r from-yellow-300 to-yellow-500 border-b-2 border-yellow-500",style:{width:"80px",height:"12px",left:"0",bottom:"-12px",transform:"rotateX(-90deg)",transformOrigin:"center top"}}),(0,d.jsx)("div",{className:"relative z-10 text-3xl group-hover:scale-125 transition-transform duration-200 drop-shadow-sm",children:"string"==typeof c.icon?(0,d.jsx)("span",{role:"img","aria-hidden":"true",children:c.icon}):c.icon}),c.status&&(0,d.jsx)("div",{className:`absolute -top-2 -right-2 w-5 h-5 rounded-full border-2 border-white shadow-md ${"completed"===c.status?"bg-green-500":"current"===c.status?"bg-blue-500 animate-pulse":"bg-gray-400"}`})]}),(0,d.jsx)("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 z-20",style:{transform:"translateX(-50%) translateZ(20px)"},children:(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-700 text-white text-sm font-bold rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:e+1})})]}),(0,d.jsxs)("div",{className:`absolute ${e%2==0?"left-24":"right-24"} top-0 w-72 p-4 bg-white bg-opacity-95 backdrop-blur-md rounded-xl shadow-xl border border-gray-200 opacity-0 group-hover:opacity-100 transition-all duration-300 transform ${e%2==0?"translate-x-4":"-translate-x-4"} group-hover:translate-x-0 pointer-events-none z-30`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-sm font-bold rounded-full flex items-center justify-center shadow-md",children:e+1}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:c.title})]}),(0,d.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:c.description}),c.status&&(0,d.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${"completed"===c.status?"bg-green-100 text-green-800":"current"===c.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:["completed"===c.status&&"âœ“ Termin\xe9","current"===c.status&&"â–¶ En cours","locked"===c.status&&"\uD83D\uDD12 Verrouill\xe9"]}),(0,d.jsx)("div",{className:`absolute top-8 ${e%2==0?"-left-3":"-right-3"} w-6 h-6 bg-white border-l border-b border-gray-200 transform rotate-45 shadow-sm`})]})]},e)})})})})]})]}),cZ=[{id:"course-path-1",name:"Parcours Montagne",path:"/course-backgrounds/course-path-1.svg",description:"Chemin d'apprentissage avec montagnes et \xe9tapes progressives",preview:"#87ceeb"},{id:"course-path-2",name:"Chemin Sinueux",path:"/course-backgrounds/course-path-2.svg",description:"Parcours dynamique avec chemin color\xe9 et arbres",preview:"#e0f2fe"},{id:"course-path-3",name:"Style Acad\xe9mique",path:"/course-backgrounds/course-path-3.svg",description:"Design universitaire minimaliste et professionnel",preview:"#f8f9fa"},{id:"default",name:"Design Original",path:"",description:"Arri\xe8re-plan par d\xe9faut de la plateforme",preview:"#ffffff"}],c$=function({selectedBackground:a,onBackgroundChange:b}){let[c,f]=(0,e.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.P.button,{onClick:()=>f(!0),className:"fixed top-20 right-6 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-lg border border-gray-200 flex items-center justify-center z-40 hover:bg-white transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,d.jsx)(w.A,{size:20,className:"text-gray-700"})}),(0,d.jsx)(i.N,{children:c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:()=>f(!1)}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl bg-white rounded-2xl shadow-2xl z-50 overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Personnaliser le fond"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Choisissez un arri\xe8re-plan pour votre parcours"})]}),(0,d.jsx)("button",{onClick:()=>f(!1),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:(0,d.jsx)(v.A,{size:16,className:"text-gray-600"})})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4",children:cZ.map(c=>(0,d.jsxs)(h.P.div,{className:`
                        relative cursor-pointer rounded-xl border-2 overflow-hidden transition-all duration-300
                        ${a===c.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-gray-300"}
                      `,onClick:()=>{b(c.id),f(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,d.jsxs)("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:["default"!==c.id?(0,d.jsx)("img",{src:c.path,alt:c.name,className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full",style:{backgroundColor:c.preview},children:(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-gray-500 text-4xl",children:"\uD83C\uDF93"})})}),a===c.id&&(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)(k.A,{size:12,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:c.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:c.description})]})]},c.id))}),(0,d.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:(0,d.jsxs)("p",{className:"text-sm text-blue-800",children:["\uD83D\uDCA1 ",(0,d.jsx)("strong",{children:"Astuce :"})," Vous pouvez changer l'arri\xe8re-plan \xe0 tout moment depuis les param\xe8tres de votre parcours."]})})]})]})]})})]})},c_=({course:a,lessons:b,onSelectLesson:c,onClose:f,purchasedItems:g=new Set})=>{let[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)("default"),n=b.length>0?b:(0,ac.qD)(a.id),o=n.map((b,c)=>{let d,e;d="video"===b.type?"\uD83C\uDFA5":"quiz"===b.type?"â“":"exercise"===b.type?"\uD83D\uDCAA":"reading"===b.type?"\uD83D\uDCD6":"\uD83D\uDCDA";let f=g.has(`lesson-${b.id}`),h=g.has(`course-${a.id}`),i=g.has(`pack-${a.packId||"any"}`);return e=b.completed?"completed":b.unlocked||b.isOwned||f||h||i?"current":"locked",{icon:d,title:b.title,description:`${"video"===b.type?"Vid\xe9o":"quiz"===b.type?"Quiz":"exercise"===b.type?"Exercice":"Lecture"} - 
                   ${b.duration} min ${b.completed?"âœ“":b.unlocked||b.isOwned||f||h||i?"â–¶":"\uD83D\uDD12"}`,status:e}}),p=n.filter(a=>a.completed).length,q=n.length,r=q>0?Math.round(p/q*100):0,s=n.reduce((a,b)=>a+b.duration,0);return(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-white overflow-hidden flex flex-col",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:f,className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",children:(0,d.jsx)(cl.A,{size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:a.title}),(0,d.jsx)("p",{className:"text-blue-100 text-sm",children:a.category})]})]}),(0,d.jsx)("button",{onClick:f,className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors",children:(0,d.jsx)(v.A,{size:20})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-sm opacity-90",children:"Progression"}),(0,d.jsxs)("div",{className:"text-xl font-bold",children:[r,"%"]})]}),(0,d.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-sm opacity-90",children:"Le\xe7ons compl\xe9t\xe9es"}),(0,d.jsxs)("div",{className:"text-xl font-bold",children:[p,"/",q]})]}),(0,d.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-sm opacity-90",children:"Dur\xe9e totale"}),(0,d.jsxs)("div",{className:"text-xl font-bold",children:[Math.floor(s/60),"h ",s%60,"min"]})]}),(0,d.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-sm opacity-90",children:"Difficult\xe9"}),(0,d.jsx)("div",{className:"text-xl font-bold capitalize",children:a.difficulty})]})]})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-hidden relative",children:["default"!==k?(0,d.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(/course-backgrounds/${k}.svg)`,backgroundSize:"cover",backgroundPosition:"center"}}):(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-100"}),"default"!==k&&(0,d.jsx)("div",{className:"absolute inset-0 bg-white/30 backdrop-blur-[0.5px]"}),(0,d.jsx)(c$,{selectedBackground:k,onBackgroundChange:l}),(0,d.jsx)("div",{className:"relative z-10 h-full",children:q>0?(0,d.jsx)(cY,{steps:o,onStepClick:(b,d)=>{let e=n[b],f=g.has(`lesson-${e.id}`),h=g.has(`course-${a.id}`),i=g.has(`pack-${a.packId||"any"}`);e.unlocked||e.completed||e.isOwned||f||h||i?(j(b),c(e)):console.log("Le\xe7on verrouill\xe9e:",e.title)},className:"w-full h-full",height:"h-full"}):(0,d.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(m.A,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,d.jsx)("p",{className:"text-lg font-medium",children:"Aucune le\xe7on disponible"}),(0,d.jsx)("p",{className:"text-sm",children:"Ce cours sera bient\xf4t disponible"})]})})})]}),(0,d.jsx)("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex items-center gap-4",children:(0,d.jsx)("div",{className:"text-sm text-gray-600",children:"Cliquez sur une \xe9tape pour commencer la le\xe7on"})}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(M.A,{size:14,className:"text-green-500"}),(0,d.jsx)("span",{children:"Termin\xe9"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(N.A,{size:14,className:"text-blue-500"}),(0,d.jsx)("span",{children:"Disponible"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(E.A,{size:14,className:"text-gray-400"}),(0,d.jsx)("span",{children:"Verrouill\xe9"})]})]})})]})})]})},c0=(0,_.A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var c1=c(44688),c2=c(99821);function c3({onTriggerVerification:a}){let[b,c]=(0,e.useState)(!1);return(0,d.jsxs)(h.P.div,{className:"fixed bottom-6 right-6 z-[9999]",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:2,type:"spring",stiffness:300},children:[(0,d.jsx)(h.P.button,{onClick:a,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"bg-gradient-to-br from-indigo-600 to-purple-700 text-white p-3 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 group",whileHover:{scale:1.05},whileTap:{scale:.95},title:"S\xe9curiser mon compte",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:20,className:"text-white"}),(0,d.jsx)(h.P.span,{initial:{width:0,opacity:0},animate:{width:b?"auto":0,opacity:+!!b},className:"text-sm font-medium whitespace-nowrap overflow-hidden",children:"S\xe9curiser mon compte"})]})}),b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full right-0 mb-2 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap",children:["S\xe9curisez votre compte en 2 minutes",(0,d.jsx)("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})}class c4{static getInstance(){return c4.instance||(c4.instance=new c4),c4.instance}getUserXPProfile(){let a=localStorage.getItem("userXPProfile");if(a){let b=JSON.parse(a);return b.lastActiveDate=new Date(b.lastActiveDate),b.recentActions=b.recentActions.map(a=>({...a,timestamp:new Date(a.timestamp)})),b.badges=b.badges.map(a=>({...a,unlockedAt:a.unlockedAt?new Date(a.unlockedAt):void 0})),this.updateProfileWithCurrentLevel(b)}return this.createDefaultProfile()}createDefaultProfile(){return{totalXP:0,currentLevel:this.levels[0],nextLevel:this.levels[1],progressToNext:0,badges:this.badgeDefinitions.map(a=>({...a,isUnlocked:!1})),recentActions:[],dailyStreak:0,lastActiveDate:new Date}}updateProfileWithCurrentLevel(a){let b=this.getLevelByXP(a.totalXP),c=this.getNextLevel(b.level),d=0;return d=c?Math.min(100,(a.totalXP-b.minXP)/(c.minXP-b.minXP)*100):100,{...a,currentLevel:b,nextLevel:c,progressToNext:d}}getLevelByXP(a){for(let b=this.levels.length-1;b>=0;b--)if(a>=this.levels[b].minXP)return this.levels[b];return this.levels[0]}getNextLevel(a){return this.levels.find(b=>b.level===a+1)||null}addXP(a,b=1,c){let d=this.getUserXPProfile(),e=this.xpActions[a];if(!e)return console.warn(`Action XP inconnue: ${a}`),{xpGained:0,newBadges:[],profile:d};let f=e.points*b,g=d.currentLevel;d.totalXP+=f;let h={id:`${a}-${Date.now()}`,...e,points:f};d.recentActions.unshift(h),d.recentActions=d.recentActions.slice(0,10);let i=this.updateProfileWithCurrentLevel(d),j=i.currentLevel.level>g.level?i.currentLevel:void 0,k=this.checkAndUnlockBadges(i,a,c);return this.saveProfile(i),console.log(`ðŸŽ¯ XP SYSTEM: +${f} XP pour ${a}`,{totalXP:i.totalXP,level:i.currentLevel.title,newBadges:k.map(a=>a.name)}),{xpGained:f,newLevel:j,newBadges:k,profile:i}}checkAndUnlockBadges(a,b,c){let d=[];return a.badges.forEach(c=>{if(c.isUnlocked)return;let e=!1;switch(c.condition){case"complete_first_lesson":e="lesson_complete"===b;break;case"complete_first_pack":e="pack_complete"===b;break;case"recharge_3_times":e=a.recentActions.filter(a=>"wallet_recharge"===a.type).length>=3;break;case"buddy_interactions_5":e=a.recentActions.filter(a=>"buddy_support"===a.type||"buddy_thanks"===a.type).length>=5;break;case"daily_streak_7":e=a.dailyStreak>=7;break;case"complete_10_lessons":e=a.recentActions.filter(a=>"lesson_complete"===a.type).length>=10;break;case"complete_5_courses":e=a.recentActions.filter(a=>"course_complete"===a.type).length>=5;break;case"study_room_10_sessions":e=a.recentActions.filter(a=>"study_room"===a.type).length>=10}e&&(c.isUnlocked=!0,c.unlockedAt=new Date,d.push(c))}),d}saveProfile(a){localStorage.setItem("userXPProfile",JSON.stringify(a))}updateDailyStreak(){let a=this.getUserXPProfile(),b=new Date,c=new Date(a.lastActiveDate),d=Math.floor((b.getTime()-c.getTime())/864e5),e=0,f=!1;return 1===d?(a.dailyStreak+=1,f=!0,a.dailyStreak>=3&&(e=this.addXP("daily_streak").xpGained)):d>1&&(a.dailyStreak=1,f=!0),a.lastActiveDate=b,this.saveProfile(a),{streakUpdated:f,xpGained:e,profile:a}}getXPStats(){return{totalUsers:1247,averageXP:342,levelDistribution:{Apprenant:45,EngagÃ©:32,AvancÃ©:18,Expert:4,Mentor:1},topBadges:[{badge:"Premier pas",count:89},{badge:"R\xe9gulier",count:67},{badge:"Curieux",count:54}]}}getAvailableRewards(a){let b=this.levels.find(b=>b.level===a);return b?.rewards||[]}calculateRechargeXP(a){return Math.floor(a/100)*this.xpActions.wallet_recharge.points}constructor(){this.levels=[{level:1,title:"Apprenant",emoji:"\uD83E\uDEB4",minXP:0,maxXP:199,description:"Tu d\xe9butes ton parcours sur SMS",rewards:["Acc\xe8s aux cours de base"]},{level:2,title:"Engag\xe9",emoji:"\uD83C\uDF31",minXP:200,maxXP:499,description:"Tu progresses vite et restes r\xe9gulier",rewards:["Acc\xe8s aux Study Rooms","Bonus recharge +5%"]},{level:3,title:"Avanc\xe9",emoji:"\uD83D\uDD25",minXP:500,maxXP:999,description:"Tu ma\xeetrises ton rythme et inspires les autres",rewards:["Early access nouvelles fonctionnalit\xe9s","Bonus recharge +10%"]},{level:4,title:"Expert",emoji:"âš¡",minXP:1e3,maxXP:1999,description:"Tu incarnes l'excellence et la rigueur",rewards:["Acc\xe8s masterclass exclusives","Bonus recharge +15%"]},{level:5,title:"Mentor",emoji:"\uD83E\uDDED",minXP:2e3,maxXP:1/0,description:"Tu deviens une r\xe9f\xe9rence pour la communaut\xe9",rewards:["Statut ambassadeur","Acc\xe8s outils premium","Bonus recharge +20%"]}],this.badgeDefinitions=[{id:"first-step",name:"Premier pas",emoji:"\uD83C\uDFC1",description:"Premi\xe8re le\xe7on termin\xe9e",condition:"complete_first_lesson"},{id:"pack-master",name:"Pack Master",emoji:"\uD83E\uDDE9",description:"Premier pack compl\xe9t\xe9",condition:"complete_first_pack"},{id:"loyal-recharger",name:"Rechargeur fid\xe8le",emoji:"\uD83D\uDC8E",description:"A effectu\xe9 3 recharges",condition:"recharge_3_times"},{id:"team-spirit",name:"Esprit d'\xe9quipe",emoji:"\uD83E\uDDE0",description:"A interagi 5 fois avec ses buddies",condition:"buddy_interactions_5"},{id:"consistent",name:"R\xe9gulier",emoji:"\uD83D\uDD25",description:"7 jours de connexion d'affil\xe9e",condition:"daily_streak_7"},{id:"curious",name:"Curieux",emoji:"\uD83E\uDEB6",description:"5 cours consult\xe9s sans achat",condition:"preview_5_courses"},{id:"pioneer",name:"Pionnier",emoji:"\uD83E\uDDEC",description:"Premier \xe0 compl\xe9ter un nouveau pack dans sa facult\xe9",condition:"first_pack_completion_faculty"},{id:"knowledge-seeker",name:"Chercheur de savoir",emoji:"\uD83D\uDD0D",description:"A termin\xe9 10 le\xe7ons",condition:"complete_10_lessons"},{id:"course-champion",name:"Champion des cours",emoji:"\uD83C\uDFC6",description:"A compl\xe9t\xe9 5 cours",condition:"complete_5_courses"},{id:"study-buddy",name:"Study Buddy",emoji:"\uD83E\uDD1D",description:"A particip\xe9 \xe0 10 sessions Study Room",condition:"study_room_10_sessions"}],this.xpActions={lesson_unlock:{type:"lesson_unlock",points:10,title:"Le\xe7on d\xe9bloqu\xe9e",description:"Tu as d\xe9bloqu\xe9 une nouvelle le\xe7on",emoji:"\uD83C\uDF93"},lesson_complete:{type:"lesson_complete",points:20,title:"Le\xe7on termin\xe9e",description:"Tu as termin\xe9 une le\xe7on avec succ\xe8s",emoji:"\uD83D\uDCD8"},course_complete:{type:"course_complete",points:50,title:"Cours compl\xe9t\xe9",description:"Tu as termin\xe9 toutes les le\xe7ons d'un cours",emoji:"\uD83D\uDCE6"},pack_complete:{type:"pack_complete",points:150,title:"Pack compl\xe9t\xe9",description:"Tu as termin\xe9 tous les cours d'un pack",emoji:"\uD83E\uDDE0"},study_room:{type:"study_room",points:15,title:"Session d'\xe9tude",description:"Tu as particip\xe9 \xe0 une Study Room",emoji:"\uD83D\uDCAC"},buddy_support:{type:"buddy_support",points:5,title:"Soutien buddy",description:"Tu as aid\xe9 un buddy",emoji:"\uD83E\uDEF6"},buddy_thanks:{type:"buddy_thanks",points:10,title:"Buddy reconnaissant",description:"Un buddy t'a remerci\xe9",emoji:"\uD83D\uDCA1"},wallet_recharge:{type:"wallet_recharge",points:5,title:"Recharge portefeuille",description:"Tu as recharg\xe9 ton portefeuille",emoji:"\uD83D\uDCB0"},daily_streak:{type:"daily_streak",points:10,title:"Connexion quotidienne",description:"Tu maintiens ta s\xe9rie de connexions",emoji:"\uD83D\uDD25"},goal_achieved:{type:"goal_achieved",points:50,title:"Objectif atteint",description:"Tu as respect\xe9 ta planification",emoji:"\uD83C\uDFC6"}}}}var c5=c(47268);let c6=(0,_.A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var c7=c(25345);let c8=(0,_.A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),c9=[{id:"buddy-study-room-invite",type:"buddy",userId:"user-emma",userName:"Emma",userAvatar:"/avatars/emma.jpg",emoji:"\uD83D\uDCDA",message:'t\'invite \xe0 rejoindre sa Study Room "Probabilit\xe9s"',timestamp:new Date(Date.now()-6e4),isRead:!1,clickableLink:{type:"study-room",id:"room-proba-001",title:"Study Room Probabilit\xe9s",action:"Rejoindre"}},{id:"buddy-progress-milestone",type:"buddy",userId:"user-thomas",userName:"Thomas",userAvatar:"/avatars/thomas.jpg",emoji:"\uD83C\uDFAF",message:'a compl\xe9t\xe9 75% du programme "Physique"',timestamp:new Date(Date.now()-24e4),isRead:!1,clickableLink:{type:"buddy",id:"user-thomas",title:"Progression de Thomas",action:"Voir"}},{id:"buddy-message",type:"buddy",userId:"user-sophie",userName:"Sophie",userAvatar:"/avatars/sophie.jpg",emoji:"\uD83D\uDCAC",message:'t\'a envoy\xe9 un message : "On se retrouve pour le cours de maths ?"',timestamp:new Date(Date.now()-18e4),isRead:!1,clickableLink:{type:"message",id:"user-sophie",title:"Message de Sophie",action:"R\xe9pondre"}},{id:"buddy-circle",type:"buddy",userId:"circle-physics",userName:"\uD83D\uDD2C Cercle Physique",userAvatar:"/icons/circle.svg",emoji:"\uD83C\uDFAF",message:"12 nouveaux messages dans le cercle Physique Quantique",timestamp:new Date(Date.now()-72e4),isRead:!1,clickableLink:{type:"circle",id:"physics-quantum",title:"Cercle Physique Quantique",action:"Voir les discussions"}},{id:"buddy-1",type:"buddy",userId:"user-sarah",userName:"Sarah",userAvatar:"/avatars/sarah.jpg",emoji:"\uD83E\uDDE0",message:"plonge dans les myst\xe8res de la Loi de Gauss. Tu la rejoins ?",timestamp:new Date(Date.now()-9e5),isRead:!1,courseId:"course-gauss",clickableLink:{type:"course",id:"course-gauss",title:"Loi de Gauss"}},{id:"buddy-2",type:"buddy",userId:"user-thomas",userName:"Thomas",userAvatar:"/avatars/thomas.jpg",emoji:"\uD83C\uDF93",message:"a franchi un nouveau cap â€” il vient d'ouvrir le pack Math\xe9matiques Avanc\xe9es",timestamp:new Date(Date.now()-27e5),isRead:!1,clickableLink:{type:"pack",id:"pack-mathematiques",title:"Math\xe9matiques Avanc\xe9es"}},{id:"buddy-3",type:"buddy",userId:"user-marie",userName:"Marie",userAvatar:"/avatars/marie.jpg",emoji:"\uD83D\uDCA1",message:"vient de d\xe9coder une nouvelle notion en M\xe9canique Classique",timestamp:new Date(Date.now()-54e5),isRead:!0,courseId:"course-physique-mecanique",clickableLink:{type:"course",id:"course-physique-mecanique",title:"M\xe9canique Classique"}},{id:"buddy-4",type:"buddy",userId:"user-alex",userName:"Alex",userAvatar:"/avatars/alex.jpg",emoji:"\uD83C\uDFC6",message:"atteint le rang Expert. Une belle ascension scientifique !",timestamp:new Date(Date.now()-72e5),isRead:!0,clickableLink:{type:"buddy",id:"user-alex",title:"Profil d'Alex"}},{id:"buddy-5",type:"buddy",userId:"user-lucas",userName:"Lucas",userAvatar:"/avatars/lucas.jpg",emoji:"\uD83E\uDDE0",message:"explore aussi les myst\xe8res de la Loi de Gauss",timestamp:new Date(Date.now()-12e5),isRead:!1,courseId:"course-gauss",clickableLink:{type:"course",id:"course-gauss",title:"Loi de Gauss"}}],da=[{id:"faculty-1",type:"faculty",userId:"faculty-stats",userName:"12 \xe9tudiants de Solvay",userAvatar:"/icons/faculty.svg",emoji:"\uD83C\uDF1F",message:"explorent activement la Loi de Gauss. L'\xe9lectrostatique fascine !",timestamp:new Date(Date.now()-18e5),isRead:!1,clickableLink:{type:"pack",id:"pack-physics",title:"Physique"}},{id:"faculty-2",type:"faculty",userId:"faculty-trending",userName:"Analyse Math\xe9matique I",userAvatar:"/icons/trending.svg",emoji:"\uD83D\uDCC8",message:"cartonne cette semaine â€” le cours le plus ouvert !",timestamp:new Date(Date.now()-36e5),isRead:!1,clickableLink:{type:"course",id:"course-math-analyse-1",title:"Analyse Math\xe9matique I"}},{id:"faculty-3",type:"faculty",userId:"faculty-popular",userName:"8 nouveaux \xe9tudiants",userAvatar:"/icons/students.svg",emoji:"\uD83D\uDE80",message:"ont embarqu\xe9 dans l'aventure Chimie G\xe9n\xe9rale aujourd'hui",timestamp:new Date(Date.now()-108e5),isRead:!0,clickableLink:{type:"course",id:"course-chimie-generale",title:"Chimie G\xe9n\xe9rale"}}],db=[{id:"battle-1",type:"battle",userId:"user-sarah",userName:"Sarah",userAvatar:"/avatars/sarah.jpg",emoji:"âš”ï¸",message:"te d\xe9fie sur le quiz de Chimie Organique",timestamp:new Date(Date.now()-6e5),isRead:!1,battleOpponent:"Sarah",battleStatus:"pending",clickableLink:{type:"battle",id:"battle-chimie-org",title:"Battle Chimie Organique",action:"Accepter le d\xe9fi"}},{id:"battle-2",type:"battle",userId:"user-thomas",userName:"Thomas",userAvatar:"/avatars/thomas.jpg",emoji:"\uD83C\uDFAF",message:"Battle termin\xe9e ! Tu as gagn\xe9 8-5",timestamp:new Date(Date.now()-18e5),isRead:!1,battleOpponent:"Thomas",battleStatus:"won",battleScore:{player:8,opponent:5},clickableLink:{type:"battle",id:"battle-physics",title:"Battle Physique",action:"Voir les r\xe9sultats"}}],dc=[{id:"challenge-1",type:"challenge",userId:"system",userName:"\uD83C\uDFAF D\xe9fi",userAvatar:"/icons/target.svg",emoji:"\uD83D\uDD25",message:"D\xe9fi de la semaine : Atteins 500 XP",timestamp:new Date(Date.now()-36e5),isRead:!1,challengeProgress:65,challengeReward:"+100 XP bonus",challengeDeadline:new Date(Date.now()+1728e5),clickableLink:{type:"challenge",id:"challenge-week-xp",title:"D\xe9fi 500 XP",action:"Continuer le d\xe9fi"}},{id:"challenge-2",type:"challenge",userId:"system",userName:"\uD83C\uDFAF D\xe9fi",userAvatar:"/icons/target.svg",emoji:"\uD83D\uDCDA",message:"Compl\xe8te 5 le\xe7ons aujourd'hui",timestamp:new Date(Date.now()-72e5),isRead:!1,challengeProgress:40,challengeReward:'Badge "Marathon"',challengeDeadline:new Date(Date.now()+216e5),clickableLink:{type:"challenge",id:"challenge-daily-lessons",title:"D\xe9fi 5 le\xe7ons",action:"Voir la progression"}}],dd=[{id:"discovery-1",type:"discovery",userId:"user-alex",userName:"Alex",userAvatar:"/avatars/alex.jpg",emoji:"\uD83D\uDC64",message:"(M\xe9decine, Bruxelles) \xe9tudie les m\xeames cours que toi",timestamp:new Date(Date.now()-54e5),isRead:!1,suggestionType:"buddy",relevanceScore:95,clickableLink:{type:"buddy",id:"user-alex",title:"Profil d'Alex",action:"Ajouter en buddy"}},{id:"discovery-2",type:"discovery",userId:"circle-medecine-paris",userName:"Cercle M\xe9decine Paris",userAvatar:"/icons/circle.svg",emoji:"\uD83C\uDF1F",message:"pourrait t'int\xe9resser - 42 membres actifs",timestamp:new Date(Date.now()-108e5),isRead:!0,suggestionType:"circle",relevanceScore:88,clickableLink:{type:"circle",id:"medecine-paris",title:"Cercle M\xe9decine Paris",action:"Rejoindre"}},{id:"discovery-3",type:"discovery",userId:"course-thermodynamique",userName:"Cours Thermodynamique",userAvatar:"/icons/course.svg",emoji:"\uD83D\uDCA1",message:"Bas\xe9 sur ton parcours, ce cours pourrait te plaire",timestamp:new Date(Date.now()-144e5),isRead:!0,suggestionType:"course",relevanceScore:92,courseId:"course-thermodynamique",clickableLink:{type:"course",id:"course-thermodynamique",title:"Thermodynamique",action:"D\xe9couvrir"}}],de=[{id:"personal-competition",type:"personal",userId:"system",userName:"\uD83C\uDFC6 Comp\xe9tition",userAvatar:"/icons/trophy.svg",emoji:"\uD83D\uDD25",message:"Tu es 3\xe8me au Sprint du Week-end ! 2 places te s\xe9parent du podium",timestamp:new Date(Date.now()-3e5),isRead:!1,clickableLink:{type:"competition",id:"weekend-sprint",title:"Sprint du Week-end",action:"Voir le classement"}},{id:"personal-xp-event",type:"personal",userId:"system",userName:"âš¡ \xc9v\xe9nement",userAvatar:"/icons/lightning.svg",emoji:"âš¡",message:"XP Boost Week-end activ\xe9 ! Gagne 2\xd7 plus d'XP pendant 48h",timestamp:new Date(Date.now()-48e4),isRead:!1,clickableLink:{type:"xp-event",id:"xp-boost-weekend",title:"XP Boost Week-end",action:"Profiter du boost"}},{id:"personal-buddy-request",type:"personal",userId:"user-marie",userName:"\uD83D\uDC64 Marie",userAvatar:"/avatars/marie.jpg",emoji:"\uD83E\uDD1D",message:"t'a envoy\xe9 une demande de connexion",timestamp:new Date(Date.now()-12e4),isRead:!1,clickableLink:{type:"buddy",id:"user-marie",title:"Demande de connexion",action:"Accepter"}},{id:"personal-quiz-reminder",type:"personal",userId:"system",userName:"\uD83D\uDCDD Rappel",userAvatar:"/icons/reminder.svg",emoji:"â°",message:"Quiz de M\xe9canique \xe0 compl\xe9ter avant demain",timestamp:new Date(Date.now()-42e4),isRead:!1,clickableLink:{type:"course",id:"course-mechanics",title:"Quiz M\xe9canique",action:"Faire le quiz"}},{id:"personal-recommendation",type:"personal",userId:"system",userName:"\uD83D\uDCA1 Recommandation",userAvatar:"/icons/lightbulb.svg",emoji:"\uD83D\uDCDA",message:'Le cours "Thermodynamique" pourrait t\'int\xe9resser',timestamp:new Date(Date.now()-9e5),isRead:!1,clickableLink:{type:"course",id:"course-thermo",title:"Thermodynamique",action:"D\xe9couvrir"}},{id:"personal-1",type:"personal",userId:"user-default",userName:"Tu",userAvatar:"/avatars/user-default.jpg",emoji:"\uD83C\uDF89",message:"viens d'ajouter une pierre \xe0 ton parcours scientifique â€” 80 XP gagn\xe9s !",timestamp:new Date(Date.now()-6e5),isRead:!1},{id:"personal-2",type:"personal",userId:"user-default",userName:"Tu",userAvatar:"/avatars/user-default.jpg",emoji:"\uD83D\uDC8E",message:'as d\xe9bloqu\xe9 le badge "Esprit Curieux" â€” ta soif de savoir porte ses fruits !',timestamp:new Date(Date.now()-72e5),isRead:!0},{id:"personal-3",type:"personal",userId:"user-default",userName:"Tu",userAvatar:"/avatars/user-default.jpg",emoji:"\uD83D\uDE80",message:"as lanc\xe9 ta premi\xe8re semaine d'\xe9tude â€” l'aventure scientifique commence !",timestamp:new Date(Date.now()-864e5),isRead:!0}],df=[{id:"founder-live-1",type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:"\uD83D\uDD34",message:"est en LIVE pour r\xe9pondre aux questions sur Int\xe9grales",timestamp:new Date,isRead:!1,isLive:!0,startTime:new Date(Date.now()-9e5),endTime:new Date(Date.now()+27e5),studyRoomId:"study-room-integrales-live",courseId:"course-integrales",maxParticipants:20,currentParticipants:12,clickableLink:{type:"study-room",id:"study-room-integrales-live",title:"Study Room LIVE : Int\xe9grales"}},{id:"founder-replay-1",type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:"\uD83D\uDCFA",message:"vient de terminer une session sur la Loi de Gauss",timestamp:new Date(Date.now()-27e5),isRead:!1,isLive:!1,startTime:new Date(Date.now()-63e5),endTime:new Date(Date.now()-27e5),studyRoomId:"study-room-gauss",courseId:"course-gauss",maxParticipants:15,currentParticipants:15,clickableLink:{type:"study-room",id:"study-room-gauss",title:"Study Room : Loi de Gauss"}},{id:"founder-replay-2",type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:"\uD83D\uDCFA",message:"a fait une session sur les \xc9quilibres Chimiques",timestamp:new Date(Date.now()-72e5),isRead:!1,isLive:!1,startTime:new Date(Date.now()-108e5),endTime:new Date(Date.now()-72e5),studyRoomId:"study-room-equilibres",courseId:"course-equilibres",maxParticipants:12,currentParticipants:10,clickableLink:{type:"study-room",id:"study-room-equilibres",title:"Study Room : \xc9quilibres Chimiques"}},{id:"founder-register-1",type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:"\uD83D\uDCDD",message:"anime une s\xe9ance Q&A sur les Suites et Limites",timestamp:new Date(Date.now()+36e5),isRead:!1,isLive:!1,startTime:new Date(Date.now()+36e5),endTime:new Date(Date.now()+72e5),studyRoomId:"study-room-suites-limites",courseId:"course-suites-limites",maxParticipants:18,currentParticipants:7,clickableLink:{type:"study-room",id:"study-room-suites-limites",title:"Study Room : Suites et Limites"}},{id:"founder-register-2",type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:"\uD83D\uDCDD",message:"organise une session sur la M\xe9canique Classique",timestamp:new Date(Date.now()+108e5),isRead:!1,isLive:!1,startTime:new Date(Date.now()+108e5),endTime:new Date(Date.now()+144e5),studyRoomId:"study-room-mecanique",courseId:"course-mecanique",maxParticipants:15,currentParticipants:4,clickableLink:{type:"study-room",id:"study-room-mecanique",title:"Study Room : M\xe9canique Classique"}}];class dg{static getInstance(){return dg.instance||(dg.instance=new dg),dg.instance}getSocialFeed(a){let b=[...c9,...da,...de,...df,...db,...dc,...dd],c=b.filter(a=>{let b=(Date.now()-a.timestamp.getTime())/36e5;return"founder-session"===a.type?48>=Math.abs(b):b<=48}).sort((a,b)=>a.isLive&&!b.isLive?-1:!a.isLive&&b.isLive?1:b.timestamp.getTime()-a.timestamp.getTime()).filter(a=>!a.isRead).length,d=this.calculateNetworkEnergy(b),e=this.generateContextualMessage(a,b);return{buddyActivities:this.filterByContext(this.groupSimilarEvents(c9.filter(a=>(Date.now()-a.timestamp.getTime())/36e5<=48)),a),facultyActivities:da.filter(a=>(Date.now()-a.timestamp.getTime())/36e5<=48),personalAchievements:de.filter(a=>(Date.now()-a.timestamp.getTime())/36e5<=48),founderSessions:df.filter(a=>48>=Math.abs((Date.now()-a.timestamp.getTime())/36e5)).sort((a,b)=>a.isLive&&!b.isLive?-1:!a.isLive&&b.isLive?1:a.timestamp.getTime()>Date.now()&&b.timestamp.getTime()<=Date.now()?-1:a.timestamp.getTime()<=Date.now()&&b.timestamp.getTime()>Date.now()?1:b.timestamp.getTime()-a.timestamp.getTime()),unreadCount:c,networkEnergy:d,contextualMessage:e}}calculateNetworkEnergy(a){let b,c,d,e=Date.now()-864e5,f=a.filter(a=>a.timestamp.getTime()>e),g=f.length,h=new Set(f.map(a=>a.userId)).size,i={};f.forEach(a=>{a.courseId&&(i[a.courseId]=(i[a.courseId]||0)+1)});let j=Object.keys(i).reduce((a,b)=>i[a]>i[b]?a:b,"course-gauss"),k=Math.min(100,Math.min(100,5*g+3*h)+20*!!a.some(a=>a.isLive));return k>=85?(b="explosive",c=`Ton r\xe9seau explose de cr\xe9ativit\xe9 ! ${g} activit\xe9s aujourd'hui`,d="\uD83D\uDE80"):k>=65?(b="high",c=`Ton r\xe9seau est en pleine \xe9bullition â€” ${g} activit\xe9s aujourd'hui`,d="\uD83D\uDD25"):k>=35?(b="medium",c=`Ton r\xe9seau s'active doucement â€” ${h} \xe9tudiants connect\xe9s`,d="âš¡"):(b="low",c=`Ton r\xe9seau se r\xe9veille â€” ${h} \xe9tudiants en ligne`,d="\uD83C\uDF31"),{level:b,score:k,todayActivities:g,activeStudents:h,trendingCourse:"course-gauss"===j?"Loi de Gauss":"course-integrales"===j?"Int\xe9grales":"course-math-analyse-1"===j?"Analyse Math\xe9matique":"Physique",message:c,emoji:d}}generateContextualMessage(a,b){if(a){if(a.currentCourse){let c={"course-gauss":"Loi de Gauss","course-equilibres":"\xc9quilibres Chimiques","course-integrales":"Int\xe9grales","course-physique-mecanique":"M\xe9canique Classique"}[a.currentCourse]||"ce cours";return(b?.filter(b=>b.courseId===a.currentCourse)||[]).length>0?`D'autres \xe9tudiants explorent aussi ${c} ðŸ§² â€” tu n'es pas seul dans cette aventure !`:`Tu es pionnier sur ${c} ! ðŸš€ Montre la voie \xe0 ta communaut\xe9.`}return a.userProgress?.recentlyCompleted?.length?`ðŸŽ‰ Bravo pour tes r\xe9cents accomplissements ! Ton r\xe9seau te suit avec admiration.`:a.userProgress?.currentStreak&&a.userProgress.currentStreak>3?`ðŸ”¥ ${a.userProgress.currentStreak} jours cons\xe9cutifs ! Ton \xe9nergie inspire toute la communaut\xe9.`:void 0}}filterByContext(a,b){return b?a.sort((a,c)=>{let d=b.currentCourse&&a.courseId===b.currentCourse||b.currentPack&&a.courseId?.includes(b.currentPack),e=b.currentCourse&&c.courseId===b.currentCourse||b.currentPack&&c.courseId?.includes(b.currentPack);return d&&!e?-1:!d&&e?1:c.timestamp.getTime()-a.timestamp.getTime()}):a}groupSimilarEvents(a){let b={},c=[];a.forEach(a=>{if(a.courseId){let c=this.extractActionType(a.message),d=Math.floor(a.timestamp.getTime()/72e5),e=`${a.courseId}-${c}-${d}`;b[e]||(b[e]=[]),b[e].push(a)}else c.push(a)});let d=[];return Object.values(b).forEach(a=>{if(a.length>1){let b=a[0],c=a.map(a=>a.userName),e=b.clickableLink?.title||"un cours",f={...b,id:`grouped-${a.map(a=>a.id).join("-")}`,userName:2===c.length?`${c[0]} et ${c[1]}`:`${c[0]} et ${c.length-1} autres`,message:this.generateGroupedMessage(b.message,c.length,e),participants:c,isRead:a.every(a=>a.isRead)};d.push(f)}else d.push(a[0])}),d.push(...c),d.sort((a,b)=>b.timestamp.getTime()-a.timestamp.getTime())}extractActionType(a){return a.includes("termin\xe9")||a.includes("compl\xe9t\xe9")?"completed":a.includes("d\xe9bloqu\xe9")?"unlocked":a.includes("rejoint")||a.includes("Study Room")?"joined":a.includes("r\xe9ussi")||a.includes("quiz")?"quiz":"general"}generateGroupedMessage(a,b,c){switch(this.extractActionType(a)){case"completed":return`d\xe9codent ensemble les secrets de ${c}`;case"unlocked":return`explorent de nouveaux territoires dans ${c}`;case"joined":return`collaborent activement sur ${c}`;case"quiz":return`brillent dans leurs \xe9valuations de ${c}`;default:return`progressent ensemble dans ${c} â€” l'\xe9mulation collective !`}}markAllAsRead(){c9.forEach(a=>a.isRead=!0),da.forEach(a=>a.isRead=!0),de.forEach(a=>a.isRead=!0),console.log("\uD83E\uDEA9 SOCIAL FEED: Toutes les activit\xe9s marqu\xe9es comme lues")}markEventAsRead(a){let b=[...c9,...da,...de].find(b=>b.id===a);b&&(b.isRead=!0,console.log(`ðŸª© SOCIAL FEED: \xc9v\xe9nement ${a} marqu\xe9 comme lu`))}getTimeAgo(a){let b=Math.floor((new Date().getTime()-a.getTime())/6e4);if(b<1)return"\xc0 l'instant";if(b<60)return`Il y a ${b} min`;if(b<1440){let a=Math.floor(b/60);return`Il y a ${a}h`}{let a=Math.floor(b/1440);return`Il y a ${a}j`}}addBuddyActivity(a,b,c,d="\uD83C\uDF93"){let e={id:`buddy-${Date.now()}`,type:"buddy",userId:`user-${a.toLowerCase()}`,userName:a,userAvatar:`/avatars/${a.toLowerCase()}.jpg`,emoji:d,message:b,timestamp:new Date,isRead:!1,courseId:c,clickableLink:c?{type:"course",id:c,title:"Cours"}:void 0};c9.unshift(e),console.log(`ðŸª© SCIENCE IN MOTION: Nouvelle activit\xe9 narrative pour ${a}`)}addPersonalAchievement(a){let b={id:`personal-${Date.now()}`,type:"personal",userId:"user-default",userName:"Tu",userAvatar:"/avatars/user-default.jpg",emoji:"\uD83C\uDFC6",message:a,timestamp:new Date,isRead:!1};de.unshift(b),console.log(`ðŸª© SOCIAL FEED: Nouvel accomplissement personnel ajout\xe9: ${a}`)}addFounderSession(a,b,c,d=!1,e,f,g=15){let h={id:`founder-${Date.now()}`,type:"founder-session",userId:"founder-zak",userName:"Zak",userAvatar:"/avatars/founder-zak.jpg",emoji:d?"\uD83D\uDD34":"\uD83C\uDF93",message:a,timestamp:new Date,isRead:!1,isLive:d,startTime:e,endTime:f,studyRoomId:c,courseId:b,maxParticipants:g,currentParticipants:Math.floor(Math.random()*g),clickableLink:{type:"study-room",id:c,title:`Study Room${d?" LIVE":""} : ${b}`}};df.unshift(h),console.log(`ðŸª© SOCIAL FEED: Nouvelle s\xe9ance du fondateur ajout\xe9e: ${a}`)}startBuddySimulation(){let a=["Sarah","Thomas","Marie","Alex","Emma","Lucas","L\xe9a","Hugo"],b=["course-gauss","course-equilibres","course-integrales","course-physique-mecanique"],c=[{action:"d\xe9code une nouvelle notion",emoji:"\uD83D\uDCA1"},{action:"perce les myst\xe8res",emoji:"\uD83E\uDDE0"},{action:"explore de nouveaux territoires",emoji:"\uD83D\uDDFAï¸"},{action:"franchit un nouveau cap",emoji:"\uD83C\uDF93"},{action:"atteint un nouveau niveau",emoji:"\uD83D\uDE80"},{action:"brille dans ses \xe9valuations",emoji:"â­"},{action:"collabore activement",emoji:"\uD83E\uDD1D"},{action:"progresse \xe0 vitesse grand V",emoji:"âš¡"}],d={"course-gauss":"Loi de Gauss","course-equilibres":"\xc9quilibres Chimiques","course-integrales":"Int\xe9grales","course-physique-mecanique":"M\xe9canique Classique"},e=()=>{let f=a[Math.floor(Math.random()*a.length)],g=b[Math.floor(Math.random()*b.length)],h=c[Math.floor(Math.random()*c.length)],i=d[g],j=`${h.action} en ${i}. L'aventure continue !`;this.addBuddyActivity(f,j,g,h.emoji),setTimeout(e,3e4+3e4*Math.random())};setTimeout(e,1e4),console.log("\uD83E\uDEA9 SCIENCE IN MOTION: Simulation des activit\xe9s narratives d\xe9marr\xe9e")}startFounderSessionSimulation(){console.log("\uD83E\uDEA9 SOCIAL FEED: S\xe9ances du fondateur fig\xe9es \xe0 5 s\xe9ances (1 live, 2 replay, 3 register)")}}var dh=c(85586);let di={type:"spring",stiffness:300,damping:30};function dj({items:a,autoplay:b=!1,autoplayDelay:c=5e3,pauseOnHover:f=!0}){let[g,i]=(0,e.useState)(0),j=(0,dh.d)(0),[k,l]=(0,e.useState)(!1),m=(0,e.useRef)(null);return(0,d.jsxs)("div",{ref:m,className:"relative w-full overflow-hidden",children:[(0,d.jsx)(h.P.div,{className:"flex",drag:"x",dragConstraints:{left:-(33.166666666666664*(a.length-3)),right:0},style:{gap:"16px",x:j},onDragEnd:(b,c)=>{let d=c.offset.x,e=c.velocity.x;d<-50||e<-500?i(b=>Math.min(b+1,a.length-3)):(d>50||e>500)&&i(a=>Math.max(a-1,0))},animate:{x:`${-(33.166666666666664*g)}%`},transition:di,children:a.filter(a=>"live"===a.status||"upcoming"===a.status).map((a,b)=>(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*b},whileHover:{scale:1.03,y:-3},className:"cursor-target relative group flex-shrink-0",style:{width:`calc(32.666666666666664% - ${32/3}px)`},title:`${a.userName}
${a.isSilent?"\uD83D\uDD07 Silencieux":"\uD83D\uDD0A Avec audio"} â€¢ ${a.isPublic?"\uD83C\uDF0D Public":"\uD83D\uDD12 Priv\xe9"}`,children:(0,d.jsxs)("div",{className:`p-4 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl border-2 ${a.hasBuddies?"border-yellow-300 shadow-md shadow-yellow-100":"border-blue-200"} hover:shadow-xl transition-all h-full flex flex-col`,children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-4",children:[(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-sm leading-tight line-clamp-2",children:a.userName})}),"live"===a.status&&(0,d.jsxs)(h.P.div,{animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},className:"flex items-center gap-1 text-[10px] font-bold text-white bg-gradient-to-r from-red-500 to-red-600 px-2 py-1 rounded-full shadow-lg shadow-red-300",children:[(0,d.jsx)(h.P.div,{animate:{opacity:[1,.5,1]},transition:{duration:1,repeat:1/0},className:"w-1.5 h-1.5 bg-white rounded-full"}),"LIVE"]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center gap-1 text-gray-600",children:a.isSilent?(0,d.jsx)(b2.A,{className:"w-4 h-4"}):(0,d.jsx)(b1.A,{className:"w-4 h-4"})}),(0,d.jsx)("div",{className:"flex items-center gap-1 text-gray-600",children:a.isPublic?(0,d.jsx)(bQ.A,{className:"w-4 h-4"}):(0,d.jsx)(E.A,{className:"w-4 h-4"})})]}),a.participants&&a.participants.length>0&&(0,d.jsxs)("div",{className:"flex -space-x-2",children:[a.participants.slice(0,3).map((a,b)=>(0,d.jsx)("div",{className:`w-6 h-6 rounded-full border-2 border-white flex items-center justify-center text-[9px] font-bold shadow-sm ${a.isBuddy?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white":"bg-gray-200 text-gray-700"}`,title:a.name,children:a.name.charAt(0).toUpperCase()},b)),a.participants.length>3&&(0,d.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-300 flex items-center justify-center shadow-sm",children:(0,d.jsxs)("span",{className:"text-[9px] font-bold text-gray-700",children:["+",a.participants.length-3]})})]})]}),"live"===a.status?(0,d.jsxs)(h.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-1.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-xs font-bold rounded-lg shadow-md flex items-center justify-center gap-1 mt-auto",children:[(0,d.jsx)(N.A,{className:"w-3 h-3",fill:"white"}),"Rejoindre"]}):a.scheduledTime?(0,d.jsxs)("button",{className:"w-full py-1.5 bg-gray-100 text-gray-600 text-xs font-medium rounded-lg flex items-center justify-center gap-1 mt-auto",children:[(0,d.jsx)(t.A,{className:"w-3 h-3"}),(a=>{let b=a.getHours().toString().padStart(2,"0"),c=a.getMinutes().toString().padStart(2,"0");return`${b}:${c}`})(a.scheduledTime)]}):null]})},a.id))}),a.filter(a=>"live"===a.status||"upcoming"===a.status).length>3&&(0,d.jsx)("div",{className:"flex justify-center mt-3",children:(0,d.jsx)("div",{className:"flex gap-1.5",children:Array.from({length:Math.max(a.filter(a=>"live"===a.status||"upcoming"===a.status).length-2,1)}).map((a,b)=>(0,d.jsx)(h.P.div,{className:`h-1.5 rounded-full cursor-pointer transition-all duration-200 ${g===b?"bg-blue-600 w-6":"bg-gray-300 w-1.5 hover:bg-gray-400"}`,onClick:()=>i(b),whileHover:{scale:1.2}},b))})})]})}c(16319);let dk=({children:a,delay:b=0,index:c,onMouseEnter:f,onClick:g})=>{let i=(0,e.useRef)(null),j=function(a,{root:b,margin:c,amount:d,once:f=!1,initial:g=!1}={}){let[h,i]=(0,e.useState)(g);return h}(0,{amount:.5,once:!1});return(0,d.jsx)(h.P.div,{ref:i,"data-index":c,onMouseEnter:f,onClick:g,initial:{scale:.7,opacity:0},animate:j?{scale:1,opacity:1}:{scale:.7,opacity:0},transition:{duration:.2,delay:b},className:"mb-4 cursor-pointer",children:a})},dl=({items:a=[],onItemSelect:b,showGradients:c=!0,enableArrowNavigation:f=!0,className:g="",itemClassName:h="",displayScrollbar:i=!0,initialSelectedIndex:j=-1})=>{let k=(0,e.useRef)(null),[l,m]=(0,e.useState)(j),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(0),[r,s]=(0,e.useState)(1);return(0,e.useEffect)(()=>{if(!f)return;let c=c=>{"ArrowDown"!==c.key&&("Tab"!==c.key||c.shiftKey)?"ArrowUp"===c.key||"Tab"===c.key&&c.shiftKey?(c.preventDefault(),o(!0),m(a=>Math.max(a-1,0))):"Enter"===c.key&&l>=0&&l<a.length&&(c.preventDefault(),b&&b(a[l],l)):(c.preventDefault(),o(!0),m(b=>Math.min(b+1,a.length-1)))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a,l,b,f]),(0,e.useEffect)(()=>{if(!n||l<0||!k.current)return;let a=k.current,b=a.querySelector(`[data-index="${l}"]`);if(b){let c=a.scrollTop,d=a.clientHeight,e=b.offsetTop,f=e+b.offsetHeight;e<c+50?a.scrollTo({top:e-50,behavior:"smooth"}):f>c+d-50&&a.scrollTo({top:f-d+50,behavior:"smooth"})}o(!1)},[l,n]),(0,d.jsxs)("div",{className:`relative w-full ${g}`,children:[(0,d.jsx)("div",{ref:k,className:"w-full",children:a.map((a,c)=>(0,d.jsx)(dk,{delay:.05,index:c,onMouseEnter:()=>m(c),onClick:()=>{m(c),b&&b(a,c)},children:(0,d.jsx)("div",{className:h,children:a})},c))}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[50px] bg-gradient-to-b from-white to-transparent pointer-events-none transition-opacity duration-300 ease",style:{opacity:p}}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[100px] bg-gradient-to-t from-white to-transparent pointer-events-none transition-opacity duration-300 ease",style:{opacity:r}})]})]})};function dm({buddyActivities:a,onNavigate:b,reactions:c}){let[f,g]=(0,e.useState)(null),i=[{id:"user-thomas",name:"Thomas",avatar:"/avatars/thomas.jpg",initials:"TB",isOnline:!0,currentActivity:"Study Room: Probabilit\xe9s",xpToday:200,lessonsToday:4,streak:20},{id:"user-sophie",name:"Sophie",avatar:"/avatars/sophie.jpg",initials:"SM",isOnline:!0,currentActivity:"En cours: M\xe9canique",xpToday:150,lessonsToday:3,streak:12},{id:"user-emma",name:"Emma",avatar:"/avatars/emma.jpg",initials:"EL",isOnline:!0,currentActivity:"Quiz en cours",xpToday:120,lessonsToday:2,streak:8},{id:"user-marie",name:"Marie",avatar:"/avatars/marie.jpg",initials:"MD",isOnline:!1,lastSeen:"2h",xpToday:80,lessonsToday:1,streak:5}],j=[{id:"inv-1",from:"Emma",initials:"EL",type:"study-room",title:"Study Room: Probabilit\xe9s",time:"Dans 5 min",action:"Rejoindre"},{id:"inv-2",from:"Thomas",initials:"TB",type:"challenge",title:"D\xe9fi XP du week-end",time:"Ce samedi",action:"Accepter"}];return(0,d.jsxs)("div",{className:"space-y-5",children:[j.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(c5.A,{className:"w-4 h-4 text-gray-900"}),(0,d.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]}),"Invitations en attente"]}),(0,d.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-bold rounded-full",children:j.length})]}),(0,d.jsx)("div",{className:"space-y-2",children:j.map(a=>(0,d.jsx)(h.P.div,{whileHover:{scale:1.01,x:3},className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border-2 border-blue-200 hover:border-blue-400 hover:shadow-lg transition-all cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-700 flex-shrink-0",children:a.initials}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-gray-900 truncate",children:a.title}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[a.from," â€¢ ",a.time]})]})]}),(0,d.jsx)("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg text-xs font-bold hover:shadow-md transition-all flex-shrink-0",children:a.action})]})},a.id))})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Actifs maintenant"]}),(0,d.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:[i.filter(a=>a.isOnline).length," en ligne"]})]}),(0,d.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:i.filter(a=>a.isOnline).map(a=>(0,d.jsxs)(h.P.div,{whileHover:{y:-6,scale:1.02},className:"flex-shrink-0 bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200 hover:border-gray-400 hover:shadow-xl transition-all cursor-pointer w-52",onClick:()=>b&&b("buddy",a.id),children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-11 h-11 bg-gray-200 rounded-full flex items-center justify-center text-sm font-bold text-gray-700",children:a.initials}),(0,d.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-gray-900 truncate",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-600 truncate",children:a.currentActivity})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("div",{className:"flex-1 bg-gray-50 rounded-lg py-2 text-center border border-gray-200",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-gray-900",children:a.xpToday}),(0,d.jsx)("p",{className:"text-[10px] text-gray-600 font-medium",children:"XP"})]}),(0,d.jsxs)("div",{className:"flex-1 bg-gray-50 rounded-lg py-2 text-center border border-gray-200",children:[(0,d.jsxs)("p",{className:"text-sm font-bold text-gray-900",children:[a.streak,"\uD83D\uDD25"]}),(0,d.jsx)("p",{className:"text-[10px] text-gray-600 font-medium",children:"S\xe9rie"})]})]})]},a.id))})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-gray-50 via-white to-blue-50/30 rounded-xl p-5 border border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"w-4 h-4 text-yellow-600"}),"Classement de la semaine"]}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Top performers"})]}),(0,d.jsx)("button",{onClick:()=>b&&b("community"),className:"text-xs font-bold text-blue-600 hover:text-blue-700 transition-colors",children:"Tout voir â†’"})]}),(0,d.jsxs)("div",{className:"flex items-end justify-center gap-2 mb-6",children:[i[1]&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"flex flex-col items-center cursor-pointer group",onClick:()=>b&&b("buddy",i[1].id),children:[(0,d.jsxs)("div",{className:"relative mb-2",children:[(0,d.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-lg group-hover:scale-110 transition-transform",children:i[1].initials}),(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white shadow",children:"2"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 rounded-t-xl px-4 py-3 w-24 text-center shadow-lg",children:[(0,d.jsx)("p",{className:"text-xs font-bold text-gray-800 truncate mb-1",children:i[1].name}),(0,d.jsx)("p",{className:"text-lg font-bold text-gray-700",children:i[1].xpToday}),(0,d.jsx)("p",{className:"text-[10px] text-gray-600 font-medium",children:"XP"})]})]}),i[0]&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col items-center cursor-pointer group relative z-10",onClick:()=>b&&b("buddy",i[0].id),children:[(0,d.jsx)(h.P.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:2},className:"absolute -top-8 text-2xl",children:"\uD83D\uDC51"}),(0,d.jsxs)("div",{className:"relative mb-2",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-base font-bold text-white shadow-xl group-hover:scale-110 transition-transform",children:i[0].initials}),(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-7 h-7 bg-yellow-500 rounded-full flex items-center justify-center text-white text-sm font-bold border-2 border-white shadow-lg",children:"1"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-yellow-200 to-yellow-300 rounded-t-xl px-5 py-4 w-28 text-center shadow-xl",children:[(0,d.jsx)("p",{className:"text-xs font-bold text-yellow-900 truncate mb-1",children:i[0].name}),(0,d.jsx)("p",{className:"text-xl font-bold text-yellow-800",children:i[0].xpToday}),(0,d.jsx)("p",{className:"text-[10px] text-yellow-700 font-medium",children:"XP"})]})]}),i[2]&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col items-center cursor-pointer group",onClick:()=>b&&b("buddy",i[2].id),children:[(0,d.jsxs)("div",{className:"relative mb-2",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-300 to-orange-400 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-md group-hover:scale-110 transition-transform",children:i[2].initials}),(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-orange-400 rounded-full flex items-center justify-center text-white text-[10px] font-bold border-2 border-white shadow",children:"3"})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-orange-200 to-orange-300 rounded-t-xl px-3 py-2 w-20 text-center shadow-md",children:[(0,d.jsx)("p",{className:"text-[10px] font-bold text-orange-800 truncate mb-1",children:i[2].name}),(0,d.jsx)("p",{className:"text-base font-bold text-orange-700",children:i[2].xpToday}),(0,d.jsx)("p",{className:"text-[9px] text-orange-600 font-medium",children:"XP"})]})]})]}),i.length>3&&(0,d.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 font-medium mb-3 text-center",children:"Autres buddies"}),(0,d.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"none"},children:i.slice(3).map((a,c)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+.05*c},className:"flex-shrink-0 bg-white rounded-lg p-2 border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all cursor-pointer w-24",onClick:()=>b&&b("buddy",a.id),children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-700 mx-auto mb-1",children:a.initials}),(0,d.jsx)("p",{className:"text-[10px] font-bold text-gray-900 truncate text-center mb-1",children:a.name}),(0,d.jsxs)("p",{className:"text-xs font-bold text-gray-700 text-center",children:[a.xpToday," XP"]})]},a.id))})]})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"Activit\xe9s r\xe9centes"}),(0,d.jsx)("button",{onClick:()=>b&&b("community"),className:"text-xs font-bold text-gray-600 hover:text-gray-900 transition-colors",children:"Plus â†’"})]}),(0,d.jsx)("div",{className:"space-y-2",children:a.slice(0,6).map((a,e)=>{let f=(0,d.jsx)(m.A,{className:"w-4 h-4"}),g="Cours",i="bg-blue-50/50",j="border-blue-200";return a.message.includes("d\xe9bloqu\xe9")?(f=(0,d.jsx)(c6,{className:"w-4 h-4"}),g="D\xe9bloqu\xe9",i="bg-green-50/50",j="border-green-200"):a.message.includes("compl\xe9t\xe9")?(f=(0,d.jsx)(M.A,{className:"w-4 h-4"}),g="Compl\xe9t\xe9",i="bg-gray-50",j="border-gray-300"):"achievement"===a.type&&(f=(0,d.jsx)(ad.A,{className:"w-4 h-4"}),g="Succ\xe8s",i="bg-yellow-50/50",j="border-yellow-200"),(0,d.jsx)(h.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+.03*e},whileHover:{scale:1.01,x:3},className:`${i} rounded-xl p-3 border ${j} hover:shadow-md transition-all cursor-pointer`,onClick:()=>a.clickableLink&&b&&b(a.clickableLink.type,a.clickableLink.id),children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center text-gray-700 flex-shrink-0 border border-gray-200",children:f}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,d.jsx)("span",{className:"text-sm font-bold text-gray-900",children:a.userName}),(0,d.jsx)("span",{className:"px-1.5 py-0.5 bg-white/70 rounded text-[10px] font-bold text-gray-600 border border-gray-200",children:g})]}),(0,d.jsx)("p",{className:"text-xs text-gray-700 leading-relaxed",children:a.message}),(0,d.jsx)("span",{className:"text-[10px] text-gray-500 font-medium mt-1 block",children:new Date(a.timestamp).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),c&&c[a.id]&&c[a.id].length>0&&(0,d.jsxs)("div",{className:"flex items-center gap-1 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg border border-gray-200 flex-shrink-0",children:[(0,d.jsx)("span",{className:"text-xs",children:c[a.id][0]}),(0,d.jsx)("span",{className:"text-xs font-bold text-gray-700",children:c[a.id].length})]})]})},a.id)})})]}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 border-2 border-gray-200 text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-900 rounded-xl mx-auto mb-3 flex items-center justify-center",children:(0,d.jsx)(q.A,{className:"w-6 h-6 text-white"})}),(0,d.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-1",children:"Module Buddies complet"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Recherche, invitations, progression d\xe9taill\xe9e et statistiques"}),(0,d.jsx)("button",{onClick:()=>b&&b("buddy"),className:"px-6 py-2.5 bg-gradient-to-r from-gray-900 to-black text-white rounded-xl font-bold text-sm hover:shadow-lg transition-all",children:"Ouvrir le module â†’"})]})]})}function dn({onNavigate:a}){let b=c4.getInstance().getUserXPProfile(),c=[{id:"social",title:"Social Butterfly",emoji:"\uD83E\uDD8B",color:"from-[#00c2ff] to-blue-500",earned:b.badges.filter(a=>a.name.includes("Social")||a.name.includes("Communaut\xe9")||a.name.includes("Buddy")).length,total:12},{id:"learning",title:"Learner Legend",emoji:"\uD83C\uDF93",color:"from-indigo-500 to-purple-500",earned:b.badges.filter(a=>a.name.includes("Le\xe7on")||a.name.includes("Quiz")||a.name.includes("Cours")).length,total:15},{id:"streaks",title:"Super Streaks",emoji:"\uD83D\uDD25",color:"from-orange-500 to-red-500",earned:b.badges.filter(a=>a.name.includes("S\xe9rie")||a.name.includes("R\xe9gularit\xe9")).length,total:10},{id:"achievements",title:"Platform Expert",emoji:"âš¡",color:"from-emerald-500 to-teal-500",earned:b.badges.filter(a=>a.name.includes("Explorateur")||a.name.includes("D\xe9couverte")).length,total:8}];return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-br from-gray-100 to-gray-50 rounded-2xl p-5 border-2 border-gray-300",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(l.A,{className:"w-6 h-6 text-blue-600"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Ma progression"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Niveau"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.currentLevel.level}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:b.currentLevel.title})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"XP Total"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.totalXP.toLocaleString()}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Points d'XP"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Badges"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.badges.length}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"D\xe9bloqu\xe9s"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"S\xe9rie"}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.dailyStreak}),(0,d.jsx)("span",{className:"text-xl",children:"\uD83D\uDD25"})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Jours cons\xe9cutifs"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Le\xe7ons"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:23}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Termin\xe9es"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Quiz"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:18}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"R\xe9pondus"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Contributions"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:7}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Exercices r\xe9solus"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Cours"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:3}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Compl\xe9t\xe9s"})]})]}),(0,d.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[(0,d.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Cours compl\xe9t\xe9s"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:["Loi de Gauss","Int\xe9grales et Applications","Forces et Mouvement"].map((a,b)=>(0,d.jsxs)("div",{className:"px-3 py-1.5 bg-white rounded-lg border border-gray-200 text-xs font-medium text-gray-700 flex items-center gap-1.5",children:[(0,d.jsx)(M.A,{size:14,className:"text-green-600"}),a]},b))})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-4 border-2 border-yellow-300 shadow-md",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,d.jsx)(n.A,{className:"w-5 h-5 text-yellow-600"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base",children:"Prochain niveau"}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[b.currentLevel.title," â†’ Niveau ",b.currentLevel.level+1]})]}),b.nextLevel&&(0,d.jsxs)("span",{className:"text-sm font-semibold text-gray-700 bg-gray-100 px-3 py-1 rounded-lg",children:[b.nextLevel.minXP-b.totalXP," XP"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:(0,d.jsx)(h.P.div,{initial:{width:0},animate:{width:`${b.progressToNext}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gray-900 rounded-full"})}),(0,d.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[Math.round(b.progressToNext),"% compl\xe9t\xe9"]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base",children:"Mes collections de badges"}),(0,d.jsx)("button",{onClick:()=>a&&a("community"),className:"text-xs font-semibold text-blue-600 hover:text-blue-700 flex items-center gap-1",children:"Voir tout â†’"})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.map((b,c)=>{let e=b.earned/b.total*100;return(0,d.jsx)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"bg-gray-50 rounded-xl p-4 border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>a&&a("community"),children:(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:`w-14 h-14 bg-gradient-to-br ${b.color} rounded-full flex items-center justify-center text-2xl mb-2 shadow-sm`,children:b.emoji}),(0,d.jsx)("h5",{className:"text-xs font-bold text-gray-900 text-center mb-1 line-clamp-2",children:b.title}),(0,d.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,d.jsx)("span",{className:"text-base font-bold text-gray-900",children:b.earned}),(0,d.jsxs)("span",{className:"text-xs text-gray-600",children:["/",b.total]})]}),(0,d.jsxs)("p",{className:"text-[10px] text-gray-500",children:[Math.round(e),"% compl\xe9t\xe9"]})]})},b.id)})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base mb-4",children:"Badges r\xe9cemment d\xe9bloqu\xe9s"}),b.badges.length>0?(0,d.jsx)("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:b.badges.slice(0,8).map(a=>(0,d.jsx)(h.P.div,{whileHover:{scale:1.05,y:-2},className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-2 border border-yellow-200 shadow-sm cursor-pointer flex flex-col items-center justify-center",title:a.name,children:(0,d.jsx)("span",{className:"text-2xl",children:a.emoji})},a.id))}):(0,d.jsxs)("div",{className:"text-center py-6",children:[(0,d.jsx)(ad.A,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-gray-600 text-xs",children:"Aucun badge encore"})]})]}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-5 border-2 border-blue-200 text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[(0,d.jsx)(ad.A,{className:"w-6 h-6 text-blue-600"}),(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base",children:"D\xe9couvre toutes tes collections !"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Explore tes badges par cat\xe9gorie et d\xe9couvre tous les badges \xe0 d\xe9bloquer"}),(0,d.jsx)("button",{onClick:()=>a&&a("community"),className:"px-5 py-2.5 bg-gradient-to-r from-gray-900 to-black text-white rounded-xl font-semibold text-sm hover:shadow-lg transition-all",children:"Voir ma collection compl\xe8te â†’"})]})]})}function dp({onNavigate:a}){let[b,c]=(0,e.useState)("weekend"),f={weekend:{title:"Sprint du Week-end",subtitle:"Gagne le plus d'XP ce week-end !",timeLeft:"13h 11m restantes",participants:2547,prize:"Badge exclusif + 1000 XP bonus",myPosition:42,myPoints:250,topPlayers:[{rank:1,name:"Sarah M.",school:"ULB Brussels",points:2850,avatar:"https://i.pravatar.cc/150?img=1"},{rank:2,name:"Alex K.",school:"UCL Louvain",points:2720,change:2,avatar:"https://i.pravatar.cc/150?img=2"},{rank:3,name:"Marie L.",school:"ULB Brussels",points:2680,change:-1,avatar:"https://i.pravatar.cc/150?img=3"},{rank:4,name:"Thomas D.",school:"UGent",points:2450,change:1,avatar:"https://i.pravatar.cc/150?img=4"},{rank:5,name:"Emma B.",school:"KU Leuven",points:2380,change:-2,avatar:"https://i.pravatar.cc/150?img=5"}]},faculty:{title:"Clash des Facult\xe9s",subtitle:"Quelle facult\xe9 domine cette semaine ?",timeLeft:"3j 5h restantes",participants:8943,prize:"Troph\xe9e dor\xe9 + acc\xe8s VIP 1 mois",myPosition:15,myPoints:1820,topPlayers:[{rank:1,name:"Sciences STEM",school:"Facult\xe9",points:45230,avatar:"\uD83D\uDD2C"},{rank:2,name:"M\xe9decine",school:"Facult\xe9",points:42100,change:1,avatar:"âš•ï¸"},{rank:3,name:"Ing\xe9nierie",school:"Facult\xe9",points:39870,change:-1,avatar:"âš™ï¸"},{rank:4,name:"\xc9conomie",school:"Facult\xe9",points:35450,avatar:"\uD83D\uDCCA"},{rank:5,name:"Droit",school:"Facult\xe9",points:32100,avatar:"âš–ï¸"}]},country:{title:"D\xe9fi des Pays",subtitle:"Ton pays peut-il \xeatre #1 ?",timeLeft:"6j 14h restantes",participants:15782,prize:"Badge national + 2000 XP",myPosition:892,myPoints:420,topPlayers:[{rank:1,name:"Belgique \uD83C\uDDE7\uD83C\uDDEA",school:"892 \xe9tudiants",points:128450,avatar:"\uD83C\uDDE7\uD83C\uDDEA"},{rank:2,name:"France \uD83C\uDDEB\uD83C\uDDF7",school:"1243 \xe9tudiants",points:125680,change:2,avatar:"\uD83C\uDDEB\uD83C\uDDF7"},{rank:3,name:"Suisse \uD83C\uDDE8\uD83C\uDDED",school:"534 \xe9tudiants",points:98230,change:-1,avatar:"\uD83C\uDDE8\uD83C\uDDED"},{rank:4,name:"Canada \uD83C\uDDE8\uD83C\uDDE6",school:"678 \xe9tudiants",points:87340,change:-1,avatar:"\uD83C\uDDE8\uD83C\uDDE6"},{rank:5,name:"Luxembourg \uD83C\uDDF1\uD83C\uDDFA",school:"234 \xe9tudiants",points:65120,change:1,avatar:"\uD83C\uDDF1\uD83C\uDDFA"}]}}[b];return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-br from-gray-100 to-gray-50 rounded-2xl p-5 border-2 border-gray-300",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(n.A,{className:"w-6 h-6 text-yellow-600"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Comp\xe9titions en cours"})]}),(0,d.jsx)("div",{className:"flex gap-2 mb-4",children:["weekend","faculty","country"].map(a=>(0,d.jsx)("button",{onClick:()=>c(a),className:`flex-1 py-2.5 px-3 rounded-xl font-semibold text-xs transition-all ${b===a?"bg-gradient-to-r from-gray-900 to-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:"weekend"===a?"Sprint du Week-end":"faculty"===a?"Clash des Facult\xe9s":"D\xe9fi des Pays"},a))}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-base mb-1",children:f.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:f.subtitle}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(t.A,{className:"w-3.5 h-3.5 text-orange-600"}),(0,d.jsx)("span",{className:"font-medium text-gray-700",children:f.timeLeft})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(q.A,{className:"w-3.5 h-3.5 text-blue-600"}),(0,d.jsxs)("span",{className:"font-medium text-gray-700",children:[f.participants.toLocaleString()," participants"]})]})]})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-xl p-4 border-2 border-yellow-300 shadow-md",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center text-xl shadow-md",children:"\uD83C\uDFC6"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Prix pour les vainqueurs"}),(0,d.jsx)("p",{className:"text-sm font-bold text-gray-900",children:f.prize})]})]})}),(0,d.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-300",children:[(0,d.jsx)("p",{className:"text-xs font-semibold text-blue-700 mb-2",children:"Ta position actuelle"}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"text-3xl font-black text-blue-900",children:["#",f.myPosition]}),(0,d.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,d.jsx)("span",{className:"font-bold text-lg text-blue-900",children:f.myPoints})," points"]})]}),(0,d.jsx)(h.P.div,{animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0},children:(0,d.jsx)(I.A,{className:"w-6 h-6 text-blue-600"})})]})]}),(0,d.jsx)("div",{className:"space-y-2",children:f.topPlayers.map((a,b)=>(0,d.jsx)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*b},className:`bg-white rounded-xl p-4 border-2 ${1===a.rank?"border-yellow-400 shadow-lg shadow-yellow-200":2===a.rank?"border-gray-300 shadow-md":3===a.rank?"border-orange-300 shadow-md":"border-gray-200"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-black text-sm ${1===a.rank?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white shadow-md":2===a.rank?"bg-gradient-to-br from-gray-300 to-gray-400 text-gray-800":3===a.rank?"bg-gradient-to-br from-orange-400 to-orange-500 text-white":"bg-gray-100 text-gray-700"}`,children:1===a.rank?"\uD83D\uDC51":2===a.rank?"\uD83E\uDD48":3===a.rank?"\uD83E\uDD49":`#${a.rank}`}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:"string"==typeof a.avatar&&a.avatar.startsWith("http")?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-cover bg-center border-2 border-white shadow-sm",style:{backgroundImage:`url(${a.avatar})`}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-bold text-sm text-gray-900 truncate",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:a.school})]})]}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 text-xl flex items-center justify-center",children:a.avatar}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-bold text-sm text-gray-900 truncate",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:a.school})]})]})}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"font-bold text-base text-gray-900",children:a.points.toLocaleString()}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"points"})]}),void 0!==a.change&&(0,d.jsxs)("div",{className:`flex items-center gap-0.5 ${a.change>0?"text-green-600":"text-red-600"}`,children:[a.change>0?"â–²":"â–¼",(0,d.jsx)("span",{className:"text-xs font-bold",children:Math.abs(a.change)})]})]})},a.rank))}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 border-2 border-gray-200 text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-900 rounded-xl mx-auto mb-3 flex items-center justify-center",children:(0,d.jsx)(n.A,{className:"w-6 h-6 text-yellow-400"})}),(0,d.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-1",children:"Module Comp\xe9titions complet"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Historique, statistiques, r\xe9compenses et plus encore"}),(0,d.jsx)("button",{onClick:()=>a&&a("competition"),className:"px-6 py-2.5 bg-gradient-to-r from-gray-900 to-black text-white rounded-xl font-bold text-sm hover:shadow-lg transition-all",children:"Voir toutes les comp\xe9titions â†’"})]})]})}function dq({isOpen:a,onClose:b,onNavigate:c,initialTab:f="for-you"}){let[g,j]=(0,e.useState)(f),[k,m]=(0,e.useState)(null),[p,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)(!1),[u,w]=(0,e.useState)([]),[x,y]=(0,e.useState)({}),z=dg.getInstance(),A=(0,e.useRef)(null);(0,e.useRef)(null);let B=a=>{a.clickableLink&&c&&(c(a.clickableLink.type,a.clickableLink.id),setTimeout(()=>{b()},300))},C=()=>{if(!k)return[];let a=[...k.founderSessions,...k.personalAchievements,...k.buddyActivities,...k.facultyActivities];switch(g){case"buddies":return k.buddyActivities;case"for-you":return a.map(a=>{let b=0;a.isLive&&(b+=150),a.isRead||(b+=100),k.buddyActivities.includes(a)&&(b+=50),a.clickableLink&&(b+=30),(a.message.toLowerCase().includes("cours")||a.message.toLowerCase().includes("le\xe7on")||a.message.toLowerCase().includes("quiz"))&&(b+=20),("achievement"===a.type||a.message.includes("compl\xe9t\xe9"))&&(b+=15);let c=(Date.now()-a.timestamp.getTime())/36e5;return c<1?b+=10:c<6?b+=5:c<24&&(b+=2),b+=2*(x[a.id]?.length||0),{event:a,score:b}}).sort((a,b)=>b.score-a.score).slice(0,30).map(a=>a.event);case"competitions":return k.personalAchievements.filter(a=>a.clickableLink?.type==="competition"||a.message.includes("comp\xe9tition")||a.message.includes("classement"));default:return a}};return a?(0,d.jsx)(i.N,{children:(0,d.jsxs)(h.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-[81px] right-0 bottom-0 w-full max-w-xl bg-white shadow-2xl overflow-hidden border-l border-gray-200 z-30",children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 bg-gradient-to-br from-gray-50 via-white to-blue-50/30 border-b border-gray-200/60 shadow-lg backdrop-blur-xl",children:[(0,d.jsx)("div",{className:"p-5",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("div",{className:"flex items-center gap-3",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 bg-clip-text text-transparent",children:"Science in Motion"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:"Ton r\xe9seau en temps r\xe9el âš¡"})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(h.P.button,{whileHover:{scale:1.1,rotate:180},whileTap:{scale:.9},onClick:()=>{t(!1),r(!0),setTimeout(()=>{m(z.getSocialFeed()),r(!1)},300);let a=Date.now();w([{id:"room-1",userId:"room-gauss",userName:"Loi de Gauss",courseName:"\xc9lectrostatique",userAvatar:"âš¡",activity:"5 participants",isLive:!0,status:"live",timestamp:new Date(a-12e4),hasBuddies:!0,isSilent:!1,isPublic:!0,participants:[{name:"Sophie",avatar:"https://i.pravatar.cc/150?img=1",isBuddy:!0},{name:"Marc",avatar:"https://i.pravatar.cc/150?img=2",isBuddy:!0},{name:"Lisa",avatar:"https://i.pravatar.cc/150?img=3",isBuddy:!1},{name:"Tom",avatar:"https://i.pravatar.cc/150?img=4",isBuddy:!1},{name:"Emma",avatar:"https://i.pravatar.cc/150?img=5",isBuddy:!1}]},{id:"room-2",userId:"room-integrales",userName:"Int\xe9grales",courseName:"Math\xe9matiques",userAvatar:"âˆ«",activity:"3 participants",isLive:!0,status:"live",timestamp:new Date(a-3e5),hasBuddies:!1,isSilent:!0,isPublic:!1,participants:[{name:"Alex",avatar:"https://i.pravatar.cc/150?img=6",isBuddy:!1},{name:"Nina",avatar:"https://i.pravatar.cc/150?img=7",isBuddy:!1},{name:"Paul",avatar:"https://i.pravatar.cc/150?img=8",isBuddy:!1}]},{id:"room-3",userId:"room-chimie",userName:"R\xe9actions Organiques",courseName:"Chimie Organique",userAvatar:"\uD83E\uDDEA",activity:"8 participants",isLive:!0,status:"live",timestamp:new Date(a-48e4),hasBuddies:!0,isSilent:!1,isPublic:!0,participants:[{name:"Zak",avatar:"https://i.pravatar.cc/150?img=9",isBuddy:!0},{name:"Julia",avatar:"https://i.pravatar.cc/150?img=10",isBuddy:!1},{name:"Max",avatar:"https://i.pravatar.cc/150?img=11",isBuddy:!1},{name:"Sarah",avatar:"https://i.pravatar.cc/150?img=12",isBuddy:!1},{name:"Chris",avatar:"https://i.pravatar.cc/150?img=13",isBuddy:!1},{name:"Anna",avatar:"https://i.pravatar.cc/150?img=14",isBuddy:!1},{name:"Ben",avatar:"https://i.pravatar.cc/150?img=15",isBuddy:!1},{name:"Eva",avatar:"https://i.pravatar.cc/150?img=16",isBuddy:!1}]},{id:"room-upcoming-1",userId:"room-bio",userName:"Mitochondries",courseName:"Biologie Cellulaire",userAvatar:"\uD83D\uDD2C",activity:"0 participants",isLive:!1,status:"upcoming",timestamp:new Date(a+9e5),scheduledTime:new Date(a+9e5),hasBuddies:!0,isSilent:!0,isPublic:!1,participants:[]},{id:"room-upcoming-2",userId:"room-stat",userName:"Probabilit\xe9s",courseName:"Statistiques",userAvatar:"\uD83D\uDCCA",activity:"0 participants",isLive:!1,status:"upcoming",timestamp:new Date(a+18e5),scheduledTime:new Date(a+18e5),hasBuddies:!1,isSilent:!1,isPublic:!0,participants:[]}]),A.current&&A.current.scrollTo({top:0,behavior:"smooth"})},className:"p-2.5 rounded-xl bg-white hover:bg-gray-50 transition-all relative border border-gray-200 shadow-sm",children:[(0,d.jsx)(c7.A,{size:18,className:"text-gray-700"}),s&&(0,d.jsx)(h.P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-orange-400 to-red-500 rounded-full shadow-lg shadow-orange-500/50"})]}),(0,d.jsx)(h.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:b,className:"p-2.5 rounded-xl bg-white hover:bg-gray-50 transition-all border border-gray-200 shadow-sm",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-700"})})]})]})}),(0,d.jsxs)("div",{className:"px-4 py-3 bg-gradient-to-br from-orange-50/50 via-white to-red-50/30 border-b border-gray-200/60",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"Study Rooms"}),(0,d.jsx)(h.P.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"text-lg",children:"\uD83D\uDD25"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsxs)("div",{className:"flex items-center gap-0.5 text-[10px] font-bold text-green-700 bg-green-100 px-1.5 py-0.5 rounded-full border border-green-300",children:[(0,d.jsx)("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-pulse"}),u.filter(a=>"live"===a.status).length]}),(0,d.jsxs)("div",{className:"flex items-center gap-0.5 text-[10px] font-medium text-blue-700 bg-blue-100 px-1.5 py-0.5 rounded-full border border-blue-300",children:[(0,d.jsx)(o.A,{className:"w-2.5 h-2.5"}),u.filter(a=>"upcoming"===a.status).length]})]})]}),(0,d.jsx)(dj,{items:u,autoplay:!0,autoplayDelay:5e3,pauseOnHover:!0})]}),(0,d.jsx)("div",{className:"flex items-center bg-white shadow-sm",children:["for-you","buddies","progression","competitions"].map(a=>{let b=(a=>{switch(a){case"for-you":return J.A;case"buddies":return q.A;case"competitions":return n.A;case"progression":return l.A}})(a),c=g===a;return(0,d.jsxs)(h.P.button,{onClick:()=>j(a),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex-1 py-4 px-2 text-center transition-all relative ${c?"text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[(0,d.jsx)(h.P.div,{animate:c?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:(0,d.jsx)(b,{size:20})}),(0,d.jsx)("span",{className:"text-xs font-medium hidden sm:block",children:(a=>{switch(a){case"for-you":return"Pour toi";case"buddies":return"Buddies";case"competitions":return"Comp\xe9titions";case"progression":return"Progression"}})(a)})]}),c&&(0,d.jsx)(h.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-gray-900 to-black rounded-t-full",transition:{type:"spring",damping:30,stiffness:300}})]},a)})})]}),(0,d.jsx)("div",{ref:A,className:"overflow-y-auto h-[calc(100vh-85px-290px)] bg-gradient-to-b from-gray-50/50 to-white p-4",children:p?(0,d.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,d.jsx)(h.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,d.jsx)(c7.A,{size:32,className:"text-blue-600"})})}):"buddies"===g?(0,d.jsx)(dm,{buddyActivities:k?.buddyActivities||[],onNavigate:c,reactions:x}):"progression"===g?(0,d.jsx)(dn,{onNavigate:c}):"competitions"===g?(0,d.jsx)(dp,{onNavigate:c}):(0,d.jsx)(d.Fragment,{children:0===C().length?(0,d.jsxs)("div",{className:"text-center py-20",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,d.jsx)(X.A,{size:32,className:"text-gray-400"})}),(0,d.jsx)("p",{className:"text-gray-600 font-medium",children:"Aucune activit\xe9 pour le moment"}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Reviens plus tard !"})]}):(0,d.jsx)(dl,{items:C().map((a,b)=>(0,d.jsx)(dx,{event:a,index:b,reactions:x[a.id]||[],onReaction:b=>{var c;return c=a.id,void y(a=>({...a,[c]:[...a[c]||[],b]}))},onClick:()=>B(a)},a.id)),onItemSelect:(a,b)=>{let c=C()[b];c&&B(c)},showGradients:!0,enableArrowNavigation:!1,displayScrollbar:!0,className:"px-4"})})})]})}):null}function dr({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp);return(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{delay:.05*b},className:"relative overflow-hidden rounded-xl border-2 border-red-500 bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 shadow-lg",children:[(0,d.jsx)(h.P.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-orange-500/10"}),(0,d.jsx)("div",{className:"relative p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center text-gray-700 font-bold shadow-lg border-2 border-red-500",children:a.userName[0]}),(0,d.jsx)(h.P.div,{animate:{scale:[1,1.3,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full"})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("span",{className:"font-bold text-gray-900",children:a.userName}),(0,d.jsx)("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"\uD83D\uDD34 LIVE"}),(0,d.jsx)("span",{className:"ml-auto text-xs text-gray-600",children:e})]}),(0,d.jsx)("p",{className:"text-gray-800 font-medium mb-3",children:a.message}),a.clickableLink&&(0,d.jsxs)(h.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:"w-full bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg py-2.5 px-4 font-bold shadow-lg flex items-center justify-between",children:[(0,d.jsxs)("span",{children:["\uD83D\uDE80 ",a.clickableLink.action||"Rejoindre maintenant"]}),(0,d.jsx)(B.A,{size:18})]})]})]})})]})}function ds({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp);return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*b},className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-amber-200",children:[(0,d.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-200/30 rounded-full -mr-16 -mt-16"}),(0,d.jsx)("div",{className:"relative p-5",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)(h.P.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:.5,delay:.05*b},className:"text-4xl",children:a.emoji||"\uD83C\uDFC6"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("span",{className:"font-bold text-gray-900",children:a.userName}),(0,d.jsx)("span",{className:"text-amber-600 text-xs font-semibold bg-amber-100 px-2 py-0.5 rounded-full",children:"Achievement"})]}),(0,d.jsx)("p",{className:"text-gray-800 font-medium mb-2",children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:e})]})]})})]})}function dt({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp);return(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.05*b},className:"rounded-xl overflow-hidden border-2 border-purple-300 bg-white shadow-md",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-4 py-2 flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-white font-bold text-sm",children:"âš”ï¸ Battle"}),(0,d.jsx)("span",{className:"text-white/90 text-xs font-semibold",children:a.battleStatus?.toUpperCase()})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold shadow-md",children:a.userName[0]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:a.userName}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Toi"})]})]}),(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:a.battleOpponent}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Adversaire"})]}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 flex items-center justify-center text-white font-bold shadow-md",children:a.battleOpponent?.[0]||"A"})]})]}),a.battleScore&&(0,d.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-3 py-2 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:a.battleScore.player}),(0,d.jsx)("span",{className:"text-gray-400",children:"-"}),(0,d.jsx)("span",{className:"text-2xl font-bold text-red-600",children:a.battleScore.opponent})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mb-2",children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:e})]})]})}function du({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp),f=["from-blue-500 to-blue-600","from-purple-500 to-purple-600","from-green-500 to-green-600","from-orange-500 to-orange-600"],g=f[b%f.length];return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*b},className:"rounded-xl overflow-hidden border border-gray-200 bg-white hover:shadow-lg transition-all",children:[(0,d.jsx)("div",{className:`bg-gradient-to-r ${g} px-4 py-3`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{size:16,className:"text-white"}),(0,d.jsx)("span",{className:"text-white font-bold text-sm",children:"Study Room"})]}),a.currentParticipants&&a.maxParticipants&&(0,d.jsxs)("span",{className:"text-white/90 text-xs font-semibold",children:[a.currentParticipants,"/",a.maxParticipants," participants"]})]})}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center text-gray-700 font-bold",children:a.userName[0]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:a.userName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:e})]})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mb-3",children:a.message}),a.clickableLink&&(0,d.jsxs)(h.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:`w-full bg-gradient-to-r ${g} text-white rounded-lg py-2 px-4 font-semibold text-sm flex items-center justify-between shadow-md`,children:[(0,d.jsx)("span",{children:a.clickableLink.action||"Rejoindre"}),(0,d.jsx)(B.A,{size:16})]})]})]})}function dv({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp);return(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{delay:.05*b},className:"rounded-xl overflow-hidden border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white shadow-md",children:(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(J.A,{size:16,className:"text-blue-600"}),(0,d.jsx)("span",{className:"text-blue-600 text-xs font-bold",children:"Recommand\xe9 pour toi"}),a.relevanceScore&&(0,d.jsxs)("span",{className:"ml-auto text-xs font-semibold text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:[a.relevanceScore,"% match"]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center text-gray-700 font-bold",children:a.userName[0]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:a.userName}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mt-1",children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:e})]})]}),a.clickableLink&&(0,d.jsxs)(h.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg py-2.5 px-4 font-semibold text-sm flex items-center justify-between shadow-md",children:[(0,d.jsx)("span",{children:a.clickableLink.action||"D\xe9couvrir"}),(0,d.jsx)(B.A,{size:16})]})]})})}function dw({event:a,index:b,onClick:c}){let e=dg.getInstance().getTimeAgo(a.timestamp),f=a.challengeProgress||0;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*b},className:"rounded-xl overflow-hidden border border-green-200 bg-white shadow-md",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 px-4 py-2 flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-white font-bold text-sm",children:"\uD83C\uDFAF Challenge"}),(0,d.jsxs)("span",{className:"text-white/90 text-xs font-semibold",children:[f,"% compl\xe9t\xe9"]})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 flex items-center justify-center text-gray-700 font-bold",children:a.userName[0]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-semibold text-gray-900",children:a.userName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:e})]})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mb-3",children:a.message}),(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)(h.P.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:1,delay:.05*b},className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full"})})}),a.challengeReward&&(0,d.jsxs)("p",{className:"text-xs text-gray-600 mb-3",children:["\uD83C\uDFC6 R\xe9compense: ",a.challengeReward]}),a.clickableLink&&(0,d.jsx)(h.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg py-2 px-4 font-semibold text-sm shadow-md",children:a.clickableLink.action||"Continuer"})]})]})}function dx({event:a,index:b,reactions:c,onReaction:e,onClick:f}){return a.isLive&&"study-room"===a.type?(0,d.jsx)(dr,{event:a,index:b,onClick:f}):"achievement"===a.type||"personal"===a.type?(0,d.jsx)(ds,{event:a,index:b,onClick:f}):"battle"===a.type?(0,d.jsx)(dt,{event:a,index:b,onClick:f}):"study-room"!==a.type||a.isLive?"discovery"===a.type?(0,d.jsx)(dv,{event:a,index:b,onClick:f}):"challenge"===a.type?(0,d.jsx)(dw,{event:a,index:b,onClick:f}):(0,d.jsx)(dy,{event:a,index:b,reactions:c,onReaction:e,onClick:f}):(0,d.jsx)(du,{event:a,index:b,onClick:f})}function dy({event:a,index:b,reactions:c,onReaction:f,onClick:g}){let[i,j]=(0,e.useState)(!1),k=dg.getInstance().getTimeAgo(a.timestamp),l=a.isLive,m=!a.isRead;return a.clickableLink,(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:.05*b},className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg hover:border-blue-200 hover:-translate-y-0.5 transition-all",children:[(0,d.jsx)("div",{className:"p-5",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,d.jsx)(h.P.div,{whileHover:{scale:1.1},className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center text-gray-700 font-bold shadow-sm",children:a.userName[0]}),l&&(0,d.jsx)(h.P.div,{animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-gradient-to-r from-red-500 to-orange-500 rounded-full border-2 border-white"})]}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:a.userName}),l&&(0,d.jsx)(h.P.span,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},className:"bg-gradient-to-r from-red-500 to-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm",children:"\uD83D\uDD34 LIVE"}),m&&(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm mt-1",children:a.message})]}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:k})]})})]})}),(0,d.jsxs)("div",{className:"border-t border-gray-100 px-4 py-2 flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>j(!i),className:"flex items-center gap-1 text-gray-600 hover:text-blue-600 transition-colors",children:[(0,d.jsx)(ae.A,{size:16}),c.length>0&&(0,d.jsx)("span",{className:"text-xs font-medium",children:c.length})]}),i&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute bottom-full mb-2 bg-white rounded-xl shadow-xl border border-gray-200 px-2 py-1 flex gap-1",children:["\uD83D\uDD25","\uD83D\uDCA1","\uD83C\uDFAF","\uD83D\uDC4F","\uD83E\uDD29","â¤ï¸"].map(a=>(0,d.jsx)("button",{onClick:()=>{f(a),j(!1)},className:"w-8 h-8 hover:scale-125 transition-transform",children:a},a))})]}),(0,d.jsx)("button",{className:"flex items-center gap-1 text-gray-600 hover:text-blue-600 transition-colors",children:(0,d.jsx)(aG.A,{size:16})}),(0,d.jsx)("button",{className:"flex items-center gap-1 text-gray-600 hover:text-blue-600 transition-colors",children:(0,d.jsx)(cm.A,{size:16})})]}),(0,d.jsx)("button",{className:"text-gray-600 hover:text-blue-600 transition-colors",children:(0,d.jsx)(c8,{size:16})})]}),c.length>0&&(0,d.jsxs)("div",{className:"px-4 py-2 bg-gray-50 flex items-center gap-1 text-xs text-gray-600",children:[c.slice(0,5).join(" "),c.length>5&&(0,d.jsxs)("span",{children:["et ",c.length-5," autres"]})]})]})}let dz=(0,_.A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),dA=(0,_.A)("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]]),dB=(0,_.A)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var dC=c(92902),dD=c(10906);let dE=[{id:"q1",timestamp:30,question:"Quelle est la formule de la d\xe9riv\xe9e d'une fonction compos\xe9e ?",options:["(f âˆ˜ g)'(x) = f'(g(x))","(f âˆ˜ g)'(x) = f'(g(x)) \xd7 g'(x)","(f âˆ˜ g)'(x) = f'(x) \xd7 g'(x)","(f âˆ˜ g)'(x) = f(g'(x))"],correctAnswer:1,explanation:"La r\xe8gle de d\xe9rivation en cha\xeene stipule que (f âˆ˜ g)'(x) = f'(g(x)) \xd7 g'(x)"},{id:"q2",timestamp:90,question:"Dans quel cas utilise-t-on l'int\xe9gration par parties ?",options:["Pour toutes les fonctions polynomiales","Quand on a un produit de fonctions","Uniquement pour les fonctions exponentielles","Pour les fonctions trigonom\xe9triques seulement"],correctAnswer:1,explanation:"L'int\xe9gration par parties est utilis\xe9e pour int\xe9grer un produit de deux fonctions : âˆ«u dv = uv - âˆ«v du"},{id:"q3",timestamp:150,question:"Que repr\xe9sente la constante d'int\xe9gration ?",options:["Une erreur de calcul","L'ensemble des primitives possibles","La valeur initiale de la fonction","Le coefficient directeur"],correctAnswer:1,explanation:"La constante d'int\xe9gration repr\xe9sente toutes les primitives possibles d'une fonction, car elles diff\xe8rent d'une constante."}];function dF({videoUrl:a="/placeholder-video.mp4",questions:b=dE,onQuizComplete:c}){let[f,g]=(0,e.useState)(!1),[j,k]=(0,e.useState)(!1),[l,n]=(0,e.useState)(0),[o,p]=(0,e.useState)(180),[q,r]=(0,e.useState)(1),[s,t]=(0,e.useState)(!1),[u,y]=(0,e.useState)(1),[A,B]=(0,e.useState)(!1),[C,D]=(0,e.useState)(null),[E,F]=(0,e.useState)(null),[G,I]=(0,e.useState)(null),[J,K]=(0,e.useState)([]),[L,O]=(0,e.useState)(0),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(null),[T,U]=(0,e.useState)(!1),[V,W]=(0,e.useState)(!1),X=(0,e.useRef)(null),Y=(0,e.useRef)(null),Z=(0,e.useCallback)(async()=>{console.log("\uD83D\uDD0A Playing SMS premium intro sound...");try{let a=window.AudioContext||window.webkitAudioContext;if(!a)return void console.warn("AudioContext not supported");let b=new a;Y.current=b,"suspended"===b.state&&(await b.resume(),console.log("\uD83C\uDFB5 AudioContext resumed")),console.log("\uD83C\uDFB5 AudioContext ready, state:",b.state);let c=b.currentTime,d=b.createGain();d.connect(b.destination),d.gain.setValueAtTime(.35,c);let e=b.createBuffer(1,.3*b.sampleRate,b.sampleRate),f=e.getChannelData(0);for(let a=0;a<e.length;a++){let b=.8*Math.sin(a/e.length*Math.PI);f[a]=(2*Math.random()-1)*b}let g=b.createBufferSource();g.buffer=e;let h=b.createBiquadFilter();h.type="bandpass",h.frequency.setValueAtTime(3500,c),h.frequency.exponentialRampToValueAtTime(1200,c+.25),h.Q.setValueAtTime(2,c);let i=b.createGain();i.gain.setValueAtTime(0,c),i.gain.linearRampToValueAtTime(.4,c+.05),i.gain.linearRampToValueAtTime(.3,c+.15),i.gain.exponentialRampToValueAtTime(.01,c+.28),g.connect(h),h.connect(i),i.connect(d),g.start(c),g.stop(c+.3);let j=b.createOscillator(),k=b.createGain();j.type="sine",j.frequency.setValueAtTime(800,c),j.frequency.exponentialRampToValueAtTime(400,c+.2),k.gain.setValueAtTime(0,c),k.gain.linearRampToValueAtTime(.08,c+.03),k.gain.exponentialRampToValueAtTime(.01,c+.2),j.connect(k),k.connect(d),j.start(c),j.stop(c+.22);let l=b.createOscillator(),m=b.createGain();l.type="sine",l.frequency.setValueAtTime(280,c+.2),l.frequency.exponentialRampToValueAtTime(180,c+.35),m.gain.setValueAtTime(0,c),m.gain.linearRampToValueAtTime(.5,c+.205),m.gain.exponentialRampToValueAtTime(.01,c+.42),l.connect(m),m.connect(d),l.start(c+.2),l.stop(c+.45);let n=b.createOscillator(),o=b.createGain();n.type="triangle",n.frequency.setValueAtTime(560,c+.2),o.gain.setValueAtTime(0,c),o.gain.linearRampToValueAtTime(.15,c+.21),o.gain.exponentialRampToValueAtTime(.01,c+.4),n.connect(o),o.connect(d),n.start(c+.2),n.stop(c+.42);let p=b.createOscillator(),q=b.createGain();p.type="sine",p.frequency.setValueAtTime(440,c+.25),q.gain.setValueAtTime(0,c),q.gain.linearRampToValueAtTime(.2,c+.28),q.gain.exponentialRampToValueAtTime(.01,c+.55),p.connect(q),q.connect(d),p.start(c+.25),p.stop(c+.55),console.log("\uD83C\uDFB5 Premium SMS sound started - Trajectory + Fixation"),setTimeout(()=>{Y.current&&(Y.current.close(),Y.current=null)},800)}catch(a){console.error("Audio error:",a)}},[]),$=[{id:"essentials",icon:m.A,label:"Essentiels"},{id:"quiz",icon:H.A,label:"Quiz"},{id:"qa",icon:x.A,label:"Q&A"},{id:"resources",icon:z.A,label:"Ressources"},{id:"notes",icon:c1.A,label:"Notes"}],_=(0,e.useCallback)(()=>{X.current&&(document.fullscreenElement?document.exitFullscreen().then(()=>{k(!1)}):X.current.requestFullscreen().then(()=>{k(!0)}).catch(a=>{console.error("Erreur fullscreen:",a)}))},[]),aa=(0,e.useCallback)(()=>{U(!1),W(!0),g(!0)},[]),ab=(0,e.useCallback)(()=>{if(!f&&!j&&(_(),!V)){U(!0),setTimeout(()=>{Z()},300);return}g(!f)},[f,j,_,V,Z]),ac=a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`},ad=l/o*100,ae=b.map(a=>a.timestamp/o*100);return(0,d.jsxs)("div",{ref:X,className:`relative w-full bg-black overflow-hidden ${j?"fixed inset-0 z-50 flex flex-col":"rounded-2xl shadow-2xl"}`,children:[(0,d.jsx)(i.N,{children:T&&(0,d.jsx)(h.P.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 z-[100] bg-[#0a0a0f]",children:(0,d.jsx)("div",{className:"flex items-center justify-center w-full h-full",style:{transform:"scale(1.5)"},children:(0,d.jsx)(dD.u8,{variant:"star-shoot",autoPlay:!0,loop:!1,darkMode:!0,onComplete:aa})})})}),j&&(0,d.jsx)("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:_,className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center hover:bg-white/20 transition-colors",children:(0,d.jsx)(dz,{size:18,className:"text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{style:{color:"#ffffff"},className:"font-semibold text-lg",children:"Techniques avanc\xe9es d'int\xe9gration"}),(0,d.jsx)("p",{style:{color:"rgba(255,255,255,0.8)"},className:"text-sm",children:"Le\xe7on 3 â€¢ Ondes m\xe9caniques"})]})]})})}),(0,d.jsxs)("div",{className:`flex ${j?"flex-1 h-[calc(100vh-100px)]":""}`,children:[(0,d.jsxs)("div",{className:`relative bg-black flex items-center justify-center cursor-pointer group transition-all duration-500 ease-out ${j?C?"flex-1":"w-full":"aspect-video w-full"}`,onClick:a=>{!a.target.closest(".widget-area")&&(G||ab())},children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-900"}),(0,d.jsx)("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[f?(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center",children:(0,d.jsx)("div",{className:"flex items-center gap-1",children:[8,12,16,10,14].map((a,b)=>(0,d.jsx)(h.P.div,{className:"w-1 bg-white rounded-full",animate:{height:[a,1.5*a,a]},transition:{duration:.5,repeat:1/0,delay:.1*b}},b))})}):(0,d.jsx)(h.P.div,{className:"w-20 h-20 mx-auto mb-6 border-2 border-white/30 rounded-full flex items-center justify-center transition-all group-hover:border-white/60 group-hover:scale-105",whileHover:{scale:1.08},whileTap:{scale:.95},children:(0,d.jsx)(N.A,{size:32,className:"ml-1 text-white"})}),!j&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{className:"text-base font-medium mb-1 text-white/90",children:"Techniques avanc\xe9es d'int\xe9gration"}),(0,d.jsx)("p",{className:"text-white/50 text-sm",children:f?`${ac(l)} / ${ac(o)}`:"Cliquez pour commencer"})]})]})}),j&&!C&&(0,d.jsx)("div",{className:"widget-area absolute right-6 top-1/2 -translate-y-1/2 flex flex-col gap-2 z-20",children:$.map(a=>(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),D(a.id)},onMouseEnter:()=>F(a.id),onMouseLeave:()=>F(null),className:"relative flex items-center",children:[E===a.id&&(0,d.jsx)("span",{className:"pointer-events-none absolute right-full mr-4 px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap bg-[#00c2ff] text-white shadow-xl",children:a.label}),(0,d.jsx)("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ${E===a.id?"bg-[#00c2ff] text-white border border-[#00c2ff]":"bg-white/10 border border-white/20 text-white/70"}`,children:(0,d.jsx)(a.icon,{size:18})})]},a.id))}),(0,d.jsx)(i.N,{children:G&&(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute inset-0 bg-black/80 flex items-center justify-center p-6 z-40",children:(0,d.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quiz int\xe9gr\xe9"}),(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm font-bold",children:"?"})})]}),P?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:`p-3 rounded-lg mb-4 ${R===G.correctAnswer?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[R===G.correctAnswer?(0,d.jsx)(M.A,{size:20,className:"text-green-600"}):(0,d.jsx)(v.A,{size:20,className:"text-red-600"}),(0,d.jsx)("span",{className:`font-medium ${R===G.correctAnswer?"text-green-800":"text-red-800"}`,children:R===G.correctAnswer?"Correct !":"Incorrect"})]}),G.explanation&&(0,d.jsx)("p",{className:"text-sm text-gray-700",children:G.explanation})]}),(0,d.jsx)("button",{onClick:()=>{I(null),S(null),Q(!1),g(!0)},className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Continuer la vid\xe9o"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-gray-700 mb-4",children:G.question}),(0,d.jsx)("div",{className:"space-y-2 mb-4",children:G.options.map((a,b)=>(0,d.jsxs)("button",{onClick:()=>{S(b)},className:`w-full text-left p-3 rounded-lg border transition-all ${R===b?"border-gray-900 bg-gray-900 text-white":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[(0,d.jsxs)("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+b),"."]}),a]},b))}),(0,d.jsx)("button",{onClick:()=>{null!==R&&G&&(R===G.correctAnswer&&O(a=>a+1),K(a=>[...a,G.id]),Q(!0))},disabled:null===R,className:"w-full bg-gray-900 text-white py-2 px-4 rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Valider ma r\xe9ponse"})]})]})})})]}),(0,d.jsx)(i.N,{children:j&&C&&(0,d.jsxs)(h.P.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"w-[400px] h-full bg-white flex flex-col border-l border-gray-100",style:{maxHeight:"calc(100vh - 100px)"},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100 flex-shrink-0",children:[(0,d.jsx)("div",{className:"flex items-center gap-4",children:(()=>{let a=$.find(a=>a.id===C),b=a?.icon||m.A;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center",children:(0,d.jsx)(b,{size:18,className:"text-white"})}),(0,d.jsx)("span",{className:"font-semibold text-gray-900 text-lg",children:a?.label})]})})()}),(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),D(null)},className:"w-9 h-9 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors cursor-pointer z-50",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-400"})})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:(a=>{switch(a){case"essentials":return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Points essentiels"}),(0,d.jsx)("ul",{className:"space-y-3",children:["D\xe9finition de la d\xe9riv\xe9e","R\xe8gle de d\xe9rivation en cha\xeene","Applications pratiques"].map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("span",{className:"w-6 h-6 bg-gray-900 text-white rounded-full flex items-center justify-center text-sm font-bold",children:b+1}),(0,d.jsx)("span",{className:"text-gray-700",children:a})]},b))})]});case"quiz":return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Quiz de la le\xe7on"}),(0,d.jsx)("p",{className:"text-gray-600",children:"3 questions pour tester votre compr\xe9hension"}),(0,d.jsx)("button",{className:"w-full bg-gray-900 text-white py-3 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"Commencer le quiz"})]});case"qa":return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Questions & R\xe9ponses"}),(0,d.jsx)("div",{className:"space-y-3",children:["Comment appliquer cette formule ?","Quelle est la diff\xe9rence avec...?"].map((a,b)=>(0,d.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"12 r\xe9ponses"})]},b))})]});case"resources":return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Ressources"}),(0,d.jsx)("div",{className:"space-y-2",children:["Slides du cours (PDF)","Exercices corrig\xe9s","Formulaire"].map((a,b)=>(0,d.jsxs)("button",{className:"w-full flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[(0,d.jsx)(z.A,{size:18,className:"text-gray-600"}),(0,d.jsx)("span",{className:"text-gray-700",children:a})]},b))})]});case"notes":return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Mes notes"}),(0,d.jsx)("textarea",{className:"w-full h-40 p-3 bg-gray-50 border border-gray-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-gray-900",placeholder:"Prenez vos notes ici..."}),(0,d.jsx)("button",{className:"w-full bg-gray-900 text-white py-2 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"Sauvegarder"})]});default:return null}})(C)})]})})]}),(0,d.jsxs)("div",{className:`text-white ${j?"absolute bottom-0 left-0 right-0 bg-black/80 backdrop-blur-sm py-4 px-6":"bg-gray-900 p-4"}`,children:[(0,d.jsx)("div",{className:`${j?"mb-4":"mb-3"}`,children:(0,d.jsxs)("div",{className:`relative w-full bg-white/20 rounded-full cursor-pointer group transition-all ${j?"h-1 hover:h-1.5":"h-1 hover:h-2"}`,onClick:a=>{let b=a.currentTarget.getBoundingClientRect();n(Math.floor((a.clientX-b.left)/b.width*o))},children:[(0,d.jsx)("div",{className:"absolute top-0 left-0 h-full bg-white rounded-full transition-all",style:{width:`${ad}%`}}),(0,d.jsx)("div",{className:"absolute top-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",style:{left:`${ad}%`,transform:"translate(-50%, -50%)"}}),ae.map((a,c)=>(0,d.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 bg-[#00c2ff] rounded-full",style:{left:`${a}%`},title:`Quiz \xe0 ${ac(b[c].timestamp)}`},c))]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>n(a=>Math.max(a-10,0)),className:"w-9 h-9 flex items-center justify-center hover:bg-white/10 rounded-lg transition-colors",title:"-10s",children:(0,d.jsx)(dA,{size:18,className:"text-white/80"})}),(0,d.jsx)("button",{onClick:ab,className:`flex items-center justify-center transition-all ${j?"w-12 h-12 bg-white rounded-full hover:scale-105":"w-10 h-10 bg-white/10 rounded-full hover:bg-white/20"}`,children:f?(0,d.jsx)(dB,{size:j?22:20,className:j?"text-gray-900":"text-white"}):(0,d.jsx)(N.A,{size:j?22:20,className:`ml-0.5 ${j?"text-gray-900":"text-white"}`})}),(0,d.jsx)("button",{onClick:()=>n(a=>Math.min(a+10,o)),className:"w-9 h-9 flex items-center justify-center hover:bg-white/10 rounded-lg transition-colors",title:"+10s",children:(0,d.jsx)(dC.A,{size:18,className:"text-white/80"})}),(0,d.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,d.jsx)("button",{onClick:()=>t(!s),className:"w-9 h-9 flex items-center justify-center hover:bg-white/10 rounded-lg transition-colors",children:s||0===q?(0,d.jsx)(b2.A,{size:18,className:"text-white/80"}):(0,d.jsx)(b1.A,{size:18,className:"text-white/80"})}),(0,d.jsx)("div",{className:"w-20 h-1 bg-white/20 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-white rounded-full transition-all",style:{width:`${(s?0:q)*100}%`}})})]}),(0,d.jsxs)("span",{className:"text-sm ml-3 text-white/70 font-medium tabular-nums",children:[ac(l)," ",(0,d.jsx)("span",{className:"text-white/40",children:"/"})," ",ac(o)]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[J.length>0&&(0,d.jsxs)("div",{className:"text-sm bg-white/10 px-3 py-1.5 rounded-lg font-medium",children:["Quiz: ",L,"/",J.length]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("button",{onClick:()=>B(!A),className:"px-3 py-1.5 text-sm font-medium hover:bg-white/10 rounded-lg transition-colors text-white/80",children:[u,"x"]}),A&&(0,d.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-white rounded-xl overflow-hidden shadow-2xl py-1 min-w-[80px]",children:[.5,.75,1,1.25,1.5,1.75,2].map(a=>(0,d.jsxs)("button",{onClick:()=>{y(a),B(!1)},className:`block w-full px-4 py-2 text-sm text-left transition-colors ${u===a?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[a,"x"]},a))})]}),(0,d.jsx)("button",{className:"w-9 h-9 flex items-center justify-center hover:bg-white/10 rounded-lg transition-colors",children:(0,d.jsx)(w.A,{size:18,className:"text-white/80"})}),!j&&(0,d.jsx)("button",{onClick:_,className:"w-9 h-9 flex items-center justify-center hover:bg-white/10 rounded-lg transition-colors",children:(0,d.jsx)(ch,{size:18,className:"text-white/80"})})]})]})]})]})}function dG({course:a,lessons:b,currentLessonId:c,onLessonSelect:e,purchasedItems:f}){let g=b.filter(a=>a.isCompleted).length,i=b.length>0?Math.round(g/b.length*100):0;return(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,d.jsxs)("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-white border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Navigation du cours"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,d.jsx)(t.A,{size:14}),(0,d.jsxs)("span",{children:[b.length," le\xe7ons"]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Progression globale"}),(0,d.jsxs)("span",{className:"font-semibold text-gray-900",children:[i,"% termin\xe9"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2.5",children:(0,d.jsx)(h.P.div,{className:"bg-gray-900 h-2.5 rounded-full",initial:{width:0},animate:{width:`${i}%`},transition:{duration:1,ease:"easeOut"}})}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:[g," sur ",b.length," le\xe7ons termin\xe9es"]})]})]}),(0,d.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,d.jsx)("div",{className:"p-4 space-y-1",children:b.map((a,b)=>{let g=a.id===c?"current":a.isCompleted?"completed":a.isOwned||f.has(a.id)?"available":"locked",i="locked"!==g;return(0,d.jsx)(h.P.button,{onClick:()=>i&&e(a.id),disabled:!i,whileHover:i?{scale:1.01}:{},whileTap:i?{scale:.99}:{},className:`w-full p-3 rounded-xl text-left transition-all ${"current"===g?"bg-[#00c2ff]/10 border-2 border-[#00c2ff]/30 shadow-sm":"completed"===g?"bg-white border border-gray-200 hover:bg-gray-50":"available"===g?"bg-gray-50 border border-gray-100 hover:bg-gray-100":"bg-gray-25 border border-gray-50 opacity-60 cursor-not-allowed"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,d.jsx)("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold ${"current"===g?"bg-[#00c2ff] text-white":"completed"===g?"bg-gray-900 text-white":"available"===g?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-400"}`,children:b+1}),(a=>{switch(a){case"current":return(0,d.jsx)(N.A,{size:16,className:"text-[#00c2ff]"});case"completed":return(0,d.jsx)(M.A,{size:16,className:"text-gray-900"});case"available":return(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-gray-400 rounded-full"});case"locked":return(0,d.jsx)(E.A,{size:16,className:"text-gray-400"});default:return null}})(g)]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h4",{className:`font-medium text-sm truncate ${"current"===g?"text-blue-900":"completed"===g?"text-green-900":"available"===g?"text-gray-900":"text-gray-500"}`,children:a.title}),(0,d.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${"current"===g?"bg-[#00c2ff]/10 text-[#00c2ff]":"completed"===g?"bg-gray-900 text-white":"available"===g?"bg-gray-100 text-gray-600":"bg-gray-50 text-gray-400"}`,children:(a=>{switch(a){case"current":return"En cours";case"completed":return"Termin\xe9e";case"available":return"Disponible";case"locked":return"Verrouill\xe9e";default:return""}})(g)})})]}),a.duration&&(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:[a.duration," min"]}),void 0!==a.progress&&a.progress>0&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:"w-12 h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-blue-400 rounded-full transition-all",style:{width:`${a.progress}%`}})}),(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:[a.progress,"%"]})]})]})]})]})},a.id)})})})]})}let dH=(0,_.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function dI({courseId:a,courseName:b,activeStudents:c=124,weeklyQuestions:e=37,isVeryActive:f=!0}){return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-gray-50 rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,d.jsxs)("div",{className:"p-6 pb-4",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Une question ?"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Posez vos questions, \xe9changez avec d'autres \xe9tudiants et obtenez de l'aide rapidement !"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(q.A,{size:14,className:"text-gray-600"}),(0,d.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"\xc9tudiants actifs"})]}),(0,d.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,d.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:[c,"+"]}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"en ligne"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl p-3 border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)(I.A,{size:14,className:"text-gray-600"}),(0,d.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Cette semaine"})]}),(0,d.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,d.jsx)("span",{className:"text-xl font-bold text-gray-900",children:e}),(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"questions"})]})]})]}),(0,d.jsxs)(h.P.button,{onClick:()=>{let a=encodeURIComponent(`Salut ! J'ai une question sur le cours "${b}". Pouvez-vous m'aider ? ðŸŽ“`),c=`https://wa.me/+33123456789?text=${a}`;window.open(c,"_blank")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-[#25D366] hover:bg-[#20BD5A] text-white font-semibold py-4 px-6 rounded-xl transition-colors shadow-lg shadow-[#25D366]/25 flex items-center justify-center gap-3",children:[(0,d.jsx)("div",{className:"w-6 h-6 bg-white rounded-lg flex items-center justify-center",children:(0,d.jsx)(aG.A,{className:"text-[#25D366]",size:14})}),(0,d.jsx)("span",{children:"Rejoindre WhatsApp"}),(0,d.jsx)(dH,{size:16})]})]}),(0,d.jsx)("div",{className:"bg-white/50 border-t border-gray-100 px-6 py-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(a=>(0,d.jsx)("div",{className:"w-6 h-6 bg-gray-900 rounded-full border-2 border-white flex items-center justify-center text-xs font-bold text-white",children:String.fromCharCode(64+a)},a)),(0,d.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full border-2 border-white flex items-center justify-center text-xs font-bold text-gray-600",children:"+"})]}),(0,d.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:["et ",c-4," autres"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-[#25D366] rounded-full animate-pulse"}),(0,d.jsx)("span",{className:"text-xs text-gray-600",children:"En ligne maintenant"})]})]})})]})}var dJ=c(10578);let dK=[{id:"courses",label:"Mon parcours"},{id:"planning",label:"Planification"},{id:"study-rooms",label:"Study Rooms"},{id:"community",label:"Social Club"},{id:"training",label:"Training Club"},{id:"programs",label:"Programmes"}];function dL({activeSection:a,onNavigate:b,userName:c="Utilisateur",userAvatar:f,userLevel:g=1,userXP:k=0,isSubscribed:m=!1,isIdentityVerified:n=!1,onOpenGuestPass:o,onFinishSignup:p,onOpenProfile:q,onOpenSettings:r,onLogout:y,onStartTour:z,onOpenParentReports:A,onOpenHelpCenter:C,onVerifyIdentity:D,themeColor:E="#00c2ff"}){let[F,G]=(0,e.useState)(!1),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(!1),[L,N]=(0,e.useState)("available"),[O,P]=(0,e.useState)(!1),Q=(0,e.useRef)(null),R=(0,e.useRef)(null),S=c.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 pt-2 pb-1 px-4 md:pt-4 md:px-6 bg-white",children:(0,d.jsxs)("div",{className:"max-w-[1800px] mx-auto flex items-center justify-between md:justify-center relative min-h-[60px] md:min-h-[85px]",children:[(0,d.jsxs)("div",{className:"md:hidden flex items-center justify-between w-full bg-[#0d1317]/95 backdrop-blur-xl border border-white/10 rounded-full px-3 py-2 shadow-lg",children:[(0,d.jsxs)("div",{className:"relative",ref:R,children:[(0,d.jsx)("button",{onClick:()=>K(!J),className:"w-9 h-9 rounded-full flex items-center justify-center text-xs font-bold overflow-hidden border-2 border-white/30",style:{background:f?"transparent":`linear-gradient(135deg, ${E} 0%, ${E}cc 100%)`},children:f?(0,d.jsx)(j.default,{src:f,alt:c,width:36,height:36,className:"w-full h-full rounded-full object-cover"}):(0,d.jsx)("span",{className:"text-white",children:S})}),(0,d.jsx)(i.N,{children:J&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full left-0 mt-2 w-56 py-2 rounded-xl shadow-xl z-[100]",style:{background:"rgba(13, 19, 23, 0.98)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,d.jsxs)("div",{className:"px-4 py-3 border-b border-white/10",children:[(0,d.jsx)("p",{className:"font-semibold text-white text-sm",children:c}),(0,d.jsx)("p",{className:"text-xs text-white/50",children:"\xc9tudiant"})]}),(0,d.jsxs)("div",{className:"py-1",children:[(0,d.jsxs)("button",{onClick:()=>{K(!1),q?.()},className:"w-full px-4 py-2.5 flex items-center gap-3 text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)(dJ.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Mon profil"})]}),(0,d.jsxs)("button",{onClick:()=>{K(!1),r?.()},className:"w-full px-4 py-2.5 flex items-center gap-3 text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)(w.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Param\xe8tres"})]}),(0,d.jsxs)("button",{onClick:()=>{K(!1),o?.()},className:"w-full px-4 py-2.5 flex items-center gap-3 text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)(u.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Inviter un ami"})]}),(0,d.jsxs)("button",{onClick:()=>{K(!1),C?.()},className:"w-full px-4 py-2.5 flex items-center gap-3 text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)(x.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Centre d'aide"})]})]}),(0,d.jsx)("div",{className:"pt-1 border-t border-white/10",children:(0,d.jsxs)("button",{onClick:()=>{K(!1),y?.()},className:"w-full px-4 py-2.5 flex items-center gap-3 text-red-400/80 hover:text-red-400 hover:bg-white/10 transition-colors",children:[(0,d.jsx)(cS.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"D\xe9connexion"})]})})]})})]}),(0,d.jsx)("div",{className:"relative w-32 h-10",children:(0,d.jsx)(j.default,{src:"/brand/sms-logo.svg",alt:"SMS",fill:!0,className:"object-contain"})}),(0,d.jsx)("button",{onClick:()=>I(!0),className:"p-2 -mr-1 text-white/80 hover:text-white transition-colors",children:(0,d.jsx)(s.A,{size:24})})]}),(0,d.jsxs)("div",{className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 items-center gap-3",ref:Q,children:[(0,d.jsx)("button",{onClick:()=>G(!F),className:"group",children:(0,d.jsx)("div",{className:"w-[85px] h-[85px] rounded-full flex items-center justify-center text-xl font-semibold transition-all duration-200 group-hover:ring-2 group-hover:ring-white/40 overflow-hidden",style:{background:f?"transparent":`linear-gradient(135deg, ${E} 0%, ${E}cc 100%)`,boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:f?(0,d.jsx)(j.default,{src:f,alt:c,width:85,height:85,className:"w-full h-full rounded-full object-cover"}):(0,d.jsx)("span",{className:"text-white",children:S})})}),(0,d.jsx)("button",{onClick:o,className:"w-14 h-14 rounded-full flex items-center justify-center text-white hover:opacity-80 transition-all duration-200",style:{background:"rgba(13, 19, 23, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},title:"Inviter un ami",children:(0,d.jsx)(u.A,{size:20})}),(0,d.jsx)(i.N,{children:F&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute top-full left-0 mt-2 w-52 py-1 rounded-md shadow-xl",style:{background:"rgba(13, 19, 23, 0.98)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,d.jsxs)("button",{onClick:()=>{G(!1),r?.()},className:"w-full px-3 py-3 flex items-center justify-between text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)("span",{className:"text-sm",children:"Compte"}),(0,d.jsx)(aK,{size:16,className:"text-white/70"})]}),(0,d.jsx)("button",{onClick:()=>{G(!1),q?.()},className:"w-full px-3 py-3 flex items-center text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:(0,d.jsx)("span",{className:"text-sm",children:"Profil"})}),(0,d.jsxs)("button",{onClick:()=>{G(!1),C?.()},className:"w-full px-3 py-3 flex items-center justify-between text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)("span",{className:"text-sm",children:"Assistance"}),(0,d.jsx)(aK,{size:16,className:"text-white/70"})]}),(0,d.jsxs)("button",{onClick:()=>{N("focus"===L?"available":"focus")},className:"w-full px-3 py-3 flex items-center justify-between text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:[(0,d.jsx)("span",{className:"text-sm",children:"Session d'\xe9coute priv\xe9e"}),"focus"===L&&(0,d.jsx)(M.A,{size:16,className:"text-green-500"})]}),(0,d.jsx)("button",{onClick:()=>{G(!1),r?.()},className:"w-full px-3 py-3 flex items-center text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:(0,d.jsx)("span",{className:"text-sm",children:"Pr\xe9f\xe9rences"})}),(0,d.jsx)("div",{className:"my-1 border-t border-white/10"}),(0,d.jsx)("button",{onClick:()=>{G(!1),y?.()},className:"w-full px-3 py-3 flex items-center text-white/90 hover:text-white hover:bg-white/10 transition-colors",children:(0,d.jsx)("span",{className:"text-sm",children:"D\xe9connexion"})})]})})]}),(0,d.jsxs)("nav",{className:"hidden md:flex items-center gap-2 px-4 py-8 rounded-full",style:{background:"rgba(13, 19, 23, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},children:[(0,d.jsx)("div",{className:"flex items-center pr-4 mr-2 -my-16 lg:-my-20",children:(0,d.jsx)("div",{className:"w-44 h-44 lg:w-52 lg:h-52 relative",children:(0,d.jsx)(j.default,{src:"/brand/sms-logo.svg",alt:"SMS",fill:!0,className:"object-contain"})})}),dK.map(c=>{let e=a===c.id;return(0,d.jsxs)("button",{onClick:()=>b(c.id),className:`
                    relative px-5 py-2.5 rounded-full font-medium
                    transition-all duration-200 ease-out
                    ${e?"text-white":"text-white/70 hover:text-white hover:bg-white/10"}
                  `,style:{fontSize:"17px"},children:[e&&(0,d.jsx)(h.P.div,{layoutId:"activeNavBg",className:"absolute inset-0 rounded-full",style:{backgroundColor:E},transition:{type:"spring",stiffness:400,damping:30}}),(0,d.jsx)("span",{className:"relative z-10",children:c.label})]},c.id)})]}),(0,d.jsxs)("div",{className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 px-5 py-2.5 bg-white rounded-full shadow-sm border border-gray-200",children:[(0,d.jsx)(t.A,{size:20,className:"text-gray-900"}),(0,d.jsx)("span",{className:"text-lg font-bold text-gray-900 tabular-nums tracking-tight",children:"10:00:00"})]}),m?(0,d.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full",style:{background:"rgba(13, 19, 23, 0.95)",backdropFilter:"blur(20px)"},children:[(0,d.jsx)(l.A,{size:16,style:{color:E}}),(0,d.jsxs)("span",{className:"text-sm font-medium text-white/80",children:["Niv. ",g]}),(0,d.jsx)("span",{className:"text-sm text-white/50",children:"\xb7"}),(0,d.jsxs)("span",{className:"text-sm text-white/60",children:[k," XP"]})]}):(0,d.jsx)("button",{onClick:p,className:"px-5 py-2.5 rounded-full font-semibold transition-all duration-200 hover:opacity-90",style:{background:`linear-gradient(135deg, ${E} 0%, ${E}dd 100%)`,color:"white",fontSize:"14px",boxShadow:`0 4px 15px ${E}30`},children:"D\xe9bloquer"})]})]})}),(0,d.jsx)(i.N,{children:H&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[100] bg-[#0d1317] flex flex-col md:hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-white/5",children:[(0,d.jsx)("div",{className:"relative w-32 h-10",children:(0,d.jsx)(j.default,{src:"/brand/sms-logo.svg",alt:"SMS",fill:!0,className:"object-contain object-left"})}),(0,d.jsx)("button",{onClick:()=>I(!1),className:"p-2 rounded-full bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:24})})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto py-8 px-6",children:[(0,d.jsx)("p",{className:"text-xs font-medium text-white/40 uppercase tracking-wider mb-4 px-2",children:"Navigation"}),(0,d.jsx)("nav",{className:"flex flex-col gap-2",children:dK.map(c=>{let e=a===c.id;return(0,d.jsxs)("button",{onClick:()=>{b(c.id),I(!1)},className:`
                         w-full text-left p-4 rounded-xl text-lg font-medium flex items-center justify-between group
                         transition-all duration-200
                         ${e?"bg-white/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}
                       `,children:[(0,d.jsx)("span",{children:c.label}),(0,d.jsx)(B.A,{size:20,className:`
                            transition-transform duration-200 
                            ${e?"text-white translate-x-1":"text-white/20 group-hover:text-white/50"}
                          `})]},c.id)})}),!m&&(0,d.jsx)("div",{className:"mt-8 pt-6 border-t border-white/10",children:(0,d.jsxs)("button",{onClick:()=>{I(!1),p?.()},className:"w-full p-4 rounded-xl flex items-center justify-center gap-2 font-bold text-white shadow-lg",style:{background:E},children:[(0,d.jsx)("span",{children:"D\xe9bloquer"}),(0,d.jsx)(B.A,{size:20})]})})]})]})})]})}let dM=[{id:"minimal-white",name:"Blanc \xc9pur\xe9",style:"bg-white",preview:"#ffffff"}],dN=({lesson:a,position:b,isSelected:c,onClick:e,index:f,course:g,purchasedItems:i})=>{let j=g?.isTrial===!0&&f>0,k=(()=>{if(j)return"trialPreview";if(a.isCompleted)return"completed";if(a.isInProgress)return"inProgress";if(a.isOwned)return console.log("\uD83D\uDD11 IC\xd4NE: Le\xe7on",a.id,"d\xe9bloqu\xe9e via isOwned=true"),"available";let b=i.has(`lesson-${a.id}`),c=i.has(`course-${g.id}`),d=i.has(`pack-${g.packId||"any"}`);return(b||c||d)&&console.log("\uD83D\uDD11 IC\xd4NE: Le\xe7on",a.id,"d\xe9bloqu\xe9e via achat externe"),"available"})();return(0,d.jsxs)(h.P.div,{className:"absolute",style:{left:b.x-30,top:b.y-30,zIndex:c?30:20},whileHover:{scale:1.05},whileTap:{scale:.95},children:["inProgress"===k&&(0,d.jsx)(h.P.div,{className:"absolute inset-0 rounded-2xl bg-blue-200/40 blur-lg",animate:{scale:[1,1.3,1],opacity:[.4,.7,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(0,d.jsxs)(h.P.button,{onClick:e,className:`
          relative w-16 h-16 rounded-2xl flex items-center justify-center group
          transition-all duration-300 cursor-pointer
          ${(()=>{switch(k){case"completed":return"bg-white border-2 border-gray-900 shadow-lg text-gray-900";case"inProgress":return"bg-[#00c2ff] border-2 border-[#00c2ff] shadow-lg text-white";case"trialPreview":return"bg-gray-800 border-2 border-gray-600 shadow-md text-gray-300 hover:border-gray-500";case"available":return"bg-white border-2 border-gray-300 shadow-md text-gray-700 hover:border-[#00c2ff]"}})()}
          ${c?"ring-4 ring-blue-200":""}
        `,animate:c?{scale:1.1}:{scale:1},children:[(()=>{switch(k){case"completed":return(0,d.jsx)(M.A,{size:20,className:"text-gray-900"});case"inProgress":return(0,d.jsx)(N.A,{size:20,className:"text-white animate-pulse"});case"trialPreview":return(0,d.jsx)(K.A,{size:20,className:"text-gray-300"});case"available":return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-gray-700 rounded-full"}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-2 h-2 bg-gray-700 rounded-full"})})]})}})(),(0,d.jsx)("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm font-bold text-gray-700",children:a.order}),(0,d.jsx)("div",{className:"absolute -bottom-14 left-1/2 transform -translate-x-1/2 text-sm text-gray-700 text-center w-28 leading-tight font-medium",children:a.title}),"completed"===k&&(0,d.jsx)(h.P.div,{className:"absolute -top-1 -right-1",animate:{rotate:[0,180,360]},transition:{duration:3,repeat:1/0,ease:"linear"},children:(0,d.jsx)(J.A,{className:"text-[#00c2ff]",size:12})}),"trialPreview"===k&&(0,d.jsx)("div",{className:"absolute -top-2 -right-2 px-1.5 py-0.5 bg-gray-900 text-white text-[8px] font-bold rounded uppercase tracking-wider shadow-lg",children:"Preview"})]})]})},dO=({path:a,lessons:b})=>{let c=a.reduce((b,c,d)=>{if(0===d)return`M ${c.x} ${c.y}`;let e=a[d-1],f=(e.x+c.x)/2,g=e.y;return`${b} Q ${f} ${g} ${c.x} ${c.y}`},"");return(0,d.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[(0,d.jsx)("path",{d:c,stroke:"#e5e7eb",strokeWidth:"4",fill:"none",strokeLinecap:"round"}),b.map((b,c)=>{if(0===c||!b.isCompleted)return null;let e=a.slice(0,c+1).reduce((b,c,d)=>{if(0===d)return`M ${c.x} ${c.y}`;let e=a[d-1],f=(e.x+c.x)/2,g=e.y;return`${b} Q ${f} ${g} ${c.x} ${c.y}`},"");return(0,d.jsx)(h.P.path,{d:e,stroke:"url(#courseGradient)",strokeWidth:"4",fill:"none",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.8,delay:.1*c}},`progress-${c}`)}),(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"courseGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,d.jsx)("stop",{offset:"0%",stopColor:"#10b981"}),(0,d.jsx)("stop",{offset:"50%",stopColor:"#3b82f6"}),(0,d.jsx)("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]})},dP=({lesson:a,lessons:b,course:c,purchasedItems:e,onStartLesson:f,onClose:g,onLessonPurchaseCheck:i,onShowQuiz:j,onShowPreview:k,onOpenUpsell:n})=>{if(!a)return null;let o=a.isCompleted?{text:"Termin\xe9e",color:"bg-gray-50 text-gray-700 border-gray-200",icon:M.A,description:"Vous avez termin\xe9 cette le\xe7on avec succ\xe8s"}:a.isInProgress?{text:a.quizCompleted?`En cours (Quiz: ${a.quizScore}%)`:"En cours",color:"bg-blue-50 text-blue-700 border-blue-200",icon:N.A,description:a.quizCompleted?"Quiz termin\xe9 - continuez avec la vid\xe9o compl\xe8te":"Continuez l\xe0 o\xf9 vous vous \xeates arr\xeat\xe9"}:a.quizCompleted?{text:`Quiz fait (${a.quizScore}%)`,color:"bg-gray-50 text-gray-700 border-gray-200",icon:H.A,description:"Quiz termin\xe9 - d\xe9bloquez la le\xe7on pour continuer"}:{text:"\xc0 d\xe9couvrir",color:"bg-gray-50 text-gray-700 border-gray-200",icon:P.A,description:"Nouvelle le\xe7on \xe0 explorer"},p=(()=>{switch(a.difficulty){case"beginner":return{text:"Facile",color:"bg-gray-100 text-gray-800",description:"Parfait pour d\xe9buter",estimatedTime:"10-15 min"};case"intermediate":return{text:"Interm\xe9diaire",color:"bg-gray-100 text-gray-700",description:"Demande un peu de concentration",estimatedTime:"20-25 min"};case"advanced":return{text:"Avanc\xe9",color:"bg-gray-100 text-gray-700",description:"Niveau expert requis",estimatedTime:"30-45 min"}}})();o.icon;let q=a.isInProgress?Math.floor(60*Math.random())+20:0,s=isNaN(q)?0:Math.max(0,Math.min(100,q));return c?.isOwned||c?.packId&&e?.has(`pack-${c.packId}`)||c&&e?.has(`course-${c.id}`),a.order,(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:"bg-white border border-gray-200 rounded-2xl shadow-xl overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-5 border-b border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:a.title}),(0,d.jsxs)("button",{onClick:()=>{let b=a.slidesUrl||`/slides/${a.id}-slides.pdf`,c=document.createElement("a");c.href=b,c.download=`${a.title.replace(/[^a-zA-Z0-9]/g,"_")}_slides.pdf`,c.target="_blank",document.body.appendChild(c),c.click(),document.body.removeChild(c)},className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors",children:[(0,d.jsx)(cK.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"T\xe9l\xe9charger les slides"})]})]})}),(0,d.jsx)("button",{onClick:g,className:"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-400"})})]})}),(0,d.jsx)("div",{className:"p-4 lg:p-6",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6",children:[(0,d.jsxs)("div",{className:"flex-1",children:[a.description&&(0,d.jsx)("div",{className:"mb-5",children:(0,d.jsx)("p",{className:"text-gray-700 leading-relaxed text-base",children:a.description})}),a.isInProgress&&(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("span",{className:"text-base font-medium text-gray-900",children:[s,"% termin\xe9"]}),(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:[b.filter(a=>a.isCompleted).length,"/",b.length]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,d.jsx)(h.P.div,{className:"bg-gray-900 h-2.5 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:1}})})]}),a.objectives&&a.objectives.length>0&&(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2 text-lg",children:[(0,d.jsx)(r.A,{size:20,className:"text-gray-700"}),"Ce que vous allez apprendre"]}),(0,d.jsx)("ul",{className:"space-y-3",children:a.objectives.map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-gray-900 rounded-full mt-2 flex-shrink-0"}),(0,d.jsx)("span",{className:"text-gray-700 text-base",children:a})]},`lesson-objective-${b}`))})]}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-2",children:[(0,d.jsx)(t.A,{size:18}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Dur\xe9e"})]}),(0,d.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[a.duration," min"]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-2",children:[(0,d.jsx)(l.A,{size:18}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"R\xe9compense"})]}),(0,d.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["+",a.xpReward," XP"]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-2",children:[(0,d.jsx)(P.A,{size:18}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Niveau"})]}),(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900",children:p?.text||"Non d\xe9fini"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600 mb-2",children:[(0,d.jsx)(m.A,{size:18}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Type"})]}),(0,d.jsx)("div",{className:"text-lg font-bold text-gray-900",children:"video"===a.type?"Vid\xe9o":"exercise"===a.type?"Exercice":"Quiz"})]})]})})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-col gap-4 min-w-full lg:min-w-[200px] lg:max-w-[220px]",children:[(0,d.jsx)("div",{className:"flex lg:hidden gap-3 mb-3",children:(0,d.jsxs)("button",{onClick:j,className:"flex-1 bg-gray-50 border-2 border-gray-200 hover:bg-gray-100 hover:border-gray-400 text-gray-700 px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2",title:a.isOwned?"Test complet accessible":"Test gratuit disponible",children:[(0,d.jsx)(x.A,{size:18}),(0,d.jsx)("span",{className:"text-base",children:"Je me teste"})]})}),(0,d.jsxs)("button",{onClick:()=>{console.log("\uD83D\uDE80 Button clicked! Calling onLessonPurchaseCheck with lesson:",a),i(a)},className:"w-full px-5 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-3 shadow-lg hover:shadow-xl bg-gray-900 text-white hover:bg-gray-800",children:[(0,d.jsx)(N.A,{size:20}),(0,d.jsx)("span",{className:"text-base",children:a.isCompleted?"Revoir":a.isInProgress?"Continuer":"Commencer"})]}),(0,d.jsx)("div",{className:"hidden lg:flex lg:flex-col gap-4",children:(0,d.jsxs)("button",{onClick:j,className:"w-full bg-gray-50 border-2 border-gray-200 hover:bg-gray-100 hover:border-gray-400 text-gray-700 px-5 py-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2",title:a.isOwned?"Test complet accessible":"Test gratuit disponible",children:[(0,d.jsx)(x.A,{size:18}),(0,d.jsx)("span",{className:"text-base",children:"Je me teste"})]})})]})]})})]})};function dQ({course:a,isOpen:b,onClose:c,onNavigateToSection:g,showSettings:s=!1,onToggleSettings:w,purchasedItems:y=new Set,onPurchase:A,user:B,lessons:C,onLessonsUpdate:D,userXPProfile:E,initialLessonId:F}){let[G,I]=(0,e.useState)(F?"lesson":"map"),[O,Q]=(0,e.useState)(null),[T,U]=(0,e.useState)(null),[V,W]=(0,e.useState)(null),[X,_]=(0,e.useState)([]),[aa,ab]=(0,e.useState)([]),[ad,ae]=(0,e.useState)("pastel-gradient"),[af,ag]=(0,e.useState)(!1),[ah,ai]=(0,e.useState)(!1),[aj,ak]=(0,e.useState)(!1),{isFavorite:al,toggleFavorite:am}=(0,Z.r)(),[an,ao]=(0,e.useState)(!1),[ap,aq]=(0,e.useState)(null),[ar,as]=(0,e.useState)([]),[at,au]=(0,e.useState)(!1),[av,aw]=(0,e.useState)(B||ac._o),[ax,ay]=(0,e.useState)(null),[az,aB]=(0,e.useState)(!1),[aC,aD]=(0,e.useState)(null),[aE,aF]=(0,e.useState)(0);f().useMemo(()=>{if(!a?.id)return null;let b=cb.getActiveStudyRooms().find(b=>b.courseId===a.id&&("live"===b.status||"scheduled"===b.status));return b?{room:b,isActive:"live"===b.status,participantCount:b.currentParticipants.filter(a=>!a.leftAt).length}:null},[a?.id]);let[aG,aH]=(0,e.useState)(!1),[aI,aJ]=(0,e.useState)(!1),[aK,aL]=(0,e.useState)(!1),[aM,aN]=(0,e.useState)(!1),[aO,aP]=(0,e.useState)(!1),[aQ,aR]=(0,e.useState)(""),[aS,aT]=(0,e.useState)(null),[aU,aV]=(0,e.useState)(null);m.A,o.A,p.A,q.A,r.A;let[aW,aX]=(0,e.useState)(!1);if(!a)return null;let aY=a=>{W(a)},aZ=()=>{V&&(Q(V),I("lesson"),W(null))},a$=a=>{console.log("\uD83D\uDE80 Starting lesson directly:",a.title),aZ()};X.filter(a=>a.isCompleted).length,X.filter(a=>a.isCompleted).reduce((a,b)=>a+(b.xpReward||0),0),X.reduce((a,b)=>a+(b.xpReward||0),0),X.length>0&&X.length;let a_=dM.find(a=>a.id===ad);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.N,{children:[b&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-gray-50 flex flex-col overflow-y-auto",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:"map"===G?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(dL,{activeSection:"courses",onNavigate:a=>{c(),g?.(a)},userName:av?.name||"Utilisateur",userAvatar:av?.avatar,userLevel:aC?.level||1,userXP:aC?.currentXP||0,isSubscribed:y&&y.size>0,onOpenGuestPass:()=>aN(!0),onFinishSignup:c,onOpenProfile:()=>{c(),g?.("profile")},onOpenSettings:()=>{},onLogout:c,themeColor:"#00c2ff"}),(0,d.jsx)("div",{className:"flex flex-1 overflow-hidden pt-[70px] md:pt-[100px]",children:(0,d.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,d.jsx)("div",{className:"px-4 md:px-6 py-4 md:py-6 bg-white border-b border-gray-200",children:(0,d.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:(0,d.jsx)("div",{className:"flex items-center gap-2 md:gap-3",children:(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate",children:a.title}),(0,d.jsx)("p",{className:"text-sm md:text-base text-gray-600",children:"Votre parcours d'apprentissage"})]})})})}),(0,d.jsxs)("div",{className:"lg:hidden p-4",children:[(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900",children:"Navigation du cours"}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,d.jsx)(t.A,{size:14}),(0,d.jsxs)("span",{children:[X.length," le\xe7ons"]})]})]}),(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Progression globale"}),(0,d.jsxs)("span",{className:"font-semibold text-gray-900",children:[Math.round(X.filter(a=>a.isCompleted).length/X.length*100),"% termin\xe9"]})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-gray-900 rounded-full transition-all",style:{width:`${X.filter(a=>a.isCompleted).length/X.length*100}%`}})}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[X.filter(a=>a.isCompleted).length," sur ",X.length," le\xe7ons termin\xe9es"]})]})]}),(0,d.jsx)("div",{className:"space-y-2",children:X.map((b,c)=>{let e=b.isInProgress||!b.isCompleted&&c===X.findIndex(a=>!a.isCompleted),f=a?.isTrial===!0,g=f&&0===c,h=f&&c>0,i=!b.isCompleted&&!e&&c>0||h;return(0,d.jsx)("button",{onClick:()=>{(!i||g)&&aY(b)},className:`w-full p-4 rounded-xl border-2 transition-all text-left ${V?.id===b.id?"border-[#00c2ff] bg-[#00c2ff]/5":e&&!h?"border-[#00c2ff]/50 bg-white":b.isCompleted?"border-gray-300 bg-gray-50":h?"border-orange-200 bg-orange-50/30":"border-gray-200 bg-white"} ${i&&!h?"opacity-60":""}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${b.isCompleted?"bg-gray-900 text-white":e&&!h?"bg-[#00c2ff] text-white":h?"bg-gradient-to-br from-orange-400 to-orange-500 text-white":"bg-gray-200 text-gray-500"}`,children:b.isCompleted?(0,d.jsx)(k.A,{size:18}):h?(0,d.jsx)(K.A,{size:16}):i?(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}):c+1}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[!i&&!b.isCompleted&&!h&&(0,d.jsx)(N.A,{size:14,className:"text-[#00c2ff] flex-shrink-0"}),h&&(0,d.jsx)(K.A,{size:14,className:"text-orange-500 flex-shrink-0"}),(0,d.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:b.title})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[b.duration," min"]})]}),(0,d.jsx)("div",{className:"flex-shrink-0",children:b.isCompleted?(0,d.jsx)("span",{className:"text-sm font-medium text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"Termin\xe9"}):h?(0,d.jsx)("span",{className:"text-sm font-medium text-orange-600 bg-gradient-to-r from-orange-100 to-orange-200 px-2 py-1 rounded-full",children:"Preview"}):e?(0,d.jsx)("span",{className:"text-sm font-medium text-[#00c2ff] bg-[#00c2ff]/10 px-2 py-1 rounded-full",children:"En cours"}):i?(0,d.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Verrouill\xe9e"}):null})]})},b.id)})}),a?.isTrial&&(0,d.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-xl",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(K.A,{size:18,className:"text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900",children:"Mode Essai"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"La premi\xe8re le\xe7on est enti\xe8rement accessible. Les autres le\xe7ons sont disponibles en preview. Utilise tes 10h offertes pour d\xe9bloquer plus de contenu !"})]})]})})]}),(0,d.jsx)("div",{className:`hidden lg:block relative min-h-[400px] overflow-auto ${a_?.style}`,children:(0,d.jsxs)("div",{className:"relative p-8 min-w-[1100px] min-h-[450px]",children:[(0,d.jsx)(dO,{path:aa,lessons:X}),X.map((b,c)=>(0,d.jsx)(dN,{lesson:b,position:aa[c],isSelected:V?.id===b.id,onClick:()=>aY(b),index:c,course:a,purchasedItems:y},b.id))]})}),(0,d.jsx)("div",{className:"p-4 lg:p-6",children:(0,d.jsx)(i.N,{children:V&&(()=>{let b=X.find(a=>a.id===V.id)||V;return(0,d.jsx)(dP,{lesson:b,lessons:X,course:a,purchasedItems:y,onStartLesson:aZ,onLessonPurchaseCheck:a$,onShowQuiz:()=>{console.log("\uD83C\uDFAF QUIZ CLICKED:",{currentLesson:b?.title,hasQuestions:(0,ac.AA)(b?.id||""),showQuiz:aI,showPreview:aK}),W(b),aL(!1),aJ(!0),console.log("\uD83C\uDFAF QUIZ STATE AFTER CLICK:",{showQuiz:!0,showPreview:!1})},onShowPreview:()=>{W(b),aJ(!1),aL(!0)},onOpenUpsell:()=>{as((0,ac.ZB)(b?.id||"")),ao(!0)},onClose:()=>{W(null)}},V.id)})()})})]})})]}):O?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(dL,{activeSection:"courses",onNavigate:a=>{c(),g?.(a)},userName:av?.name||"Utilisateur",userAvatar:av?.avatar,userLevel:aC?.level||1,userXP:aC?.currentXP||0,isSubscribed:y&&y.size>0,onOpenGuestPass:()=>aN(!0),onFinishSignup:c,onOpenProfile:()=>{c(),g?.("profile")},onOpenSettings:()=>{},onLogout:c,themeColor:"#00c2ff"}),(0,d.jsx)("div",{className:"flex flex-1 overflow-hidden pt-[80px] md:pt-[130px]",children:(0,d.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,d.jsx)("div",{className:"bg-white border-b border-gray-100 px-4 md:px-8 py-4 md:py-6 sticky top-0 z-20",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,d.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors flex-shrink-0",children:[(0,d.jsx)(cl.A,{size:16}),(0,d.jsx)("span",{className:"hidden sm:block",children:"Retour au parcours"})]}),(0,d.jsx)("div",{className:"hidden sm:block h-6 w-px bg-gray-200 flex-shrink-0"}),(0,d.jsx)("div",{className:"min-w-0",children:(0,d.jsx)("h1",{className:"font-title font-bold text-gray-900 truncate",style:{fontSize:"48px"},children:O.title})})]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-1 flex-shrink-0",children:[(0,d.jsxs)("button",{onClick:()=>{c(),g?.("study-rooms")},className:"relative w-10 h-10 flex items-center justify-center text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Study Rooms",children:[(0,d.jsx)(p.A,{size:20}),(0,d.jsxs)("span",{className:"absolute -top-0.5 -right-0.5 flex items-center justify-center",children:[(0,d.jsx)("span",{className:"absolute inline-flex h-3 w-3 rounded-full bg-red-400 opacity-75 animate-ping"}),(0,d.jsx)("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full bg-red-500"})]})]}),(0,d.jsxs)("button",{onClick:()=>{c(),g?.("planning")},className:"relative w-10 h-10 flex items-center justify-center text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Planning",children:[(0,d.jsx)(o.A,{size:20}),(0,d.jsx)("span",{className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] flex items-center justify-center bg-[#00c2ff] text-white text-[10px] font-bold rounded-full px-1",children:"3"})]}),(0,d.jsx)("button",{onClick:()=>{c(),g?.("training")},className:"relative w-10 h-10 flex items-center justify-center text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Training Club",children:(0,d.jsx)(r.A,{size:20})}),(0,d.jsxs)("button",{onClick:()=>{c(),g?.("community")},className:"relative w-10 h-10 flex items-center justify-center text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Social Club",children:[(0,d.jsx)(q.A,{size:20}),(0,d.jsx)("span",{className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] flex items-center justify-center bg-[#00c2ff] text-white text-[10px] font-bold rounded-full px-1",children:"12"})]})]})]})}),(0,d.jsxs)("div",{className:"flex bg-white relative",style:{height:"calc(100vh - 130px)"},children:[(0,d.jsx)("button",{onClick:()=>aP(!0),className:"lg:hidden fixed bottom-20 right-4 z-40 w-14 h-14 bg-gray-900 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-800 transition-colors","aria-label":"Voir les le\xe7ons",children:(0,d.jsx)(c0,{size:24})}),(0,d.jsx)(i.N,{children:aO&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>aP(!1)}),(0,d.jsxs)(h.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"lg:hidden fixed inset-y-0 right-0 w-[85%] max-w-[380px] bg-white z-50 overflow-y-auto shadow-2xl",children:[(0,d.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900",children:"Navigation des le\xe7ons"}),(0,d.jsx)("button",{onClick:()=>aP(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-500"})})]}),(0,d.jsxs)("div",{className:"p-4 space-y-4",children:[(0,d.jsx)(dG,{course:a,lessons:X,currentLessonId:O.id,onLessonSelect:a=>{let b=X.find(b=>b.id===a);b&&(b.isOwned||y.has(a))&&(Q(b),W(b),aP(!1))},purchasedItems:y}),(0,d.jsx)(dI,{courseId:a?.id||"",courseName:a?.title||"",activeStudents:124,weeklyQuestions:37,isVeryActive:!0})]})]})]})}),(0,d.jsx)("div",{className:"flex-1 p-4 md:p-6 bg-white overflow-y-auto",children:(0,d.jsxs)("div",{className:"flex flex-col w-full",children:[(0,d.jsxs)("div",{className:"relative w-full bg-black rounded-2xl overflow-hidden shadow-xl",style:{aspectRatio:"16/8",maxHeight:"calc(100vh - 320px)"},children:[(0,d.jsx)(dF,{videoUrl:O.videoUrl||"https://www.youtube.com/embed/dQw4w9WgXcQ",questions:[],onQuizComplete:a=>{console.log(`Quiz termin\xe9 avec un score de ${a}`),a>=.7&&console.log("Le\xe7on termin\xe9e avec succ\xe8s !")}}),(0,d.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2 z-20",children:[{id:"essentials",icon:m.A,label:"Essentiels"},{id:"quiz",icon:H.A,label:"Quiz"},{id:"qa",icon:x.A,label:"Q&A"},{id:"resources",icon:z.A,label:"Ressources"},{id:"notes",icon:c1.A,label:"Notes"}].map(a=>(0,d.jsxs)("button",{onClick:()=>{let b=aU===a.id?null:a.id;aV(b),b&&setTimeout(()=>{let a=document.getElementById("context-panel-content");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"group relative flex items-center justify-end",children:[(0,d.jsx)("span",{className:`pointer-events-none absolute right-full mr-3 px-3 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap transition-opacity duration-200 ${aU===a.id?"bg-[#00c2ff] text-white opacity-100":"bg-[#00c2ff] text-white opacity-0 group-hover:opacity-100 shadow-lg"}`,children:a.label}),(0,d.jsx)("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ${aU===a.id?"bg-[#00c2ff] text-white":"bg-white/10 border border-white/20 text-white/70 group-hover:bg-[#00c2ff] group-hover:text-white group-hover:border-[#00c2ff]"}`,children:(0,d.jsx)(a.icon,{size:18})})]},a.id))})]}),(0,d.jsx)("div",{id:"context-panel-content",className:"mt-6",children:(0,d.jsx)(i.N,{mode:"wait",children:aU&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:["essentials"===aU&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Les concepts cl\xe9s de cette le\xe7on"}),(0,d.jsx)("div",{className:"bg-gray-900 rounded-2xl p-5 mb-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center shrink-0",children:(0,d.jsx)(l.A,{size:20,className:"text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Loi de Gauss - Concept fondamental"}),(0,d.jsx)("p",{className:"text-white/80 leading-relaxed",children:"Le flux \xe9lectrique \xe0 travers une surface ferm\xe9e est proportionnel \xe0 la charge totale contenue \xe0 l'int\xe9rieur."})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(c2.A,{size:16,className:"text-gray-600"}),"Formules cl\xe9s"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Î¦ = âˆ® E \xb7 dA = Q/Îµâ‚€"})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[(0,d.jsxs)("h5",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(r.A,{size:16,className:"text-gray-600"}),"Applications"]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Sym\xe9tries sph\xe9riques, cylindriques, planes"})]})]})]}),"quiz"===aU&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Teste tes connaissances"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-[#00c2ff]/10 px-3 py-1.5 rounded-lg",children:[(0,d.jsx)(n.A,{size:16,className:"text-[#00c2ff]"}),(0,d.jsx)("span",{className:"text-sm font-medium text-[#00c2ff]",children:"+50 XP"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"5"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Questions"})]}),(0,d.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"10"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Minutes"})]}),(0,d.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"70%"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Pour r\xe9ussir"})]})]}),(0,d.jsxs)("button",{onClick:()=>aJ(!0),className:"w-full bg-gray-900 hover:bg-gray-800 text-white rounded-xl py-3 px-6 font-semibold transition-all flex items-center justify-center gap-2",children:[(0,d.jsx)(N.A,{size:18}),"Commencer le quiz"]})]}),"qa"===aU&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Par slide vid\xe9o"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"8 questions"})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"border-b border-gray-100 pb-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("span",{className:"text-xs font-mono text-gray-500 mt-0.5",children:"03:24"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:"Comment appliquer cette formule dans un cas pratique ?"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Zak L. â€¢ R\xe9pondu par Sophie M."}),(0,d.jsx)("button",{className:"text-xs text-gray-600 hover:text-gray-900",children:"Voir la r\xe9ponse â†’"})]})]})}),(0,d.jsx)("div",{className:"border-b border-gray-100 pb-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("span",{className:"text-xs font-mono text-gray-500 mt-0.5",children:"07:15"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:"Quelle est la diff\xe9rence entre ces deux approches ?"}),(0,d.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-900 rounded-full"})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Alex R. â€¢ Sans r\xe9ponse"}),(0,d.jsx)("button",{className:"text-xs text-gray-900 font-medium hover:text-gray-700",children:"R\xe9pondre â†’"})]})]})})]}),(0,d.jsx)("button",{className:"w-full mt-4 border border-dashed border-gray-300 hover:border-gray-400 text-gray-600 hover:text-gray-900 rounded-xl py-3 px-4 text-sm font-medium transition-all",children:"Poser une question"})]}),"resources"===aU&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Documents et supports de cours"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,d.jsx)(z.A,{size:18,className:"text-gray-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:"Slides du cours"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"PDF â€¢ 2.4 MB"})]})]}),(0,d.jsx)(cK.A,{size:18,className:"text-gray-400"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-[#00c2ff]/10 rounded-lg flex items-center justify-center",children:(0,d.jsx)(z.A,{size:18,className:"text-[#00c2ff]"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:"Exercices corrig\xe9s"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"PDF â€¢ 1.8 MB"})]})]}),(0,d.jsx)(cK.A,{size:18,className:"text-gray-400"})]})]})]}),"notes"===aU&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Notes personnelles sur cette le\xe7on"}),(0,d.jsx)("textarea",{placeholder:"Ajoute tes notes ici...",className:"w-full h-40 p-4 bg-gray-50 border border-gray-200 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-gray-900/10 focus:border-gray-300 text-gray-700 placeholder:text-gray-400"}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Sauvegarde automatique"}),(0,d.jsx)("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"Sauvegarder"})]})]})]},aU)})})]})}),(0,d.jsx)("div",{className:"hidden lg:flex w-[320px] xl:w-[380px] bg-white border-l border-gray-200 flex-col h-full overflow-hidden",children:(0,d.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto flex-1",children:[(0,d.jsx)(dG,{course:a,lessons:X,currentLessonId:O.id,onLessonSelect:a=>{let b=X.find(b=>b.id===a);b&&(b.isOwned||y.has(a))&&(Q(b),W(b))},purchasedItems:y}),(0,d.jsx)(dI,{courseId:a?.id||"",courseName:a?.title||"",activeStudents:124,weeklyQuestions:37,isVeryActive:!0})]})})]})]})})]}):null},"integrated-course-viewer"),aI&&!aK&&V&&(()=>{console.log("\uD83C\uDFAF QUIZ MODAL RENDER:",{showQuiz:aI,showPreview:aK,selectedLessonForDetail:V?.title,selectedLessonId:V?.id});let a=(0,ac.AA)(V.id);return(console.log("\uD83C\uDFAF QUIZ QUESTIONS:",{questionsLength:a?.length,questions:a}),a&&0!==a.length)?(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-slate-50/80 via-white/90 to-blue-50/80 backdrop-blur-sm z-[9999]",children:(0,d.jsxs)("div",{className:"bg-white w-full h-full overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 px-24 py-16 border-b border-gray-100/50",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("div",{className:"w-24 h-24 bg-gray-900 rounded-xl flex items-center justify-center shadow-lg",children:(0,d.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",className:"text-white",children:(0,d.jsx)("path",{d:"M9 12l2 2 4-4M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-5xl font-bold text-gray-900 tracking-tight",children:"Je me teste"}),(0,d.jsxs)("p",{className:"text-2xl text-gray-600 font-medium",children:["\xc9valuez vos connaissances â€¢ ",V.title]})]})]}),(0,d.jsx)(h.P.button,{onClick:()=>aJ(!1),whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},className:"w-20 h-20 rounded-xl bg-white/90 backdrop-blur-sm hover:bg-white flex items-center justify-center transition-all duration-200 shadow-md border border-gray-200/50",children:(0,d.jsx)(v.A,{size:32,className:"text-gray-600"})})]})}),(0,d.jsx)("div",{className:"overflow-y-auto h-[calc(100vh-240px)] scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:(0,d.jsx)("div",{className:"p-24 max-w-6xl mx-auto",children:(0,d.jsx)("div",{style:{zoom:"2"},children:(0,d.jsx)(aA,{questions:a,courseTitle:V.title,onComplete:(a,b)=>{if(console.log("\uD83C\uDFAF Quiz completed:",a,b),V){let b={...V,isInProgress:!0,quizCompleted:!0,quizScore:a},c=X.map(a=>a.id===V.id?b:a);_(c),D?.(c)}},onClose:()=>aJ(!1)})})})})]})},"lesson-quiz-modal"):(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-slate-50/80 via-white/90 to-blue-50/80 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,d.jsx)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",duration:.5},className:"bg-white/95 backdrop-blur-xl rounded-2xl max-w-md w-full p-8 shadow-2xl border border-white/20 ring-1 ring-black/5",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(h.P.div,{className:"w-16 h-16 bg-gradient-to-br from-gray-500 to-gray-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:(0,d.jsx)(x.A,{className:"w-8 h-8 text-white"})}),(0,d.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"Test non disponible"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Aucun test n'est encore disponible pour cette le\xe7on. Continuez votre apprentissage !"}),(0,d.jsx)(h.P.button,{onClick:()=>aJ(!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-6 py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors shadow-lg",children:"Fermer"})]})})},"no-quiz-modal")})(),aK&&!aI&&V&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",onClick:()=>aL(!1),children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",duration:.5},className:"bg-white rounded-3xl shadow-2xl w-[98vw] max-w-none max-h-[90vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"relative overflow-hidden bg-white/95 backdrop-blur-sm border-b border-gray-200/50",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-100 via-gray-50 to-gray-100"}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-gray-50/20"}),(0,d.jsx)(h.P.div,{className:"absolute top-4 left-16 w-1.5 h-1.5 bg-[#00c2ff]/40 rounded-full",animate:{y:[0,-6,0],opacity:[.4,.7,.4]},transition:{duration:3,repeat:1/0}}),(0,d.jsx)(h.P.div,{className:"absolute top-6 right-24 w-1 h-1 bg-gray-400/30 rounded-full",animate:{y:[0,-4,0],opacity:[.3,.6,.3]},transition:{duration:2.5,repeat:1/0,delay:1}}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute top-4 left-6 flex items-center gap-2 bg-[#00c2ff]/90 backdrop-blur-sm text-gray-900 px-4 py-2 rounded-full shadow-lg border border-[#00c2ff]/50",children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsx)("span",{className:"text-sm font-bold",children:"7:23 / 10:00"})]}),(0,d.jsx)(h.P.button,{onClick:()=>aL(!1),whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},className:"absolute top-4 right-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-xl flex items-center justify-center hover:shadow-lg transition-all duration-300 border border-gray-200/50 group",children:(0,d.jsx)(v.A,{size:18,className:"text-gray-700 group-hover:text-gray-900 transition-colors"})}),(0,d.jsx)("div",{className:"relative p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative w-20 h-20 rounded-2xl bg-gray-900 shadow-lg flex items-center justify-center",children:[(0,d.jsx)(K.A,{size:32,className:"text-white drop-shadow-lg"}),(0,d.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-[#00c2ff] rounded-full flex items-center justify-center shadow-lg",children:(0,d.jsx)(u.A,{size:16,className:"text-white"})})]}),(0,d.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-[#00c2ff] text-white px-4 py-2 rounded-xl text-sm font-bold shadow-lg",children:[(0,d.jsx)(J.A,{size:16}),"Aper\xe7u Gratuit"]}),(0,d.jsx)("span",{className:"text-gray-600 text-sm font-medium",children:"â€¢ 10 min gratuit"})]}),(0,d.jsx)(h.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-gray-900 leading-tight",children:V.title}),(0,d.jsx)(h.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-50/80 backdrop-blur-sm px-4 py-3 rounded-xl border border-gray-200/50",children:(0,d.jsx)("p",{className:"text-gray-700 font-medium text-sm flex items-center gap-2",children:"\uD83C\uDF93 D\xe9couvrez cette le\xe7on en toute tranquillit\xe9 â€¢ Aucun engagement"})})]})]})})]}),(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row h-[50vh]",children:[(0,d.jsxs)("div",{className:"flex-1 bg-gray-100 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(h.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"w-24 h-24 bg-[#00c2ff] rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,d.jsx)(N.A,{size:32,className:"text-white ml-1"})}),(0,d.jsx)("p",{className:"text-gray-600 font-medium",children:"Aper\xe7u vid\xe9o (10 min max)"})]})}),(0,d.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/20 backdrop-blur-sm p-4",children:[(0,d.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2 mb-2",children:(0,d.jsx)(h.P.div,{className:"bg-[#00c2ff] h-2 rounded-full",initial:{width:"0%"},animate:{width:"33%"},transition:{duration:1,delay:.5}})}),(0,d.jsx)("div",{className:"text-white text-sm font-medium",children:"7:23 / 10:00"})]})]}),(0,d.jsx)("div",{className:"lg:w-96 bg-white p-6 border-l border-gray-200/50",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-gray-50 p-6 rounded-2xl border border-gray-200",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)(L.A,{size:24,className:"text-gray-600"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Acc\xe8s Complet"})]}),(0,d.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,d.jsxs)("li",{className:"flex items-center gap-3 text-sm text-gray-700",children:[(0,d.jsx)(M.A,{size:16,className:"text-gray-900"}),"Acc\xe8s illimit\xe9 \xe0 vie"]}),(0,d.jsxs)("li",{className:"flex items-center gap-3 text-sm text-gray-700",children:[(0,d.jsx)(M.A,{size:16,className:"text-gray-900"}),"Support communautaire 24/7"]}),(0,d.jsxs)("li",{className:"flex items-center gap-3 text-sm text-gray-700",children:[(0,d.jsx)(M.A,{size:16,className:"text-gray-900"}),"Certificat de completion"]}),(0,d.jsxs)("li",{className:"flex items-center gap-3 text-sm text-gray-700",children:[(0,d.jsx)(M.A,{size:16,className:"text-gray-900"}),"Mises \xe0 jour gratuites"]})]}),(0,d.jsx)(h.P.button,{onClick:()=>{aL(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-900 hover:bg-gray-800 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:"â–¶ï¸ Commencer le cours"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Acc\xe8s complet \xe0 tout le contenu"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 text-xs text-gray-400",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(P.A,{size:12,className:"text-[#00c2ff]"}),(0,d.jsx)("span",{children:"4.9/5"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(m.A,{size:12}),(0,d.jsx)("span",{children:"124 \xe9tudiants"})]})]})]})]})})]})]})},"lesson-preview-modal"),an&&ap&&(0,d.jsx)(S.U,{isOpen:an,onClose:()=>{ao(!1),aq(null)},purchaseOptions:ar,onPurchase:a=>{console.log("\uD83C\uDFAF PURCHASE FLOW: Starting purchase process for:",a.type,a.itemId),console.log("\uD83C\uDFAF PURCHASE FLOW: Calling local handlePurchase..."),console.log("\uD83D\uDD25 LOCAL handlePurchase called with:",{type:a.type,itemId:a.itemId,price:a.price}),console.log("\uD83D\uDD25 Current user balance:",av.wallet.balance),console.log("\uD83D\uDD25 Updating lessons locally (wallet handled by parent)..."),"lesson"===a.type?(console.log("\uD83D\uDD25 Updating single lesson:",a.itemId),_(b=>{let c=b.map(b=>b.id===a.itemId?{...b,isOwned:!0}:b);return U(c),c})):"course"===a.type&&(console.log("\uD83D\uDD25 Updating ALL lessons for course purchase"),_(a=>{let b=a.map(a=>({...a,isOwned:!0}));return console.log("\uD83D\uDD25 Updated lessons:",b.map(a=>({id:a.id,isOwned:a.isOwned}))),U(b),b})),console.log("\uD83D\uDD25 LOCAL handlePurchase completed successfully"),A&&(console.log("\uD83C\uDFAF PURCHASE FLOW: Calling parent onPurchase..."),A(a)),console.log("\uD83C\uDFAF PURCHASE FLOW: Closing modal..."),ao(!1),aq(null),setTimeout(()=>{if("lesson"===a.type&&ap){let b=X.find(b=>b.id===a.itemId);b&&(W({...b,isOwned:!0}),alert("\uD83C\uDF89 Le\xe7on d\xe9bloqu\xe9e ! Tu as maintenant acc\xe8s \xe0 tout le contenu."))}else"course"===a.type?alert("\uD83C\uDF89 Cours complet d\xe9bloqu\xe9 ! Toutes les le\xe7ons sont maintenant accessibles."):"pack"===a.type&&alert("\uD83C\uDF89 Pack d\xe9bloqu\xe9 ! Tous les cours du pack sont maintenant accessibles.")},500)}},"purchase-upsell-modal"),at&&(0,d.jsx)(R.q,{currentBalance:av.wallet.balance,onCancel:()=>au(!1),onTopUp:(a,b)=>{let c=a+b;console.log(`ðŸ’° Wallet recharg\xe9: +${a}â‚¬ + ${b}â‚¬ bonus = ${c}â‚¬`);let d={...av};d.wallet.balance+=c,d.wallet.totalDeposited+=a,d.wallet.transactions.unshift({id:`tx-${Date.now()}`,walletId:av.wallet.id,type:"deposit",amount:a,description:"Rechargement du portefeuille",createdAt:new Date}),b>0&&d.wallet.transactions.unshift({id:`tx-bonus-${Date.now()}`,walletId:av.wallet.id,type:"bonus",amount:b,description:"Bonus de recharge",createdAt:new Date}),aw(d),au(!1),au(!1)}},"wallet-top-up-modal"),aj&&(0,d.jsx)(Y,{isOpen:aj,onClose:()=>ak(!1),onUploadComplete:a=>{console.log("\uD83D\uDCC4 Document d'identit\xe9 upload\xe9:",a.name),$.Z.uploadDocument(a),ak(!1)}}),(0,d.jsx)(dq,{isOpen:az,onClose:()=>aB(!1)}),ax&&(0,d.jsx)(cd,{room:ax,userId:av?.id||"user-default",userName:av?.name||"\xc9tudiant",userAvatar:av?.avatar||"/avatars/default.jpg",isModerator:!1,onLeaveRoom:()=>{cb.leaveStudyRoom(ax.id,av?.id||"user-default"),ay(null)},onKickParticipant:a=>{console.log("Kick participant:",a)}})]}),(0,d.jsx)(i.N,{children:aM&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:()=>aN(!1),children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-3xl p-10 max-w-lg w-full mx-4 shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsxs)("div",{className:"bg-gray-900 rounded-2xl px-8 py-5 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-3",children:(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"SMS",width:48,height:48})}),(0,d.jsx)("span",{className:"text-white font-bold tracking-wider uppercase",style:{fontSize:"14px"},children:"Pass Invit\xe9 14 jours"})]})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"Apprendre, c'est mieux \xe0 plusieurs"}),(0,d.jsxs)("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",style:{fontSize:"15px"},children:["Partage ton pass exclusif avec tes amis. S'ils s'inscrivent dans les 14 jours, tu gagnes ",(0,d.jsx)("span",{className:"font-bold text-gray-900",children:"+2h de contenu gratuit"})," ajout\xe9es \xe0 ton compteur !"]}),(0,d.jsx)("div",{className:"mb-5",children:(0,d.jsx)("input",{type:"text",value:aQ,onChange:a=>aR(a.target.value),placeholder:"Emails s\xe9par\xe9s par des virgules",className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-gray-900 transition-colors",style:{fontSize:"15px"}})}),(0,d.jsx)("button",{onClick:()=>{aQ.trim()&&(alert(`âœ‰ï¸ Invitations envoy\xe9es \xe0 : ${aQ}

Tu recevras +2h pour chaque ami qui s'inscrit dans les 14 jours !`),aR(""),aN(!1))},className:"w-full py-4 bg-[#00c2ff] hover:bg-[#3bb5dc] text-white font-bold rounded-xl transition-colors mb-4",style:{fontSize:"16px"},children:"Envoyer les invitations"}),(0,d.jsx)("button",{onClick:()=>aN(!1),className:"w-full text-center text-gray-900 font-semibold hover:text-gray-600 transition-colors",style:{fontSize:"15px"},children:"Passer pour l'instant"}),(0,d.jsx)("p",{className:"text-center text-gray-400 mt-4 underline cursor-pointer hover:text-gray-600",style:{fontSize:"14px"},children:"Conditions du Pass Invit\xe9"})]})})}),(0,d.jsx)(c3,{onTriggerVerification:()=>{console.log("\uD83D\uDD10 V\xe9rification d'identit\xe9 d\xe9clench\xe9e manuellement"),$.Z.triggerVerification(),ak(!0)}})]})}var dR=c(77587),dS=c(12300),dT=c(15493),dU=c(49407),dV=c(96274);let dW=[{id:"planner",title:"Smart Planner",subtitle:"IA qui planifie pour toi",description:"Planification automatique de tes r\xe9visions bas\xe9e sur ton \xe9nergie et tes objectifs.",icon:o.A,comingSoon:!1,price:0,originalPrice:10},{id:"path",title:"Learning Path Creator",subtitle:"Parcours personnalis\xe9",description:"Cr\xe9ation automatique de parcours d'apprentissage sur mesure.",icon:dU.A,comingSoon:!0,price:12,originalPrice:15},{id:"exams",title:"Mock Exams",subtitle:"Examens blancs IA",description:"Entra\xeene-toi avec des examens g\xe9n\xe9r\xe9s par l'IA.",icon:dV.A,comingSoon:!0,price:8,originalPrice:10},{id:"community",title:"Study Community",subtitle:"Apprends en groupe",description:"Rejoins une communaut\xe9 avec acc\xe8s \xe0 des mentors experts.",icon:q.A,comingSoon:!0,price:4,originalPrice:5}],dX=dW.reduce((a,b)=>a+b.originalPrice,0);function dY({isOpen:a,onClose:b,onUnlock:c}){return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm overflow-y-auto py-8",onClick:b,children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-3xl max-w-7xl w-full mx-4 shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"relative p-8 pb-6 border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"absolute top-6 right-6 flex items-center gap-3",children:[(0,d.jsxs)("a",{href:"https://wa.me/33123456789?text=Bonjour%2C%20j%27ai%20une%20question%20sur%20les%20Mastery%20Boosters",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-5 py-2.5 bg-[#25D366] hover:bg-[#20BA5A] text-white font-semibold rounded-xl transition-colors text-base",children:[(0,d.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,d.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),(0,d.jsx)("span",{children:"Support WhatsApp"})]}),(0,d.jsx)("button",{onClick:b,className:"w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition-colors",children:(0,d.jsx)(v.A,{size:20})})]}),(0,d.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:"Des bases solides. Une progression acc\xe9l\xe9r\xe9e."})]}),(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:dW.map((a,b)=>{let c=a.icon;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},className:"bg-white border border-gray-200 rounded-2xl overflow-hidden group hover:border-gray-300 hover:shadow-lg transition-all",children:[(0,d.jsxs)("div",{className:"p-5 pb-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gray-900 flex items-center justify-center",children:(0,d.jsx)(c,{size:20,className:"text-white"})}),(0,d.jsx)("div",{className:"h-6 w-px bg-gray-200"}),(0,d.jsx)("span",{className:"text-gray-400 text-sm font-medium",children:"SMS"})]}),(0,d.jsx)("div",{className:"text-right",children:a.comingSoon?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-gray-400 text-sm line-through",children:["$",a.originalPrice]}),(0,d.jsxs)("span",{className:"text-gray-900 text-sm font-bold",children:["$",a.price]}),(0,d.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-500 text-[10px] font-bold uppercase rounded",children:"Bient\xf4t"})]}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-gray-400 text-sm line-through",children:["$",a.originalPrice]}),(0,d.jsx)("span",{className:"text-[#00c2ff] text-sm font-bold",children:"Gratuit"})]})})]}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:a.title}),(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:a.description})]}),(0,d.jsx)("div",{className:"relative h-36 bg-gradient-to-br from-gray-100 to-gray-200 mx-4 mb-4 rounded-xl overflow-hidden group-hover:from-gray-200 group-hover:to-gray-300 transition-colors cursor-pointer",onClick:()=>{console.log(`Voir la d\xe9mo de ${a.title}`)},children:(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform",children:(0,d.jsx)(N.A,{size:20,className:"text-gray-900 ml-1",fill:"currentColor"})}),(0,d.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Voir la d\xe9mo"})]})})})]},a.id)})}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)("div",{className:"bg-[#1E252E] rounded-2xl p-6 shadow-lg",children:(0,d.jsx)("div",{className:"flex items-start",children:(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold",style:{color:"#FFFFFF"},children:"Pack Complet (4 Boosters)"}),(0,d.jsx)("span",{className:"px-2.5 py-1 bg-[#404B57] text-white text-xs font-bold rounded",children:"-50%"})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,d.jsxs)("span",{className:"text-2xl relative",style:{color:"#A6AAAD",textDecoration:"line-through",textDecorationThickness:"3px",textDecorationColor:"#A6AAAD",opacity:.7},children:["$",dX]}),(0,d.jsxs)("span",{className:"text-white text-3xl font-bold",children:["$",19.99]}),(0,d.jsx)("span",{className:"text-sm",style:{color:"#A6AAAD"},children:"par mois \xb7 sans engagement"})]}),(0,d.jsxs)("button",{onClick:()=>{c?.("pack-all",19.99),window.location.href="/checkout?pack=mastery-boosters"},className:"w-full md:w-auto px-8 py-3 bg-white hover:bg-gray-100 text-gray-900 font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:["Proc\xe9der au paiement",(0,d.jsx)(O.A,{size:18})]})]})]})})})}),(0,d.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center -space-x-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500 border-2 border-white"}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-500 border-2 border-white"}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-pink-500 border-2 border-white"}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-500 border-2 border-white"})]}),(0,d.jsxs)("p",{className:"text-gray-700 text-sm",children:[(0,d.jsx)("span",{className:"font-bold text-gray-900",children:"+2,400"})," \xe9tudiants ont d\xe9j\xe0 d\xe9coll\xe9 avec nous"]})]})})]})]})})}):null}var dZ=c(69897),d$=c(70584);let d_={pythagore:{programId:"math",bundleId:"geometrie",courseId:"trigonometrie",lessonId:"theoreme-pythagore",notion:"Th\xe9or\xe8me de Pythagore"},thales:{programId:"math",bundleId:"geometrie",courseId:"trigonometrie",lessonId:"theoreme-thales",notion:"Th\xe9or\xe8me de Thal\xe8s"},derivee:{programId:"math",bundleId:"analyse",courseId:"derivation",notion:"D\xe9rivation"},derivation:{programId:"math",bundleId:"analyse",courseId:"derivation",notion:"D\xe9rivation"},integrale:{programId:"math",bundleId:"analyse",courseId:"integration",notion:"Int\xe9gration"},integration:{programId:"math",bundleId:"analyse",courseId:"integration",notion:"Int\xe9gration"},limite:{programId:"math",bundleId:"analyse",courseId:"limites",notion:"Limites et continuit\xe9"},continuite:{programId:"math",bundleId:"analyse",courseId:"limites",notion:"Limites et continuit\xe9"},suite:{programId:"math",bundleId:"analyse",courseId:"suites",notion:"Suites num\xe9riques"},recurrence:{programId:"math",bundleId:"analyse",courseId:"suites",lessonId:"recurrence",notion:"Raisonnement par r\xe9currence"},matrice:{programId:"math",bundleId:"algebre",courseId:"matrices",notion:"Matrices"},determinant:{programId:"math",bundleId:"algebre",courseId:"matrices",lessonId:"determinants",notion:"D\xe9terminants"},vecteur:{programId:"math",bundleId:"algebre",courseId:"espaces-vectoriels",notion:"Espaces vectoriels"},"espace vectoriel":{programId:"math",bundleId:"algebre",courseId:"espaces-vectoriels",notion:"Espaces vectoriels"},"valeur propre":{programId:"math",bundleId:"algebre",courseId:"reduction",notion:"R\xe9duction des endomorphismes"},diagonalisation:{programId:"math",bundleId:"algebre",courseId:"reduction",notion:"R\xe9duction des endomorphismes"},probabilite:{programId:"math",bundleId:"probas",courseId:"probabilites",notion:"Probabilit\xe9s"},"variable aleatoire":{programId:"math",bundleId:"probas",courseId:"variables-aleatoires",notion:"Variables al\xe9atoires"},esperance:{programId:"math",bundleId:"probas",courseId:"variables-aleatoires",lessonId:"esperance",notion:"Esp\xe9rance"},variance:{programId:"math",bundleId:"probas",courseId:"variables-aleatoires",lessonId:"variance",notion:"Variance"},"loi normale":{programId:"math",bundleId:"probas",courseId:"lois-continues",notion:"Lois continues"},"loi binomiale":{programId:"math",bundleId:"probas",courseId:"lois-discretes",notion:"Lois discr\xe8tes"},newton:{programId:"physics",bundleId:"mecanique",courseId:"dynamique",notion:"Lois de Newton"},cinematique:{programId:"physics",bundleId:"mecanique",courseId:"cinematique",notion:"Cin\xe9matique"},"energie cinetique":{programId:"physics",bundleId:"mecanique",courseId:"energie",notion:"\xc9nergie m\xe9canique"},"energie potentielle":{programId:"physics",bundleId:"mecanique",courseId:"energie",notion:"\xc9nergie m\xe9canique"},oscillateur:{programId:"physics",bundleId:"mecanique",courseId:"oscillations",notion:"Oscillations"},pendule:{programId:"physics",bundleId:"mecanique",courseId:"oscillations",lessonId:"pendule",notion:"Pendule simple"},gauss:{programId:"physics",bundleId:"electromag",courseId:"electrostatique",lessonId:"gauss",notion:"Th\xe9or\xe8me de Gauss"},coulomb:{programId:"physics",bundleId:"electromag",courseId:"electrostatique",lessonId:"coulomb",notion:"Loi de Coulomb"},"champ electrique":{programId:"physics",bundleId:"electromag",courseId:"electrostatique",notion:"\xc9lectrostatique"},"champ magnetique":{programId:"physics",bundleId:"electromag",courseId:"magnetostatique",notion:"Magn\xe9tostatique"},induction:{programId:"physics",bundleId:"electromag",courseId:"induction",notion:"Induction \xe9lectromagn\xe9tique"},faraday:{programId:"physics",bundleId:"electromag",courseId:"induction",lessonId:"faraday",notion:"Loi de Faraday"},thermodynamique:{programId:"physics",bundleId:"thermo",courseId:"premier-principe",notion:"Premier principe"},enthalpie:{programId:"physics",bundleId:"thermo",courseId:"premier-principe",lessonId:"enthalpie",notion:"Enthalpie"},entropie:{programId:"physics",bundleId:"thermo",courseId:"second-principe",notion:"Second principe"},carnot:{programId:"physics",bundleId:"thermo",courseId:"machines-thermiques",lessonId:"carnot",notion:"Cycle de Carnot"},redox:{programId:"chemistry",bundleId:"generale",courseId:"oxydoreduction",notion:"Oxydor\xe9duction"},oxydoreduction:{programId:"chemistry",bundleId:"generale",courseId:"oxydoreduction",notion:"Oxydor\xe9duction"},acide:{programId:"chemistry",bundleId:"solutions",courseId:"acides-bases",notion:"Acides et bases"},base:{programId:"chemistry",bundleId:"solutions",courseId:"acides-bases",notion:"Acides et bases"},ph:{programId:"chemistry",bundleId:"solutions",courseId:"acides-bases",lessonId:"ph",notion:"pH et pKa"},cinetique:{programId:"chemistry",bundleId:"generale",courseId:"cinetique",notion:"Cin\xe9tique chimique"},orbitale:{programId:"chemistry",bundleId:"generale",courseId:"structure-atomique",notion:"Structure atomique"},liaison:{programId:"chemistry",bundleId:"generale",courseId:"liaisons",notion:"Liaisons chimiques"},sn1:{programId:"chemistry",bundleId:"organique",courseId:"reactions-substitution",notion:"R\xe9actions de substitution"},sn2:{programId:"chemistry",bundleId:"organique",courseId:"reactions-substitution",notion:"R\xe9actions de substitution"}},d0={math:{id:"math",label:"Math\xe9matiques",bundles:{analyse:{id:"analyse",label:"Analyse",courses:{limites:{id:"limites",label:"Limites et continuit\xe9",duration:"4h",lessons:["D\xe9finition des limites","Limites usuelles","Continuit\xe9","Th\xe9or\xe8me des valeurs interm\xe9diaires"]},derivation:{id:"derivation",label:"D\xe9rivation",duration:"5h",lessons:["D\xe9finition","D\xe9riv\xe9es usuelles","R\xe8gles de d\xe9rivation","Applications"]},integration:{id:"integration",label:"Int\xe9gration",duration:"6h",lessons:["Primitives","Int\xe9grale de Riemann","Techniques d'int\xe9gration","Int\xe9grales impropres"]},suites:{id:"suites",label:"Suites num\xe9riques",duration:"4h",lessons:["D\xe9finitions","Convergence","Suites r\xe9currentes","Raisonnement par r\xe9currence"]}}},algebre:{id:"algebre",label:"Alg\xe8bre lin\xe9aire",courses:{matrices:{id:"matrices",label:"Matrices",duration:"5h",lessons:["Op\xe9rations","Inverse","D\xe9terminants","Rang"]},"espaces-vectoriels":{id:"espaces-vectoriels",label:"Espaces vectoriels",duration:"6h",lessons:["D\xe9finition","Bases","Dimension","Sous-espaces"]},reduction:{id:"reduction",label:"R\xe9duction",duration:"5h",lessons:["Valeurs propres","Vecteurs propres","Diagonalisation","Trigonalisation"]}}},geometrie:{id:"geometrie",label:"G\xe9om\xe9trie",courses:{trigonometrie:{id:"trigonometrie",label:"Trigonom\xe9trie",duration:"4h",lessons:["Cercle trigonom\xe9trique","Formules","Th\xe9or\xe8me de Pythagore","Th\xe9or\xe8me de Thal\xe8s"]},geometrie:{id:"geometrie",label:"G\xe9om\xe9trie dans l'espace",duration:"4h",lessons:["Droites et plans","Produit scalaire","Produit vectoriel","Distances"]}}},probas:{id:"probas",label:"Probabilit\xe9s",courses:{probabilites:{id:"probabilites",label:"Probabilit\xe9s",duration:"4h",lessons:["\xc9v\xe9nements","Probabilit\xe9s conditionnelles","Ind\xe9pendance","Formule de Bayes"]},"variables-aleatoires":{id:"variables-aleatoires",label:"Variables al\xe9atoires",duration:"5h",lessons:["D\xe9finition","Esp\xe9rance","Variance","Covariance"]},"lois-discretes":{id:"lois-discretes",label:"Lois discr\xe8tes",duration:"3h",lessons:["Loi binomiale","Loi de Poisson","Loi g\xe9om\xe9trique"]},"lois-continues":{id:"lois-continues",label:"Lois continues",duration:"4h",lessons:["Loi uniforme","Loi normale","Loi exponentielle"]}}}}},physics:{id:"physics",label:"Physique",bundles:{mecanique:{id:"mecanique",label:"M\xe9canique",courses:{cinematique:{id:"cinematique",label:"Cin\xe9matique",duration:"3h",lessons:["Position","Vitesse","Acc\xe9l\xe9ration","Mouvements"]},dynamique:{id:"dynamique",label:"Dynamique",duration:"5h",lessons:["Lois de Newton","Forces","Frottements","Chute libre"]},energie:{id:"energie",label:"\xc9nergie",duration:"4h",lessons:["Travail","\xc9nergie cin\xe9tique","\xc9nergie potentielle","Conservation"]},oscillations:{id:"oscillations",label:"Oscillations",duration:"4h",lessons:["Oscillateur harmonique","Pendule simple","Amortissement","R\xe9sonance"]}}},electromag:{id:"electromag",label:"\xc9lectromagn\xe9tisme",courses:{electrostatique:{id:"electrostatique",label:"\xc9lectrostatique",duration:"5h",lessons:["Charge \xe9lectrique","Loi de Coulomb","Champ \xe9lectrique","Th\xe9or\xe8me de Gauss"]},magnetostatique:{id:"magnetostatique",label:"Magn\xe9tostatique",duration:"4h",lessons:["Champ magn\xe9tique","Force de Lorentz","Th\xe9or\xe8me d'Amp\xe8re","Bobines"]},induction:{id:"induction",label:"Induction",duration:"4h",lessons:["Flux magn\xe9tique","Loi de Faraday","Inductance","Circuits RL"]}}},thermo:{id:"thermo",label:"Thermodynamique",courses:{"premier-principe":{id:"premier-principe",label:"Premier principe",duration:"4h",lessons:["\xc9nergie interne","Travail","Chaleur","Enthalpie"]},"second-principe":{id:"second-principe",label:"Second principe",duration:"4h",lessons:["Entropie","Irr\xe9versibilit\xe9","Machines thermiques","Rendement"]},"machines-thermiques":{id:"machines-thermiques",label:"Machines thermiques",duration:"3h",lessons:["Cycle de Carnot","Moteurs","Pompes \xe0 chaleur"]}}}}},chemistry:{id:"chemistry",label:"Chimie",bundles:{generale:{id:"generale",label:"Chimie g\xe9n\xe9rale",courses:{"structure-atomique":{id:"structure-atomique",label:"Structure atomique",duration:"4h",lessons:["Mod\xe8le atomique","Orbitales","Configuration \xe9lectronique","Tableau p\xe9riodique"]},liaisons:{id:"liaisons",label:"Liaisons chimiques",duration:"4h",lessons:["Liaison covalente","Liaison ionique","Liaison m\xe9tallique","Forces intermol\xe9culaires"]},cinetique:{id:"cinetique",label:"Cin\xe9tique",duration:"4h",lessons:["Vitesse de r\xe9action","Ordre de r\xe9action","M\xe9canismes","Catalyse"]},oxydoreduction:{id:"oxydoreduction",label:"Oxydor\xe9duction",duration:"4h",lessons:["Nombres d'oxydation","\xc9quilibrage","Piles","\xc9lectrolyse"]}}},solutions:{id:"solutions",label:"Chimie des solutions",courses:{"acides-bases":{id:"acides-bases",label:"Acides et bases",duration:"5h",lessons:["pH et pKa","Solutions tampons","Titrages","Indicateurs"]},precipitation:{id:"precipitation",label:"Pr\xe9cipitation",duration:"3h",lessons:["Produit de solubilit\xe9","Effet d'ion commun","Pr\xe9cipitation s\xe9lective"]}}},organique:{id:"organique",label:"Chimie organique",courses:{nomenclature:{id:"nomenclature",label:"Nomenclature",duration:"3h",lessons:["Alcanes","Alc\xe8nes","Fonctions","IUPAC"]},stereochimie:{id:"stereochimie",label:"St\xe9r\xe9ochimie",duration:"4h",lessons:["Chiralit\xe9","\xc9nantiom\xe8res","Diast\xe9r\xe9oisom\xe8res","Configuration R/S"]},"reactions-substitution":{id:"reactions-substitution",label:"Substitution",duration:"4h",lessons:["SN1","SN2","Nucl\xe9ophiles","Groupes partants"]}}}}},statistics:{id:"statistics",label:"Statistiques",bundles:{descriptive:{id:"descriptive",label:"Statistiques descriptives",courses:{"series-stat":{id:"series-stat",label:"S\xe9ries statistiques",duration:"3h",lessons:["Moyenne","M\xe9diane","Mode","\xc9cart-type"]},graphiques:{id:"graphiques",label:"Repr\xe9sentations",duration:"2h",lessons:["Histogrammes","Diagrammes","Bo\xeetes \xe0 moustaches"]}}},inference:{id:"inference",label:"Inf\xe9rence",courses:{estimation:{id:"estimation",label:"Estimation",duration:"4h",lessons:["Estimateurs","Biais","Intervalles de confiance"]},tests:{id:"tests",label:"Tests d'hypoth\xe8se",duration:"5h",lessons:["Test t","Test chi-carr\xe9","ANOVA","Puissance"]}}}}},informatics:{id:"informatics",label:"Informatique",bundles:{python:{id:"python",label:"Python",courses:{bases:{id:"bases",label:"Bases Python",duration:"5h",lessons:["Variables","Types","Conditions","Boucles"]},fonctions:{id:"fonctions",label:"Fonctions",duration:"3h",lessons:["D\xe9finition","Param\xe8tres","Retour","Port\xe9e"]},poo:{id:"poo",label:"POO",duration:"5h",lessons:["Classes","Objets","H\xe9ritage","Polymorphisme"]}}},algo:{id:"algo",label:"Algorithmique",courses:{complexite:{id:"complexite",label:"Complexit\xe9",duration:"3h",lessons:["Notation O","Analyse","Comparaison"]},tri:{id:"tri",label:"Algorithmes de tri",duration:"4h",lessons:["Tri bulle","Tri rapide","Tri fusion","Tri par tas"]}}}}},economics:{id:"economics",label:"\xc9conomie",bundles:{micro:{id:"micro",label:"Micro\xe9conomie",courses:{consommateur:{id:"consommateur",label:"Th\xe9orie du consommateur",duration:"4h",lessons:["Utilit\xe9","Contrainte budg\xe9taire","Optimum","Demande"]},producteur:{id:"producteur",label:"Th\xe9orie du producteur",duration:"4h",lessons:["Production","Co\xfbts","Offre","Profit"]}}},macro:{id:"macro",label:"Macro\xe9conomie",courses:{pib:{id:"pib",label:"PIB et croissance",duration:"3h",lessons:["Calcul du PIB","Croissance","Cycles"]},monetaire:{id:"monetaire",label:"Politique mon\xe9taire",duration:"4h",lessons:["Banque centrale","Taux d'int\xe9r\xeat","Inflation"]}}}}},accounting:{id:"accounting",label:"Comptabilit\xe9",bundles:{generale:{id:"generale",label:"Comptabilit\xe9 g\xe9n\xe9rale",courses:{bilan:{id:"bilan",label:"Bilan",duration:"4h",lessons:["Actif","Passif","Capitaux propres","\xc9quilibre"]},resultat:{id:"resultat",label:"Compte de r\xe9sultat",duration:"3h",lessons:["Charges","Produits","R\xe9sultat net"]}}}}}};function d1({userName:a="Yassine",onCourseSelect:b,onDocumentUpload:c,onAddToFavorites:f,className:g="",compact:j=!1}){let[k,l]=(0,e.useState)(""),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(null),[r,s]=(0,e.useState)(null),[u,w]=(0,e.useState)(null),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)(!1),[C,D]=(0,e.useState)(new Set),E=(0,e.useRef)(null),F=(0,e.useMemo)(()=>{if(!k.trim()||k.length<2)return[];let a=k.toLowerCase().trim(),b=[];return Object.entries(d_).forEach(([c,d])=>{if(c.includes(a)||d.notion.toLowerCase().includes(a)){let a=d0[d.programId],e=a?.bundles[d.bundleId],f=e?.courses[d.courseId];f&&b.push({key:c,data:d,courseLabel:f.label})}}),b.slice(0,5)},[k]),G=p?d0[p]:null,H=G&&r?G.bundles[r]:null,I=H&&u?H.courses[u]:null,J=a=>{a.target.files&&a.target.files.length>0&&c&&c()},K=()=>{k.trim()&&(console.log("Search:",k.trim()),l(""))},L=a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),K())},M=p?r?u?x||z?"results":"lessons":"courses":"bundles":"programs",N=(()=>{let a=[];return G&&a.push(G.label),H&&a.push(H.label),I&&a.push(I.label),x&&a.push(x),a.join("  â€º  ")})(),O=(()=>{if(!G||!H||!I)return[];let a=[{id:`${I.id}-main`,title:I.label,subtitle:`${G.label} â€¢ ${H.label}`,lessons:I.lessons.length,duration:I.duration,progress:Math.floor(100*Math.random()),isNew:Math.random()>.7},{id:`${I.id}-advanced`,title:`${I.label} - Avanc\xe9`,subtitle:`${G.label} â€¢ ${H.label}`,lessons:I.lessons.length+2,duration:`${parseInt(I.duration)+2}h`,progress:0,isNew:!0},{id:`${I.id}-exercices`,title:`Exercices : ${I.label}`,subtitle:`${G.label} â€¢ Entra\xeenement`,lessons:Math.floor(1.5*I.lessons.length),duration:`${parseInt(I.duration)+1}h`,progress:Math.floor(50*Math.random()),isNew:!1}];return x&&a.unshift({id:`${I.id}-${x}`,title:x,subtitle:`${I.label} â€¢ ${H.label}`,lessons:1,duration:"45min",progress:0,isNew:!0}),a})();return j?(0,d.jsx)("div",{className:`w-full ${g}`,children:(0,d.jsx)("div",{className:`relative bg-white rounded-2xl border-2 transition-all duration-300 ${n?"border-[#00c2ff] shadow-[0_0_20px_rgba(34,211,238,0.3)]":"border-gray-200 shadow-md hover:shadow-lg"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3 px-5 py-3",children:[(0,d.jsx)("button",{onClick:()=>E.current?.click(),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",title:"Importer un document (syllabus, \xe9nonc\xe9, notes)","aria-label":"Importer un document (syllabus, \xe9nonc\xe9, notes)",children:(0,d.jsx)(cn.A,{size:16})}),(0,d.jsx)("input",{ref:E,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:J,className:"hidden"}),(0,d.jsx)("div",{className:"flex-1 flex items-center",children:N?(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,d.jsx)("span",{className:"text-gray-900 text-sm font-medium truncate",children:N}),(0,d.jsx)("button",{onClick:()=>{q(null),s(null),w(null),y(null),A(!1)},className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:(0,d.jsx)(v.A,{size:14})})]}):(0,d.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),onKeyPress:L,onFocus:()=>o(!0),onBlur:()=>o(!1),placeholder:"Un concept, une difficult\xe9, un point pr\xe9cis (Gauss, int\xe9grales, Pythagoreâ€¦)",className:"flex-1 text-sm text-gray-900 placeholder-gray-400 bg-transparent border-none focus:outline-none focus:ring-0"})}),(0,d.jsx)("button",{onClick:()=>{N&&p?A(!0):K()},disabled:!k.trim()&&!N,className:`w-8 h-8 flex items-center justify-center rounded-full transition-all flex-shrink-0 ${k.trim()||N?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-300 cursor-not-allowed"}`,title:"Cr\xe9er mon learning track","aria-label":"Cr\xe9er mon learning track",children:(0,d.jsx)(d$.A,{size:16})})]})})}):(0,d.jsxs)("div",{className:`w-full max-w-6xl mx-auto px-4 ${g}`,children:[(0,d.jsxs)("div",{className:"text-center mb-5 w-full",children:[(0,d.jsxs)("p",{className:"font-title tracking-wide mb-1",style:{fontSize:"24px",color:"#111827"},children:["Bonjour ",a,","]}),(0,d.jsxs)("h1",{className:"font-title tracking-tight mb-3",style:{fontSize:"48px",color:"#111827",lineHeight:1},children:["Des parcours d'apprentissage,",(0,d.jsx)("br",{}),"port\xe9s par une communaut\xe9."]}),(0,d.jsx)("p",{className:"max-w-4xl mx-auto",style:{fontSize:"18px",lineHeight:1.5,color:"#111827"},children:"Recherche un concept pr\xe9cis et avance avec des \xe9tudiants sur le m\xeame sujet."})]}),(0,d.jsxs)("div",{className:`relative bg-white rounded-xl border-2 transition-all duration-300 max-w-2xl mx-auto ${n?"border-[#00c2ff] shadow-[0_0_24px_rgba(34,211,238,0.35)]":"border-gray-200 shadow-md hover:shadow-lg"}`,children:[(0,d.jsx)("div",{className:"px-5 pt-4 pb-3",children:N?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-lg text-gray-900 font-medium truncate",children:N}),(0,d.jsx)("button",{onClick:()=>{q(null),s(null),w(null),y(null),A(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:(0,d.jsx)(v.A,{size:16})})]}):(0,d.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),onKeyPress:L,onFocus:()=>o(!0),onBlur:()=>o(!1),placeholder:"Un concept, une difficult\xe9, un point pr\xe9cis (Gauss, int\xe9grales, Pythagoreâ€¦)",className:"w-full text-lg text-gray-900 placeholder-gray-400 bg-transparent border-none focus:outline-none focus:ring-0",style:{fontFamily:"DM Sans, sans-serif"}})}),(0,d.jsxs)("div",{className:"flex items-center justify-between px-5 pb-4",children:[(0,d.jsx)("button",{onClick:()=>E.current?.click(),className:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:"Importer un document (syllabus, \xe9nonc\xe9, notes)","aria-label":"Importer un document (syllabus, \xe9nonc\xe9, notes)",children:(0,d.jsx)(cn.A,{size:18})}),(0,d.jsx)("input",{ref:E,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",onChange:J,className:"hidden"}),(0,d.jsx)("button",{onClick:()=>{N&&p?A(!0):K()},disabled:!k.trim()&&!N,className:`w-9 h-9 flex items-center justify-center rounded-full transition-all ${k.trim()||N?"bg-gray-900 text-white hover:bg-gray-800":"bg-gray-100 text-gray-300 cursor-not-allowed"}`,title:"Cr\xe9er mon learning track","aria-label":"Cr\xe9er mon learning track",children:(0,d.jsx)(d$.A,{size:18})})]}),(0,d.jsx)(i.N,{children:F.length>0&&!N&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden z-50",children:F.map((a,b)=>(0,d.jsxs)("button",{onClick:()=>{q(a.data.programId),s(a.data.bundleId),w(a.data.courseId),l("")},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center justify-between ${b>0?"border-t border-gray-100":""}`,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-900 font-medium text-sm",children:a.courseLabel}),(0,d.jsxs)("p",{className:"text-gray-500 text-xs",children:["Notion : ",a.data.notion]})]}),(0,d.jsx)(B.A,{size:14,className:"text-gray-400"})]},a.key))})})]}),(0,d.jsx)("div",{className:"mt-8 w-full max-w-5xl mx-auto",children:(0,d.jsxs)(i.N,{mode:"wait",children:["programs"===M&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-wrap justify-center gap-2.5",children:Object.values(d0).map(a=>(0,d.jsx)("button",{onClick:()=>q(a.id),className:"px-5 py-2.5 rounded-full text-base font-medium bg-white border border-gray-200 text-gray-600 hover:border-gray-400 hover:text-gray-900 transition-all duration-200",children:a.label},a.id))},"programs"),"bundles"===M&&G&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-wrap justify-center gap-2.5",children:Object.values(G.bundles).map(a=>(0,d.jsx)("button",{onClick:()=>s(a.id),className:"px-5 py-2.5 rounded-full text-base font-medium bg-white border border-gray-200 text-gray-600 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200",children:a.label},a.id))},"bundles"),"courses"===M&&H&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-wrap justify-center gap-2.5",children:Object.values(H.courses).map(a=>(0,d.jsx)("button",{onClick:()=>w(a.id),className:"px-5 py-2.5 rounded-full text-base font-medium bg-white border border-gray-200 text-gray-600 hover:border-gray-400 hover:text-gray-900 transition-all duration-200",children:a.label},a.id))},"courses"),"lessons"===M&&I&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-wrap justify-center gap-2.5",children:I.lessons.map(a=>(0,d.jsx)("button",{onClick:()=>{y(a),A(!0)},className:"px-5 py-2.5 rounded-full text-base font-medium bg-white border border-gray-200 text-gray-600 hover:border-gray-400 hover:text-gray-900 transition-all duration-200",children:a},a))},"lessons"),"results"===M&&z&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full max-w-7xl mx-auto",children:[(0,d.jsxs)("p",{className:"text-center text-sm text-gray-500 mb-6",children:[O.length," learning tracks trouv\xe9s \xb7 ",(0,d.jsx)("span",{className:"text-gray-400",children:"Clique sur â¤ï¸ pour ajouter \xe0 tes favoris"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:O.map(a=>(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"group relative bg-gradient-to-br from-[#1a1f25] to-[#0d1117] rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl hover:shadow-[#00c2ff]/10 transition-all duration-300 hover:-translate-y-1 h-[220px]",onClick:()=>b?.(a.id),children:[(0,d.jsxs)("div",{className:"h-24 bg-gradient-to-br from-gray-700/50 to-gray-800/50 relative",children:[(0,d.jsx)("button",{onClick:b=>{var c;b.stopPropagation(),c=a.id,D(b=>{let d=new Set(b);return d.has(c)?d.delete(c):(d.add(c),a&&f&&f(a)),d})},className:`absolute top-3 right-3 w-9 h-9 rounded-full flex items-center justify-center transition-all z-10 ${C.has(a.id)?"bg-red-500/20 hover:bg-red-500/30":"bg-black/40 hover:bg-black/60"}`,children:(0,d.jsx)(ae.A,{size:18,className:C.has(a.id)?"fill-red-500 text-red-500":"text-white/80 hover:text-white"})}),a.isNew&&(0,d.jsx)("span",{className:"absolute top-3 left-3 px-2.5 py-1 bg-emerald-500 text-white text-xs font-semibold rounded-full",children:"Nouveau"}),C.has(a.id)&&(0,d.jsx)("span",{className:"absolute bottom-3 left-3 px-2.5 py-1 bg-red-500/20 text-red-400 text-xs font-semibold rounded-full border border-red-500/30",children:"â¤ï¸ Ajout\xe9 aux favoris"})]}),(0,d.jsxs)("div",{className:"p-5 flex flex-col justify-between h-[124px]",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-base mb-1 group-hover:text-[#00c2ff] transition-colors line-clamp-2 h-[48px]",style:{color:"#FFFFFF"},children:a.title}),(0,d.jsx)("p",{className:"text-sm line-clamp-1",style:{color:"rgba(255,255,255,0.6)"},children:a.subtitle})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 text-xs",style:{color:"rgba(255,255,255,0.5)"},children:[(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(m.A,{size:12}),a.lessons," le\xe7ons"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(t.A,{size:12}),a.duration]})]})]}),a.progress>0?(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700/60",children:(0,d.jsx)("div",{className:"h-full bg-gradient-to-r from-[#00c2ff] to-[#00c2ff] transition-all duration-500",style:{width:`${a.progress}%`}})}):(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-[#00c2ff] to-blue-500 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]}),a.progress>0?(0,d.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-2 h-5",children:[(0,d.jsxs)("span",{className:"font-medium text-[#00c2ff]",children:[a.progress,"%"]})," compl\xe9t\xe9"]}):(0,d.jsx)("div",{className:"h-5 mt-2"})]},a.id))})]},"results")]})})]})}var d2=c(44381);let d3={Physique:"physics",MathÃ©matiques:"mathematics",Chimie:"chemistry",Ã‰conomie:"economics",Statistiques:"statistics",Biologie:"biology",ComptabilitÃ©:"accounting",Informatique:"informatique"},d4=["Chimie","\xc9conomie"],d5=(a,b,c,d=0,e=10)=>{let f=d4.includes(c);return{id:a,title:b,description:`Cours complet sur ${b}`,faculty:"Sciences",year:"2024",totalLessons:e,completedLessons:Math.floor(d/100*e),duration:`${Math.round(.75*e)}h`,isOwned:!f&&d>0,isPrimary:d>50,progress:f?0:d,price:49,thumbnail:"",previewAvailable:!0,tags:[c],difficulty:"intermediate",isTrial:f}},d6=[d5("physics-meca-1","M\xe9canique du point","Physique",65,12),d5("math-analyse-1","Analyse I","Math\xe9matiques",42,15),d5("chemistry-organique-1","Chimie organique I","Chimie",28,10),d5("physics-thermo-1","Thermodynamique I","Physique",15,8),d5("info-python-1","Python - Les bases","Informatique",72,20)],d7=[d5("physics-intro","Introduction \xe0 la physique","Physique",100,8),d5("math-bases","Bases math\xe9matiques","Math\xe9matiques",100,10),d5("chemistry-intro","Introduction \xe0 la chimie","Chimie",100,6),d5("info-algo-intro","Introduction \xe0 l'algorithmique","Informatique",100,12)],d8=[d5("physics-moderne","Physique moderne","Physique",0,14),d5("info-ia","Intelligence artificielle","Informatique",0,18),d5("math-crypto","Cryptographie","Math\xe9matiques",0,10),d5("chemistry-env","Chimie environnementale","Chimie",0,8),d5("eco-finance","Finance d'entreprise","\xc9conomie",0,12),d5("info-cloud","Cloud computing","Informatique",0,10)],d9=[d5("physics-ondes","Ondes m\xe9caniques","Physique",0,10),d5("math-algebre","Alg\xe8bre lin\xe9aire I","Math\xe9matiques",0,14),d5("chemistry-generale","Chimie g\xe9n\xe9rale I","Chimie",0,12),d5("physics-electro","\xc9lectrostatique","Physique",0,8),d5("info-python","Python - Les fondamentaux","Informatique",0,16),d5("stats-proba","Probabilit\xe9s","Statistiques",0,12),d5("eco-micro","Micro\xe9conomie","\xc9conomie",0,10),d5("physics-circuits","Circuits \xe9lectriques","Physique",0,10),d5("math-analyse","Analyse I","Math\xe9matiques",0,15),d5("info-bdd","Bases de donn\xe9es","Informatique",0,12)],ea=[d5("math-proba","Probabilit\xe9s","Math\xe9matiques",0,12),d5("physics-quantique","Physique quantique","Physique",0,16),d5("chemistry-analytique","Chimie analytique","Chimie",0,10),d5("info-python-avance","Python avanc\xe9","Informatique",0,14),d5("stats-descriptives","Statistiques descriptives","Statistiques",0,8)],eb=[[d5("phy-meca-intro","Introduction \xe0 la m\xe9canique","Physique",100,8),d5("phy-meca-point","M\xe9canique du point","Physique",65,12),d5("phy-meca-solide","M\xe9canique du solide","Physique",0,10)],[d5("phy-elec-intro","Introduction \xe0 l'\xe9lectrostatique","Physique",100,6),d5("phy-elec-champs","Champs \xe9lectriques","Physique",35,10),d5("phy-elec-potentiel","Potentiel \xe9lectrique","Physique",0,8)],[d5("phy-thermo-1","Thermodynamique I","Physique",15,10),d5("phy-thermo-2","Thermodynamique II","Physique",0,12)]],ec=[[d5("math-analyse-1","Analyse I","Math\xe9matiques",42,14),d5("math-analyse-2","Analyse II","Math\xe9matiques",0,12),d5("math-analyse-3","Analyse III","Math\xe9matiques",0,14)],[d5("math-algebre-1","Alg\xe8bre lin\xe9aire I","Math\xe9matiques",100,12),d5("math-algebre-2","Alg\xe8bre lin\xe9aire II","Math\xe9matiques",0,14)]],ed=[[d5("chem-gen-1","Chimie g\xe9n\xe9rale I","Chimie",28,10),d5("chem-gen-2","Chimie g\xe9n\xe9rale II","Chimie",0,12)],[d5("chem-orga-1","Chimie organique I","Chimie",0,14),d5("chem-orga-2","Chimie organique II","Chimie",0,16)]],ee=[[d5("info-python-intro","Python - Introduction","Informatique",100,12),d5("info-python-bases","Python - Les bases","Informatique",72,16),d5("info-python-poo","Python - POO","Informatique",0,14)],[d5("info-bdd-intro","Introduction aux BDD","Informatique",0,8),d5("info-bdd-sql","SQL - Fondamentaux","Informatique",0,12)]],ef=[[d5("eco-micro-1","Micro\xe9conomie I","\xc9conomie",33,10),d5("eco-micro-2","Micro\xe9conomie II","\xc9conomie",0,12)],[d5("eco-macro-1","Macro\xe9conomie I","\xc9conomie",0,10),d5("eco-macro-2","Macro\xe9conomie II","\xc9conomie",0,12)]];function eg({onCourseClick:a,onToggleFavorite:b=()=>{},onNavigateToSectionWithContext:c,ownedProgramIds:f=["physics","mathematics","statistics"]}){let[g,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)([]),m=a=>{let b=d3[a.tags?.[0]||""],c=!!b&&f.includes(b);return{...a,isOwned:c,isTrial:!c,progress:c?a.progress:0,completedLessons:c?a.completedLessons:0}},n=d6.map(m),o=d7.map(m),p=d8.map(m),q=d9.map(m),r=ea.map(m),s=eb.map(a=>a.map(m)),t=ec.map(a=>a.map(m)),u=ed.map(a=>a.map(m)),v=ee.map(a=>a.map(m)),w=ef.map(a=>a.map(m)),x=a=>{let b={id:a.id,title:a.title,description:a.subtitle,faculty:"Sciences",year:"2024",totalLessons:a.lessons,completedLessons:0,duration:a.duration,isOwned:!1,isPrimary:!1,progress:0,price:49,thumbnail:"",previewAvailable:!0,tags:[],difficulty:"intermediate"};l(a=>a.some(a=>a.id===b.id)?a:[b,...a])},y=[...k,...q.filter(a=>!k.some(b=>b.id===a.id))];return(0,d.jsx)("div",{className:"overflow-visible",children:(0,d.jsx)(i.N,{mode:"wait",children:g?(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"space-y-6",children:[(0,d.jsx)("div",{className:"w-full mb-6",children:(0,d.jsx)(d1,{userName:"Yassine",onCourseSelect:(b,c)=>{console.log("Course selected:",b,c);let d=q.find(a=>a.id===b)||n.find(a=>a.id===b)||p.find(a=>a.id===b)||k.find(a=>a.id===b);d||(d=d5(b,b.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()),"Sciences",0,8)),a(d)},onDocumentUpload:()=>{console.log("Document upload triggered")},onAddToFavorites:x})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.eW,{title:"Reprendre ma progression",courses:n,onCourseClick:a,showProgress:!0,emptyMessage:"Tu n'as pas encore commenc\xe9 de cours",maxVisible:8,onToggleFavorite:b,onNavigateToSectionWithContext:c})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.eW,{title:k.length>0?`Learning tracks con\xe7us pour toi (${k.length} ajout\xe9s)`:"Learning tracks con\xe7us pour toi",courses:y,onCourseClick:a,showProgress:!1,defaultFavorites:!0,onToggleFavorite:b,onNavigateToSectionWithContext:c})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.eW,{title:"Nouveaut\xe9s chez SMS",courses:p,onCourseClick:a,showProgress:!1,onToggleFavorite:b,onNavigateToSectionWithContext:c})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.yH,{subject:"Physique",subGroups:s,onCourseClick:a,onToggleFavorite:b,displayMode:"bundles"})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.yH,{subject:"Math\xe9matiques",subGroups:t,onCourseClick:a,onToggleFavorite:b,displayMode:"bundles"})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.yH,{subject:"Chimie",subGroups:u,onCourseClick:a,onToggleFavorite:b,displayMode:"bundles"})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.yH,{subject:"Informatique",subGroups:v,onCourseClick:a,onToggleFavorite:b,displayMode:"bundles"})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.yH,{subject:"\xc9conomie",subGroups:w,onCourseClick:a,onToggleFavorite:b,displayMode:"bundles"})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.eW,{title:"Populaires cette semaine",courses:r,onCourseClick:a,showProgress:!1,onToggleFavorite:b,onNavigateToSectionWithContext:c})}),(0,d.jsx)("section",{className:"mb-6",children:(0,d.jsx)(d2.eW,{title:"Revoir",courses:o,onCourseClick:a,showProgress:!0,emptyMessage:"Tu n'as pas encore termin\xe9 de cours",onToggleFavorite:b,onNavigateToSectionWithContext:c})})]})]},"expanded"):(0,d.jsxs)(h.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0,y:-50},transition:{duration:.4,ease:"easeInOut"},className:"flex flex-col items-center justify-start px-4 pt-4 pb-12",style:{minHeight:"calc(100vh - 180px)"},children:[(0,d.jsx)(d1,{userName:"Yassine",onCourseSelect:(b,c)=>{console.log("Course selected:",b,c);let d=q.find(a=>a.id===b)||n.find(a=>a.id===b)||p.find(a=>a.id===b)||k.find(a=>a.id===b);d||(d=d5(b,b.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()),"Sciences",0,8)),a(d),j(!0)},onDocumentUpload:()=>{console.log("Document upload triggered")},onAddToFavorites:x}),(0,d.jsx)("div",{className:"w-full mt-4",children:(0,d.jsx)(d2.eW,{title:k.length>0?`Learning tracks con\xe7us pour toi (${k.length} ajout\xe9s)`:"Learning tracks con\xe7us pour toi",courses:y.slice(0,8),onCourseClick:b=>{j(!0),a(b)},showProgress:!1,defaultFavorites:!0,onToggleFavorite:b,onNavigateToSectionWithContext:c})}),(0,d.jsxs)(h.P.button,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},onClick:()=>{j(!0),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},className:"mt-8 mb-4 flex flex-col items-center gap-2 text-gray-400 hover:text-gray-600 transition-colors group",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"D\xe9couvrir tout le catalogue"}),(0,d.jsx)("div",{className:"w-12 h-12 rounded-full border-2 border-gray-200 group-hover:border-gray-400 flex items-center justify-center transition-colors",children:(0,d.jsx)(au.A,{size:24})})]})]},"collapsed")})})}let eh={NEW_COURSE_THRESHOLD_DAYS:30,POPULAR_THRESHOLD:50,FAIR_VISIBILITY_SLOTS:2,MAX_DISPLAY:12};var ei=c(14263),ej=c(23733);function ek({isOpen:a,onClose:b,onSuccess:c}){let[f,g]=(0,e.useState)("form"),[k,l]=(0,e.useState)({firstName:"",email:"",phone:"",school:""}),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)({}),[q,r]=(0,e.useState)(["","","","","",""]),[s,t]=(0,e.useState)([]),[u,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(0),[z,A]=(0,e.useState)(!1),B=async a=>{a.preventDefault(),(()=>{let a={};return k.firstName.trim()||(a.firstName="Pr\xe9nom requis"),k.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(a.email="Email invalide"):a.email="Email requis",z||(a.terms="Veuillez accepter les conditions"),p(a),0===Object.keys(a).length})()&&(n(!0),await new Promise(a=>setTimeout(a,1e3)),console.log("Sending OTP to:",k.email),n(!1),g("otp"),y(60))},C=async a=>{if(a.preventDefault(),q.some(a=>!a))return;n(!0),await new Promise(a=>setTimeout(a,1500));let b=q.join("");console.log("Verifying OTP:",b),6===b.length?(console.log("Lead captured:",k),n(!1),g("success"),setTimeout(()=>{c()},2500)):(w("Code invalide. Veuillez r\xe9essayer."),n(!1))},D=async()=>{x>0||(r(["","","","","",""]),w(""),console.log("Resending OTP to:",k.email),y(60),s[0]?.current?.focus())},E=a=>b=>{l(c=>({...c,[a]:b.target.value})),o[a]&&p(b=>({...b,[a]:""}))};return a?(0,d.jsx)(i.N,{children:(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:b}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-lg bg-[#1a1a1a] rounded-3xl overflow-hidden shadow-2xl",children:[(0,d.jsx)("button",{onClick:b,className:"absolute top-6 right-6 z-10 text-gray-500 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{className:"w-5 h-5"})}),"otp"===f&&(0,d.jsx)("button",{onClick:()=>g("form"),className:"absolute top-5 left-5 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 border border-white/10 transition-all group",children:(0,d.jsx)(cl.A,{className:"w-5 h-5 text-white/60 group-hover:text-white transition-colors"})}),"success"===f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-8 py-12 text-center",children:[(0,d.jsx)(h.P.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"text-5xl md:text-6xl font-black !text-white mb-6 uppercase tracking-wide",style:{fontFamily:"'Parafina', sans-serif"},children:"Welcome"}),(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},className:"w-48 h-48 mx-auto mb-6",children:(0,d.jsx)(ej.u,{variant:"star-shoot",autoPlay:!0,loop:!0,loopDelay:2e3,darkMode:!0})}),(0,d.jsx)(h.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},className:"text-xl md:text-2xl italic",style:{color:"rgba(255, 255, 255, 0.6)"},children:'"Learning shouldn\'t be that boring."'})]}),"otp"===f&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-8 pt-16",children:[(0,d.jsxs)("div",{className:"text-center mb-10",children:[(0,d.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-[#00c2ff]/20 to-blue-600/20 border border-[#00c2ff]/30 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCE7"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold !text-white mb-3",children:"V\xe9rifie ton email"}),(0,d.jsxs)("p",{className:"!text-white/50",children:["Un code \xe0 6 chiffres a \xe9t\xe9 envoy\xe9 \xe0",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"!text-white font-medium",children:k.email})]})]}),(0,d.jsxs)("form",{onSubmit:C,className:"space-y-8",children:[(0,d.jsx)("div",{className:"flex gap-3 justify-center",onPaste:a=>{a.preventDefault();let b=a.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);6===b.length&&r(b.split(""))},children:q.map((a,b)=>(0,d.jsx)("input",{ref:s[b],type:"text",inputMode:"numeric",maxLength:1,value:a,onChange:a=>((a,b)=>{if(b.length>1||b&&!/^\d$/.test(b))return;let c=[...q];c[a]=b,r(c),w(""),b&&a<5&&s[a+1]?.current?.focus()})(b,a.target.value),onKeyDown:a=>{"Backspace"===a.key&&!q[b]&&b>0&&s[b-1]?.current?.focus()},className:`w-14 h-16 rounded-xl border-2 bg-white/5 text-center text-2xl font-bold !text-white focus:outline-none transition-all ${u?"border-red-500/50 bg-red-500/10":a?"border-[#00c2ff] bg-[#00c2ff]/10":"border-white/10 focus:border-[#00c2ff] focus:bg-white/10"}`},b))}),u&&(0,d.jsx)(h.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center",children:u}),(0,d.jsx)("div",{className:"text-center",children:x>0?(0,d.jsxs)("p",{className:"!text-white/40 text-sm",children:["Renvoyer le code dans ",(0,d.jsxs)("span",{className:"!text-white font-medium",children:[x,"s"]})]}):(0,d.jsxs)("button",{type:"button",onClick:D,className:"text-sm !text-white/50 hover:!text-white transition-colors",children:["Pas re\xe7u le code ?"," ",(0,d.jsx)("span",{className:"font-semibold text-[#00c2ff] underline",children:"Renvoyer"})]})}),(0,d.jsx)("button",{type:"submit",disabled:q.some(a=>!a)||m,className:`w-full py-4 rounded-2xl font-bold text-lg transition-all flex items-center justify-center gap-3 ${q.every(a=>a)&&!m?"bg-gradient-to-r from-[#00c2ff] to-blue-600 hover:from-[#3ab5dc] hover:to-blue-700 text-white shadow-lg shadow-blue-500/25":"bg-white/5 !text-white/30 cursor-not-allowed border border-white/10"}`,children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ei.A,{className:"w-5 h-5 animate-spin"}),"V\xe9rification..."]}):(0,d.jsxs)(d.Fragment,{children:["Acc\xe9der aux cours",(0,d.jsx)(O.A,{size:20})]})})]})]}),"form"===f&&(0,d.jsxs)("div",{className:"p-10 pt-8",children:[(0,d.jsx)("div",{className:"flex justify-center mb-8",children:(0,d.jsx)("div",{className:"w-16 h-16 relative",children:(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"SMS",fill:!0,className:"object-contain"})})}),(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h2",{className:"text-3xl md:text-4xl font-normal !text-white mb-3",style:{fontFamily:"var(--font-parafina)"},children:"Teste ton parcours â€“ 10h offertes"}),(0,d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.9)"},className:"text-base",children:"Acc\xe8de \xe0 tous nos programmes. Sans engagement."})]}),(0,d.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"text",placeholder:"Ton pr\xe9nom",value:k.firstName,onChange:E("firstName"),className:`w-full px-5 py-4 bg-transparent rounded-full !text-white placeholder-white/40 text-base border transition-all ${o.firstName?"border-red-500/50 focus:border-red-500":"border-white/20 focus:border-white/40"} focus:outline-none`}),o.firstName&&(0,d.jsx)("p",{className:"text-red-400 text-xs mt-1.5 ml-4",children:o.firstName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"email",placeholder:"Ton email",value:k.email,onChange:E("email"),className:`w-full px-5 py-4 bg-transparent rounded-full !text-white placeholder-white/40 text-base border transition-all ${o.email?"border-red-500/50 focus:border-red-500":"border-white/20 focus:border-white/40"} focus:outline-none`}),o.email&&(0,d.jsx)("p",{className:"text-red-400 text-xs mt-1.5 ml-4",children:o.email})]}),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"tel",placeholder:"T\xe9l\xe9phone",value:k.phone,onChange:E("phone"),className:"w-full px-5 py-4 bg-transparent rounded-full !text-white placeholder-white/40 text-base border border-white/20 focus:border-white/40 focus:outline-none transition-all"})}),(0,d.jsxs)("div",{className:"pt-2",children:[(0,d.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,d.jsxs)("div",{className:"relative mt-0.5",children:[(0,d.jsx)("input",{type:"checkbox",checked:z,onChange:a=>{A(a.target.checked),a.target.checked&&o.terms&&p(a=>({...a,terms:""}))},className:"sr-only"}),(0,d.jsx)("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${z?"bg-[#00c2ff] border-[#00c2ff]":o.terms?"border-red-500/50 bg-red-500/10":"border-white/20 bg-transparent group-hover:border-white/40"}`,children:z&&(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),(0,d.jsxs)("span",{className:"text-sm !text-white/50 leading-relaxed",children:["J'accepte les"," ",(0,d.jsx)("a",{href:"/terms",target:"_blank",className:"text-[#00c2ff] hover:underline",children:"conditions"})," ","et la"," ",(0,d.jsx)("a",{href:"/privacy",target:"_blank",className:"text-[#00c2ff] hover:underline",children:"politique de confidentialit\xe9"})]})]}),o.terms&&(0,d.jsx)("p",{className:"text-red-400 text-xs mt-1.5 ml-8",children:o.terms})]}),(0,d.jsx)("button",{type:"submit",disabled:m,className:"w-full py-4 bg-[#00c2ff] hover:bg-[#00b0e8] disabled:opacity-50 !text-white font-semibold text-base rounded-full transition-all flex items-center justify-center gap-3 mt-4",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ei.A,{className:"w-5 h-5 animate-spin"}),"Envoi en cours..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.A,{size:20,fill:"currentColor"}),"Commence maintenant"]})})]})]})]})]})}):null}let el=[{id:"physics",name:"Physics Mastery",totalChapters:47,extractedTracks:5,chapters:["M\xe9canique newtonienne","Cin\xe9matique","Dynamique","Travail et \xe9nergie","Quantit\xe9 de mouvement","Rotation","Gravitation","Oscillations","Ondes m\xe9caniques","Thermodynamique"],relevantChapters:["M\xe9canique newtonienne","Dynamique","Travail et \xe9nergie","Ondes m\xe9caniques"]},{id:"mathematics",name:"Mathematics Mastery",totalChapters:63,extractedTracks:5,chapters:["Alg\xe8bre lin\xe9aire","Calcul diff\xe9rentiel","Calcul int\xe9gral","\xc9quations diff\xe9rentielles","Probabilit\xe9s","Statistiques","G\xe9om\xe9trie analytique","Trigonom\xe9trie","Nombres complexes","Suites et s\xe9ries"],relevantChapters:["Alg\xe8bre lin\xe9aire","Calcul int\xe9gral","Probabilit\xe9s"]},{id:"chemistry",name:"Chemistry Mastery",totalChapters:52,extractedTracks:5,chapters:["Structure atomique","Tableau p\xe9riodique","Liaisons chimiques","G\xe9om\xe9trie mol\xe9culaire","\xc9tats de la mati\xe8re","Solutions","R\xe9actions chimiques","StÅ“chiom\xe9trie","Thermochimie","Cin\xe9tique chimique"],relevantChapters:["R\xe9actions chimiques","Cin\xe9tique chimique"]}],em=[{id:"physics",name:"Physics Mastery",description:"M\xe9canique, \xc9lectromagn\xe9tisme, Thermodynamique, Ondes",price:999,icon:""},{id:"mathematics",name:"Mathematics Mastery",description:"Analyse, Alg\xe8bre lin\xe9aire, Probabilit\xe9s, Suites",price:1099,icon:""},{id:"chemistry",name:"Chemistry Mastery",description:"Chimie organique, Acides-bases, Redox, Cin\xe9tique",price:799,icon:""}],en=[{id:"1",title:"NEWTON",subtitle:"Les 3 Lois du Mouvement",category:"Physics Mastery",gradient:"from-[#00c2ff]/20 via-[#00a8e0]/20 to-[#008bc2]/20"},{id:"2",title:"GAUSS",subtitle:"\xc9lectrostatique et Champs",category:"Physics Mastery",gradient:"from-indigo-900 via-indigo-800 to-indigo-950"},{id:"3",title:"THERMO",subtitle:"Entropie & 2\xe8me Principe",category:"Physics Mastery",gradient:"from-cyan-900 via-cyan-800 to-cyan-950"},{id:"4",title:"ONDES",subtitle:"Propagation & Interf\xe9rences",category:"Physics Mastery",gradient:"from-sky-900 via-sky-800 to-sky-950"},{id:"5",title:"OPTIQUE",subtitle:"Lentilles & Miroirs",category:"Physics Mastery",gradient:"from-violet-900 via-violet-800 to-violet-950"},{id:"6",title:"INT\xc9GRALES",subtitle:"Calcul et Applications",category:"Mathematics Mastery",gradient:"from-emerald-900 via-emerald-800 to-emerald-950"},{id:"7",title:"MATRICES",subtitle:"Alg\xe8bre Lin\xe9aire",category:"Mathematics Mastery",gradient:"from-green-900 via-green-800 to-green-950"},{id:"8",title:"LIMITES",subtitle:"Continuit\xe9 & D\xe9riv\xe9es",category:"Mathematics Mastery",gradient:"from-teal-900 via-teal-800 to-teal-950"},{id:"9",title:"PROBABILIT\xc9S",subtitle:"Variables Al\xe9atoires",category:"Mathematics Mastery",gradient:"from-lime-900 via-lime-800 to-lime-950"},{id:"10",title:"SUITES",subtitle:"Convergence & R\xe9currence",category:"Mathematics Mastery",gradient:"from-emerald-800 via-emerald-700 to-emerald-900"},{id:"11",title:"CHIMIE ORG",subtitle:"R\xe9actions SN1 vs SN2",category:"Chemistry Mastery",gradient:"from-pink-900 via-pink-800 to-pink-950"},{id:"12",title:"ACIDES-BASES",subtitle:"pH et \xc9quilibres",category:"Chemistry Mastery",gradient:"from-rose-900 via-rose-800 to-rose-950"},{id:"13",title:"REDOX",subtitle:"Oxydor\xe9duction",category:"Chemistry Mastery",gradient:"from-red-900 via-red-800 to-red-950"},{id:"14",title:"CIN\xc9TIQUE",subtitle:"Vitesse de R\xe9action",category:"Chemistry Mastery",gradient:"from-orange-900 via-orange-800 to-orange-950"},{id:"15",title:"ATOMES",subtitle:"Structure \xc9lectronique",category:"Chemistry Mastery",gradient:"from-amber-900 via-amber-800 to-amber-950"}],eo=["Physics Mastery","Mathematics Mastery","Chemistry Mastery"];function ep({isOpen:a,onComplete:b,recommendedCourses:c=en,interests:g=eo,initialPhase:l="loading"}){let[m,n]=(0,e.useState)(l),[o,p]=(0,e.useState)(0),[q,r]=(0,e.useState)(0),[s,w]=(0,e.useState)(["physics","mathematics","chemistry"]),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(0),[L,Q]=(0,e.useState)(0),[R,S]=(0,e.useState)([]),[T,U]=(0,e.useState)([]);(0,e.useRef)(null);let[V,W]=(0,e.useState)(!0),X=el.reduce((a,b)=>a+b.totalChapters,0),Y=el.reduce((a,b)=>a+b.extractedTracks,0),[Z,$]=(0,e.useState)(0),_=[{name:"Sarah Mensah",role:"\xc9tudiante en M\xe9decine",avatar:"\uD83D\uDC69â€âš•ï¸",text:"J'ai valid\xe9 ma PASS du premier coup gr\xe2ce \xe0 SMS.",program:"Physics + Chemistry"},{name:"Thomas Lefebvre",role:"Pr\xe9pa MPSI",avatar:"\uD83D\uDC68â€\uD83C\uDF93",text:"Le Training Club m'a fait gagner un temps fou.",program:"Mathematics"},{name:"Emma Dubois",role:"Licence Physique",avatar:"\uD83D\uDC69â€\uD83D\uDD2C",text:"Les explications sont incroyablement claires. J'ai enfin compris la m\xe9canique quantique !",program:"Physics"},{name:"Lucas Martin",role:"Pr\xe9pa PC",avatar:"\uD83D\uDC68â€\uD83D\uDCBB",text:"La chimie organique n'a plus de secrets pour moi.",program:"Chemistry"},{name:"Chlo\xe9 Bernard",role:"L2 Math-Info",avatar:"\uD83D\uDC69â€\uD83C\uDF93",text:"Les exercices corrig\xe9s m'ont permis de passer de 8 \xe0 16 de moyenne.",program:"Mathematics"},{name:"Antoine Roux",role:"Pr\xe9pa PCSI",avatar:"\uD83E\uDDD1â€\uD83D\uDD2C",text:"SMS m'a sauv\xe9 mon ann\xe9e. Merci Zak !",program:"Physics + Mathematics"}],[aa,ab]=(0,e.useState)({firstName:"",lastName:"",email:"",phone:""}),[ac,ad]=(0,e.useState)({}),[ae,af]=(0,e.useState)(!1),[ag,ah]=(0,e.useState)(""),[ai,aj]=(0,e.useState)(!1),[ak,al]=(0,e.useState)(!1),[am,an]=(0,e.useState)(""),ao=s.reduce((a,b)=>{let c=em.find(a=>a.id===b);return a+Math.round(.6*(c?.price||0))},0),[ap,aq]=(0,e.useState)(0),ar=["On analyse ton profil","On cible ce qui te fera vraiment progresser","On connecte tes besoins \xe0 nos programmes"];return a?(0,d.jsx)(i.N,{children:(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-[#0d1317] overflow-y-auto overflow-x-hidden",children:[("loading"===m||"transition"===m||"scanning"===m||"reveal"===m)&&(0,d.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 md:px-6 overflow-hidden",children:(0,d.jsxs)(h.P.div,{className:"flex flex-col items-center -mt-8 md:-mt-12",animate:{y:"scanning"===m||"reveal"===m?"-5vh":0},transition:{duration:.8,ease:[.4,0,.2,1]},children:[(0,d.jsx)(h.P.div,{className:"flex flex-col items-center",animate:{marginBottom:"reveal"===m?"1rem":"2rem"},transition:{duration:.8,ease:[.4,0,.2,1]},children:(0,d.jsx)(h.P.div,{animate:"loading"===m||"transition"===m||"scanning"===m?{scale:[1,1.08,1],opacity:[.7,1,.7]}:{scale:1,opacity:1},transition:"loading"===m||"transition"===m||"scanning"===m?{duration:2.5,repeat:1/0,ease:"easeInOut"}:{duration:.5},children:(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"Science Made Simple",width:140,height:140,className:"object-contain md:w-[180px] md:h-[180px]"})})}),(0,d.jsxs)("div",{className:"relative w-full max-w-2xl md:max-w-4xl min-h-[350px] md:min-h-[500px] flex flex-col items-center",children:[(0,d.jsx)(i.N,{mode:"wait",children:"reveal"!==m&&(0,d.jsxs)(h.P.div,{className:"flex flex-col items-center w-full",initial:{opacity:1},exit:{opacity:0,scale:.95,filter:"blur(10px)"},transition:{duration:.6,ease:[.4,0,.2,1]},children:[(0,d.jsx)("div",{className:"space-y-5 md:space-y-6 text-center mb-8 md:mb-12",children:ar.map((a,b)=>{let c=b===ar.length-1,e="transition"===m||"scanning"===m;return(0,d.jsx)(h.P.p,{initial:{opacity:.2},animate:{opacity:e?+!!c:o>=b?1:.3,height:e&&!c?0:"auto",marginBottom:e&&!c?0:void 0},transition:{duration:.5},className:"text-2xl md:text-3xl font-bold overflow-hidden",style:{color:"#ffffff"},children:a},a)})}),(0,d.jsx)(i.N,{children:"scanning"===m&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},className:"flex flex-col items-center w-full",children:[(0,d.jsx)("div",{className:"w-full space-y-6 md:space-y-8 mb-8 md:mb-12",children:el.map((a,b)=>{let c=b===L&&"scanning"===m,e=R.includes(b);return b<=L||R.includes(b)?(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 md:gap-6 mb-4 md:mb-5",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[(0,d.jsx)("span",{className:"font-semibold text-lg md:text-2xl text-white",children:a.name}),e&&(0,d.jsx)(h.P.span,{initial:{scale:0},animate:{scale:1},className:"text-[#00c2ff]",children:(0,d.jsx)(M.A,{size:18,className:"md:w-6 md:h-6"})}),c&&(0,d.jsx)(ei.A,{size:18,className:"md:w-6 md:h-6 text-white/70 animate-spin"})]}),(0,d.jsxs)("div",{className:"text-sm md:text-lg",style:{color:"rgba(255, 255, 255, 0.75)"},children:[a.totalChapters," chapitres"]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:"text-2xl md:text-4xl font-bold text-white",children:e?a.extractedTracks:c?Math.min(Math.floor(T.length/2),a.extractedTracks):0}),(0,d.jsx)("span",{className:"text-sm md:text-lg ml-1 md:ml-2",style:{color:"rgba(255, 255, 255, 0.75)"},children:"parcours"})]})]}),(c||e)&&(0,d.jsx)(h.P.div,{className:"h-1 md:h-2 rounded-full bg-gray-800/50 mb-4 md:mb-5 overflow-hidden",initial:{opacity:0},animate:{opacity:1},children:(0,d.jsx)(h.P.div,{className:"h-full rounded-full bg-[#00c2ff]/60",initial:{width:0},animate:{width:e?"100%":`${T.length/a.chapters.length*100}%`},transition:{duration:.1}})}),(0,d.jsx)(i.N,{children:c&&T.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-2 md:mb-4",children:[(0,d.jsx)("div",{className:"text-xs md:text-sm text-white/40 uppercase tracking-wider mb-2 md:mb-3",children:"Chapitres analys\xe9s"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-3",children:T.map((b,c)=>{let e=a.relevantChapters.includes(b);return(0,d.jsx)(h.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`px-3 md:px-4 py-1 md:py-2 rounded-full text-xs md:text-sm border ${e?"bg-[#00c2ff]/20 text-[#00c2ff] border-[#00c2ff]/50 font-medium":"bg-gray-800/50 text-white/60 border-gray-700/50"}`,children:b},`${a.id}-${c}`)})})]})}),e&&b<el.length-1&&(0,d.jsx)("div",{className:"border-b border-gray-700/30 mt-4 md:mt-6"})]},a.id):null})}),(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full",children:[(0,d.jsx)("div",{className:"relative h-2 bg-gray-800/50 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#00c2ff]/50 to-[#00c2ff] rounded-full",style:{width:`${J}%`}})}),(0,d.jsxs)("div",{className:"flex justify-between mt-2 text-xs md:text-sm",style:{color:"rgba(255, 255, 255, 0.75)"},children:[(0,d.jsxs)("span",{children:[Math.floor(J/100*X)," / ",X," chapitres"]}),(0,d.jsxs)("span",{children:[Math.floor(J),"%"]})]})]})]},"scanning-content")})]},"pre-reveal")}),(0,d.jsx)(i.N,{children:"reveal"===m&&(0,d.jsxs)(h.P.div,{className:"flex flex-col items-center w-full max-w-3xl md:max-w-4xl",initial:{opacity:0,scale:1.05,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},transition:{duration:.8,ease:[.4,0,.2,1],delay:.2},children:[(0,d.jsx)(h.P.div,{initial:{opacity:0,scale:.5,y:30},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,delay:.4,type:"spring",stiffness:120,damping:15},className:"mb-2 md:mb-4",children:(0,d.jsx)("span",{className:"text-9xl md:text-[12rem] font-black text-white leading-none",style:{fontFamily:"'Parafina', sans-serif"},children:Y})}),(0,d.jsx)(h.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7,ease:"easeOut"},className:"text-2xl md:text-5xl font-bold text-center mb-3 md:mb-4 uppercase tracking-wider",style:{fontFamily:"'Parafina', sans-serif",color:"#ffffff"},children:"Parcours cr\xe9\xe9s pour toi"}),(0,d.jsx)(h.P.p,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.6,delay:.85,ease:"easeOut"},className:"text-center mb-8 md:mb-10 text-base md:text-xl",style:{color:"rgba(255, 255, 255, 0.8)"},children:"bas\xe9s sur les Mastery Programs suivants"}),(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"flex flex-col items-center gap-3 md:gap-5 mb-8 md:mb-12",children:el.map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.4,delay:1.1+.1*b,ease:"easeOut"},className:"flex items-center gap-3 md:gap-4 text-lg md:text-xl",children:[(0,d.jsx)("span",{className:"font-semibold text-white",children:a.name}),(0,d.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"â€¢"}),(0,d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.6)"},children:[a.totalChapters," chapitres"]}),(0,d.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:"â€¢"}),(0,d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.75)"},children:[a.extractedTracks," parcours"]})]},a.id))}),(0,d.jsxs)(h.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.5},className:"text-2xl md:text-4xl font-bold text-center mb-8 md:mb-10",style:{color:"#ffffff"},children:["Parcours illimit\xe9s",(0,d.jsx)("span",{className:"text-[#00c2ff]",children:"."})," \xc0 vie",(0,d.jsx)("span",{className:"text-[#00c2ff]",children:"."})]}),(0,d.jsxs)(h.P.button,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.7,ease:"easeOut"},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("results"),className:"px-10 md:px-14 py-4 md:py-5 bg-[#00c2ff] hover:bg-[#00b0e8] text-white font-semibold rounded-full transition-all flex items-center gap-3 shadow-lg shadow-[#00c2ff]/25 text-base md:text-xl",children:["Continuer",(0,d.jsx)(O.A,{size:20,className:"md:w-6 md:h-6"})]}),(0,d.jsx)(h.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.9},className:"mt-6 md:mt-8 text-sm md:text-base",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Paiement unique \xb7 Acc\xe8s \xe0 vie"})]},"reveal")})]})]})}),"results"===m&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-full flex flex-col",children:[(0,d.jsx)("header",{className:"sticky top-0 bg-[#0d1317]/95 backdrop-blur-sm border-b border-gray-800 px-3 md:px-6 py-3 md:py-4 z-20",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between relative",children:[(0,d.jsx)("div",{className:"w-[50px] md:w-[85px]",children:(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"Science Made Simple",width:85,height:85,className:"w-[50px] h-[50px] md:w-[85px] md:h-[85px]"})}),(0,d.jsx)("div",{className:"flex items-center gap-1.5 md:gap-3 absolute left-1/2 -translate-x-1/2",children:["Tes cours","Offre","Finaliser"].map((a,b)=>{let c=b<0,e=0===b;return(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:`w-4 h-4 md:w-6 md:h-6 rounded-full transition-all duration-300 ${c?"bg-[#00c2ff]":e?"bg-[#00c2ff] ring-2 md:ring-[5px] ring-[#00c2ff]/30":"bg-gray-600"}`}),(0,d.jsx)("span",{className:`text-[11px] md:text-sm mt-2 font-semibold hidden md:block !text-white ${c||e?"opacity-100":"opacity-50"}`,children:a})]}),b<2&&(0,d.jsx)("div",{className:`w-8 md:w-24 h-1 md:h-1.5 rounded-full ${c?"bg-[#00c2ff]":"bg-gray-700"}`})]},a)})}),(0,d.jsx)("div",{className:"w-[50px] md:w-[85px] flex justify-end",children:F&&(0,d.jsxs)("button",{onClick:()=>G(!1),className:"hidden md:flex items-center gap-1.5 text-gray-400 hover:text-white text-sm font-medium transition-colors",children:[(0,d.jsx)(N.A,{size:14,className:"rotate-180"}),"Revoir la vid\xe9o"]})})]})}),!F&&(0,d.jsxs)("div",{className:"flex-1 flex flex-col bg-[#0d1317]",children:[(0,d.jsxs)("div",{className:"flex-1 relative min-h-[40vh] md:min-h-[50vh]",children:[(0,d.jsx)("video",{className:"absolute inset-0 w-full h-full object-cover",src:"/mentors/Zak-onboarding.mp4",autoPlay:!0,loop:!0,muted:H,playsInline:!0}),(0,d.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-24 md:h-40 bg-gradient-to-t from-[#0d1317] to-transparent pointer-events-none"}),(0,d.jsx)("button",{onClick:()=>I(!H),className:"absolute bottom-4 left-4 md:bottom-6 md:left-6 z-10 w-10 h-10 md:w-12 md:h-12 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/20 transition-all",children:H?(0,d.jsx)(b2.A,{size:18,className:"md:w-5 md:h-5"}):(0,d.jsx)(b1.A,{size:18,className:"md:w-5 md:h-5"})})]}),(0,d.jsxs)("div",{className:"p-4 md:p-6 flex flex-col items-center gap-3 md:gap-4",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm md:text-lg font-medium italic",children:"Voir mon contenu personnalis\xe9"}),(0,d.jsx)("button",{onClick:()=>G(!0),className:"w-12 h-12 md:w-14 md:h-14 rounded-full border-2 border-gray-600 flex items-center justify-center text-gray-400 hover:border-gray-400 hover:text-gray-300 transition-all",children:(0,d.jsx)(au.A,{size:20,className:"md:w-6 md:h-6"})})]})]}),F&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-[#00c2ff] w-full",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4 md:gap-6 py-2.5 md:py-4 px-3 md:px-4",style:{fontSize:"16px"},children:[(0,d.jsx)("span",{className:"text-white font-bold tracking-wide uppercase whitespace-nowrap text-[10px] sm:text-xs md:text-base",children:"OFFRE NOUVELLE ANN\xc9E"}),(0,d.jsx)("span",{className:"px-2 md:px-3 py-1 md:py-1.5 bg-white rounded-full text-[#00c2ff] font-bold text-xs md:text-base",children:"-40%"}),(0,d.jsxs)("div",{className:"flex items-center gap-0.5 md:gap-1 text-white font-bold tabular-nums text-xs md:text-base",children:[(0,d.jsx)("span",{children:"02"}),(0,d.jsx)("span",{className:"text-white text-[8px] md:text-xs font-normal",children:"j"}),(0,d.jsx)("span",{children:"23"}),(0,d.jsx)("span",{className:"text-white text-[8px] md:text-xs font-normal",children:"h"}),(0,d.jsx)("span",{children:"59"}),(0,d.jsx)("span",{className:"text-white text-[8px] md:text-xs font-normal",children:"m"})]})]})}),(0,d.jsx)("div",{className:"w-full px-4 md:px-6 py-4 md:py-16",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,d.jsxs)("div",{className:"grid lg:grid-cols-12 gap-4 md:gap-12 mb-6 md:mb-16",children:[(0,d.jsxs)("div",{className:"lg:col-span-7",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 md:gap-6 mb-4 md:mb-10",children:[(0,d.jsx)("div",{className:"w-14 h-14 md:w-24 md:h-24 rounded-xl md:rounded-2xl border-2 md:border-[3px] border-[#00c2ff] flex items-center justify-center flex-shrink-0",children:(0,d.jsx)("span",{className:"text-2xl md:text-5xl lg:text-6xl font-extrabold text-white leading-none",style:{fontFamily:"'Parafina', sans-serif"},children:c.length})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h1",{className:"text-base md:text-4xl lg:text-5xl font-black !text-white leading-tight mb-0.5 md:mb-2 uppercase",style:{fontFamily:"var(--font-parafina)"},children:"Parcours con\xe7us pour toi"}),(0,d.jsxs)("p",{className:"text-xs md:text-lg !text-white/70",children:["bas\xe9s sur ",g.length," Mastery Programs"]})]})]}),(0,d.jsx)("div",{className:"space-y-2 md:space-y-3",children:em.map(a=>{let b=c.filter(b=>b.category.toLowerCase().includes(a.id)),e="physics"===a.id?"49â‚¬":"mathematics"===a.id?"59â‚¬":"45â‚¬",f="physics"===a.id?"129â‚¬":"mathematics"===a.id?"149â‚¬":"119â‚¬";return(0,d.jsxs)("div",{className:"p-3 md:p-4 bg-[#1a1f24] rounded-lg md:rounded-xl border border-gray-700/50 hover:border-[#00c2ff]/50 hover:bg-[#00c2ff]/5 transition-all cursor-pointer group",onClick:()=>{let b=document.getElementById(`carousel-${a.id}`);b&&b.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-0.5 md:mb-1",children:[(0,d.jsx)("span",{className:"text-sm md:text-lg font-semibold !text-white",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-2 relative",children:[(0,d.jsx)("span",{className:"text-xs md:text-sm text-white/40 line-through",children:f}),(0,d.jsx)("span",{className:"text-sm md:text-lg font-bold text-[#00c2ff] cursor-help",children:e}),(0,d.jsx)("div",{className:"hidden md:block absolute -top-12 right-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:(0,d.jsxs)("div",{className:"bg-white text-gray-900 text-xs px-3 py-2 rounded-lg shadow-xl whitespace-nowrap",children:["Acc\xe8s \xe0 vie + Parcours illimit\xe9s",(0,d.jsx)("div",{className:"absolute -bottom-1 right-4 w-2 h-2 bg-white transform rotate-45"})]})})]})]}),(0,d.jsxs)("p",{className:"text-xs md:text-sm",style:{color:"rgba(255, 255, 255, 0.85)"},children:["physics"===a.id?"47":"mathematics"===a.id?"63":"52"," chapitres â€¢ ",b.length," parcours cr\xe9\xe9s pour toi"]})]},a.id)})})]}),(0,d.jsxs)("div",{className:"lg:col-span-5 mt-3 lg:mt-0",children:[(0,d.jsxs)("div",{className:"bg-[#141414] rounded-xl p-4 md:p-6 border border-gray-800",children:[(0,d.jsxs)("div",{className:"space-y-3 mb-4 md:mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,d.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-[#00c2ff] rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(k.A,{className:"w-4 h-4 md:w-5 md:h-5 text-white",strokeWidth:3})}),(0,d.jsx)("span",{className:"text-white text-sm md:text-base",children:"Un Programme g\xe9n\xe8re autant de parcours personnalis\xe9s que tu veux."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,d.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-[#00c2ff] rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(k.A,{className:"w-4 h-4 md:w-5 md:h-5 text-white",strokeWidth:3})}),(0,d.jsx)("span",{className:"text-white text-sm md:text-base",children:"Paiement unique. Acc\xe8s \xe0 vie."})]})]}),(0,d.jsxs)("button",{onClick:()=>E(!0),className:"w-full bg-[#00c2ff] hover:bg-[#3ab5dc] text-white font-bold py-3 md:py-4 rounded-full text-sm md:text-lg transition-all mb-3 flex items-center justify-center gap-2",children:["Teste ton parcours â€“ 10h offertes",(0,d.jsx)(O.A,{size:18,className:"flex-shrink-0"})]}),(0,d.jsxs)("button",{onClick:()=>n("membership-plans"),className:"w-full bg-transparent hover:bg-white/5 text-white font-medium py-2.5 md:py-3 rounded-full text-sm md:text-lg transition-all border border-gray-600 flex items-center justify-center gap-2",children:["D\xe9bloquer mes programmes",(0,d.jsx)("span",{className:"w-5 h-5 rounded-full border border-white/50 flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(O.A,{size:10})})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-3 md:mt-4",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),(0,d.jsxs)("p",{className:"text-xs md:text-sm",style:{color:"rgba(255, 255, 255, 0.8)"},children:[(0,d.jsx)("span",{className:"font-bold text-white",children:"127"})," \xe9tudiants ont rejoint cette semaine"]})]})]})]}),g.map((a,b)=>{let e=c.filter(b=>b.category===a),f=a.toLowerCase().includes("physics")?"physics":a.toLowerCase().includes("math")?"mathematics":"chemistry";return(0,d.jsxs)("div",{id:`carousel-${f}`,className:"mb-8 md:mb-16 scroll-mt-24 md:scroll-mt-48",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3 md:mb-6",children:[(0,d.jsxs)("h2",{className:"text-base md:text-3xl font-bold !text-white",children:[a,(0,d.jsxs)("span",{className:"!text-white/70 font-normal text-xs md:text-lg ml-1.5 md:ml-3",children:[e.length," parcours"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-4",children:[(0,d.jsx)("button",{onClick:()=>{let b=a.toLowerCase().includes("physics")?"physics":a.toLowerCase().includes("math")?"math":"chemistry";window.open(`/assessment/${b}`,"_blank")},className:"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm font-medium text-white bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-full transition-colors",children:"Tester mes connaissances"}),(0,d.jsxs)("div",{className:"hidden md:flex gap-2",children:[(0,d.jsx)("button",{className:"w-10 h-10 rounded-full bg-gray-800/50 border border-gray-700 flex items-center justify-center text-gray-400 hover:border-gray-500 hover:text-white transition-all",children:(0,d.jsx)(C.A,{size:20})}),(0,d.jsx)("button",{className:"w-10 h-10 rounded-full bg-gray-800/50 border border-gray-700 flex items-center justify-center text-gray-400 hover:border-gray-500 hover:text-white transition-all",children:(0,d.jsx)(B.A,{size:20})})]})]})]}),(0,d.jsx)("div",{className:"flex gap-2.5 md:gap-4 overflow-x-auto pb-3 md:pb-4 scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:e.map(a=>(0,d.jsx)("div",{className:"flex-shrink-0 w-28 md:w-52 group cursor-pointer",onClick:()=>E(!0),children:(0,d.jsxs)("div",{className:"relative aspect-[3/4] bg-gradient-to-br from-gray-800 via-gray-700 to-gray-900 rounded-lg md:rounded-xl overflow-hidden mb-1.5 md:mb-3 transition-transform group-hover:scale-[1.02]",children:[(0,d.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-end p-2.5 md:p-4",children:[(0,d.jsx)("h3",{className:"!text-white font-bold text-sm md:text-xl leading-tight tracking-tight mb-0.5 md:mb-1",children:a.title}),(0,d.jsx)("div",{className:"w-5 md:w-8 h-0.5 bg-white/40 mb-1 md:mb-2"}),(0,d.jsx)("p",{className:"!text-white/80 text-[9px] md:text-xs font-medium",children:a.subtitle})]}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)("div",{className:"w-8 h-8 md:w-14 md:h-14 bg-white rounded-full flex items-center justify-center shadow-2xl",children:(0,d.jsx)(N.A,{className:"w-3 h-3 md:w-6 md:h-6 text-gray-900 ml-0.5",fill:"currentColor"})})})]})},a.id))})]},a)})]})})]})]}),"membership-intro"===m&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-full",children:[(0,d.jsx)("header",{className:"sticky top-0 bg-[#0d1317]/95 backdrop-blur-sm border-b border-gray-800 px-6 py-4 z-20",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"Science Made Simple",width:85,height:85}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:["Tes cours","Compte","Offre","Finaliser"].map((a,b)=>{let c=b<0,e=0===b;return(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full transition-all duration-300 ${c?"bg-[#00c2ff]":e?"bg-[#00c2ff] ring-[5px] ring-[#00c2ff]/30":"bg-gray-600"}`}),(0,d.jsx)("span",{className:`text-[11px] md:text-sm mt-2 font-semibold hidden md:block !text-white ${c||e?"opacity-100":"opacity-50"}`,children:a})]}),b<3&&(0,d.jsx)("div",{className:`w-10 md:w-16 h-1.5 rounded-full ${c?"bg-[#00c2ff]":"bg-gray-700"}`})]},a)})}),(0,d.jsx)("button",{onClick:()=>n("results"),className:"text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:24})})]})}),(0,d.jsx)("div",{className:"bg-[#00c2ff]/10 border-b border-[#00c2ff]/30 py-3 px-6",children:(0,d.jsxs)("p",{className:"text-center",children:[(0,d.jsx)("span",{className:"text-[#00c2ff] font-bold",children:"LIFETIME ACCESS"}),(0,d.jsx)("span",{className:"text-white ml-2",children:"Paiement unique"})]})}),(0,d.jsxs)("div",{className:"max-w-2xl mx-auto px-6 py-16",children:[(0,d.jsx)("h1",{className:"text-3xl md:text-4xl font-bold !text-white text-center mb-4",children:"Paiement unique. Acc\xe8s \xe0 vie."}),(0,d.jsx)("p",{className:"text-center text-gray-400 mb-12",children:"Pas d'abonnement. Pas de reconduction. Tu paies une fois, tu acc\xe8des pour toujours."}),(0,d.jsxs)("ul",{className:"space-y-6 mb-12",children:[(0,d.jsxs)("li",{className:"flex items-center gap-4",children:[(0,d.jsx)(k.A,{className:"w-6 h-6 text-[#00c2ff]",strokeWidth:2}),(0,d.jsx)("span",{className:"!text-white text-lg font-medium",children:"Acc\xe8s \xe0 vie \xe0 tes Mastery Programs"})]}),(0,d.jsxs)("li",{className:"flex items-center gap-4",children:[(0,d.jsx)(k.A,{className:"w-6 h-6 text-[#00c2ff]",strokeWidth:2}),(0,d.jsxs)("span",{className:"!text-white text-lg",children:[c.length,"+ cours vid\xe9o, enseign\xe9s par des experts"]})]}),(0,d.jsxs)("li",{className:"flex items-center gap-4",children:[(0,d.jsx)(k.A,{className:"w-6 h-6 text-[#00c2ff]",strokeWidth:2}),(0,d.jsx)("span",{className:"!text-white text-lg",children:"Mises \xe0 jour gratuites incluses \xe0 vie"})]})]}),(0,d.jsx)("button",{onClick:()=>n("account-creation"),className:"w-full bg-[#00c2ff] hover:bg-[#00d4ff] text-white font-bold py-4 px-8 rounded-lg text-lg transition-all",children:"Choisir mes programmes"})]})]}),"account-creation"===m&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-full",children:[(0,d.jsx)("header",{className:"sticky top-0 bg-[#0d1317]/95 backdrop-blur-sm border-b border-gray-800 px-6 py-4 z-20",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"Science Made Simple",width:85,height:85}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:["Offre","Compte","Finaliser"].map((a,b)=>{let c=b<1,e=1===b;return(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full transition-all duration-300 ${c?"bg-[#00c2ff]":e?"bg-[#00c2ff] ring-[5px] ring-[#00c2ff]/30":"bg-gray-600"}`}),(0,d.jsx)("span",{className:`text-[11px] md:text-sm mt-2 font-semibold hidden md:block !text-white ${c||e?"opacity-100":"opacity-50"}`,children:a})]}),b<2&&(0,d.jsx)("div",{className:`w-10 md:w-16 h-1.5 rounded-full ${c?"bg-[#00c2ff]":"bg-gray-700"}`})]},a)})}),(0,d.jsx)("button",{onClick:()=>n("membership-plans"),className:"text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:24})})]})}),(0,d.jsxs)("div",{className:"max-w-xl mx-auto px-6 py-12",children:[(0,d.jsxs)("div",{className:"text-center mb-10",children:[(0,d.jsx)("h1",{className:"text-3xl md:text-4xl font-bold !text-white mb-3",children:"Cr\xe9e ton compte pour s\xe9curiser ton acc\xe8s"}),(0,d.jsx)("p",{className:"!text-white/70 text-lg",children:"Ton compte te permettra d'acc\xe9der \xe0 tes programmes s\xe9lectionn\xe9s en toute s\xe9curit\xe9"})]}),(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium !text-white/80 mb-2",children:"Pr\xe9nom"}),(0,d.jsx)("input",{type:"text",value:aa.firstName,onChange:a=>ab(b=>({...b,firstName:a.target.value})),placeholder:"Jean",className:`w-full px-4 py-3.5 bg-gray-800/50 border ${ac.firstName?"border-red-500":"border-gray-700"} rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-[#00c2ff] focus:ring-1 focus:ring-[#00c2ff] transition-all`}),ac.firstName&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:ac.firstName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium !text-white/80 mb-2",children:"Nom"}),(0,d.jsx)("input",{type:"text",value:aa.lastName,onChange:a=>ab(b=>({...b,lastName:a.target.value})),placeholder:"Dupont",className:`w-full px-4 py-3.5 bg-gray-800/50 border ${ac.lastName?"border-red-500":"border-gray-700"} rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-[#00c2ff] focus:ring-1 focus:ring-[#00c2ff] transition-all`}),ac.lastName&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:ac.lastName})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium !text-white/80 mb-2",children:"Adresse email"}),(0,d.jsx)("input",{type:"email",value:aa.email,onChange:a=>ab(b=>({...b,email:a.target.value})),placeholder:"jean.dupont@email.com",className:`w-full px-4 py-3.5 bg-gray-800/50 border ${ac.email?"border-red-500":"border-gray-700"} rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-[#00c2ff] focus:ring-1 focus:ring-[#00c2ff] transition-all`}),ac.email&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:ac.email})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium !text-white/80 mb-2",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("input",{type:"tel",value:aa.phone,onChange:a=>{ab(b=>({...b,phone:a.target.value})),aj(!1),al(!1),ah("")},placeholder:"+32 470 12 34 56",disabled:ak,className:`flex-1 px-4 py-3.5 bg-gray-800/50 border ${ac.phone?"border-red-500":ak?"border-green-500":"border-gray-700"} rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-[#00c2ff] focus:ring-1 focus:ring-[#00c2ff] transition-all ${ak?"opacity-70":""}`}),!ak&&(0,d.jsx)("button",{type:"button",onClick:()=>{aa.phone.trim()&&(console.log("Sending OTP to:",aa.phone),aj(!0),an(""))},disabled:!aa.phone.trim()||ai,className:`px-4 py-3.5 rounded-xl font-medium transition-all whitespace-nowrap ${aa.phone.trim()&&!ai?"bg-[#00c2ff] hover:bg-[#00d4ff] text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ai?"Code envoy\xe9":"Envoyer code"}),ak&&(0,d.jsx)("div",{className:"flex items-center px-4 text-green-400",children:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),ac.phone&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:ac.phone})]}),ai&&!ak&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"overflow-hidden",children:[(0,d.jsx)("label",{className:"block text-sm font-medium !text-white/80 mb-2",children:"Code de v\xe9rification"}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("input",{type:"text",value:ag,onChange:a=>ah(a.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,className:`flex-1 px-4 py-3.5 bg-gray-800/50 border ${am?"border-red-500":"border-gray-700"} rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-[#00c2ff] focus:ring-1 focus:ring-[#00c2ff] transition-all text-center text-xl tracking-[0.5em] font-mono`}),(0,d.jsx)("button",{type:"button",onClick:()=>{"123456"===ag||6===ag.length?(al(!0),an("")):an("Code invalide")},disabled:6!==ag.length,className:`px-6 py-3.5 rounded-xl font-medium transition-all ${6===ag.length?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"V\xe9rifier"})]}),am&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1",children:am}),(0,d.jsx)("button",{type:"button",onClick:()=>{console.log("Resending OTP to:",aa.phone)},className:"text-[#00c2ff] hover:text-[#00d4ff] text-sm mt-2 transition-colors",children:"Renvoyer le code"})]}),(0,d.jsxs)("div",{className:"pt-4",children:[(0,d.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,d.jsxs)("div",{className:"relative mt-0.5",children:[(0,d.jsx)("input",{type:"checkbox",checked:ae,onChange:a=>af(a.target.checked),className:"sr-only"}),(0,d.jsx)("div",{className:`w-5 h-5 rounded border-2 transition-all flex items-center justify-center ${ae?"bg-[#00c2ff] border-[#00c2ff]":"border-gray-500 group-hover:border-gray-400"}`,children:ae&&(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),(0,d.jsxs)("span",{className:"text-sm text-gray-300 leading-relaxed",children:["J'accepte les"," ",(0,d.jsx)("a",{href:"/terms",target:"_blank",className:"text-[#00c2ff] hover:text-[#00d4ff] underline",children:"Conditions G\xe9n\xe9rales d'Utilisation"})," ","et la"," ",(0,d.jsx)("a",{href:"/privacy",target:"_blank",className:"text-[#00c2ff] hover:text-[#00d4ff] underline",children:"Politique de Confidentialit\xe9"})]})]}),ac.terms&&(0,d.jsx)("p",{className:"text-red-400 text-sm mt-1 ml-8",children:ac.terms})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-sm pt-2",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,d.jsx)("span",{children:"Tes donn\xe9es sont s\xe9curis\xe9es et ne seront jamais partag\xe9es"})]}),(0,d.jsx)("button",{onClick:()=>{let a={};if(aa.firstName.trim()||(a.firstName="Pr\xe9nom requis"),aa.lastName.trim()||(a.lastName="Nom requis"),aa.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(aa.email)||(a.email="Email invalide"):a.email="Email requis",aa.phone.trim()||(a.phone="T\xe9l\xe9phone requis"),ak||(a.phone="V\xe9rifie ton num\xe9ro avec le code SMS"),ae||(a.terms="Tu dois accepter les conditions"),ad(a),0===Object.keys(a).length){console.log("Creating account:",aa);let a=s.join(","),b=x?"&boosters=true":"";window.open(`https://buy.stripe.com/checkout?programs=${a}&total=${ao}${b}&email=${encodeURIComponent(aa.email)}&name=${encodeURIComponent(aa.firstName+" "+aa.lastName)}`,"_blank")}},disabled:!aa.firstName||!aa.lastName||!aa.email||!ak||!ae,className:`w-full py-4 px-8 rounded-xl text-lg font-bold transition-all mt-4 ${aa.firstName&&aa.lastName&&aa.email&&ak&&ae?"bg-[#00c2ff] hover:bg-[#00d4ff] text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Finaliser mon acc\xe8s"})]})]})]}),"membership-plans"===m&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-full bg-[#0a0c10]",children:[(0,d.jsx)("header",{className:"sticky top-0 bg-[#0a0c10]/95 backdrop-blur-sm border-b border-white/5 px-6 py-4 z-20",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"Science Made Simple",width:85,height:85}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:["Offre","Compte","Finaliser"].map((a,b)=>{let c=b<0,e=0===b;return(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full transition-all duration-300 ${c?"bg-[#00c2ff]":e?"bg-[#00c2ff] ring-[5px] ring-[#00c2ff]/30":"bg-gray-600"}`}),(0,d.jsx)("span",{className:`text-[11px] md:text-sm mt-2 font-semibold hidden md:block !text-white ${c||e?"opacity-100":"opacity-50"}`,children:a})]}),b<2&&(0,d.jsx)("div",{className:`w-10 md:w-16 h-1.5 rounded-full ${c?"bg-[#00c2ff]":"bg-gray-700"}`})]},a)})}),(0,d.jsx)("button",{onClick:()=>n("results"),className:"text-gray-400 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:24})})]})}),(0,d.jsx)("div",{className:"bg-[#00c2ff] py-3 px-4",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-6 text-white",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(u.A,{size:18}),(0,d.jsx)("span",{className:"font-medium",children:"Offre Sp\xe9ciale -40%"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Expire dans"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 font-mono font-bold",children:[(0,d.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded",children:"02"}),(0,d.jsx)("span",{children:":"}),(0,d.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded",children:"47"}),(0,d.jsx)("span",{children:":"}),(0,d.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded",children:"33"})]})]})]})}),(0,d.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-10",children:(0,d.jsxs)("div",{className:"grid lg:grid-cols-3 gap-10",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,d.jsxs)("section",{children:[(0,d.jsx)("h2",{className:"text-3xl font-bold !text-white mb-6",children:"Choisis tes programmes"}),(0,d.jsx)("div",{className:"space-y-3",children:em.map(a=>{let b=Math.round(.6*a.price);return(0,d.jsx)("div",{onClick:()=>{var b;return b=a.id,void w(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`relative px-5 py-4 rounded-xl cursor-pointer transition-all border-2 ${s.includes(a.id)?"bg-[#00c2ff]/10 border-[#00c2ff]":"bg-transparent border-white/10 hover:border-white/20"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:`w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all ${s.includes(a.id)?"bg-[#00c2ff] border-[#00c2ff]":"border-white/30 bg-transparent"}`,children:s.includes(a.id)&&(0,d.jsx)(k.A,{size:16,className:"text-white",strokeWidth:3})}),(0,d.jsx)("span",{className:"font-semibold text-white",style:{fontSize:"19px"},children:a.name})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("span",{className:"text-white/40 line-through text-sm",children:["$",a.price]}),(0,d.jsxs)("span",{className:"text-xl font-bold text-white",children:["$",b]}),(0,d.jsxs)("span",{className:"px-2.5 py-1 bg-[#00c2ff] text-white text-xs font-bold rounded-md",children:["-",40,"%"]})]})]})},a.id)})})]}),(0,d.jsxs)("section",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold !text-white",children:"Boosters"}),(0,d.jsx)("span",{className:"text-sm text-white/50",children:"Optionnel"})]}),(0,d.jsx)("div",{onClick:()=>y(!x),className:`relative px-5 py-4 rounded-xl cursor-pointer transition-all border-2 ${x?"bg-[#00c2ff]/10 border-[#00c2ff]":"bg-transparent border-white/10 hover:border-white/20"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:`w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all ${x?"bg-[#00c2ff] border-[#00c2ff]":"border-white/30 bg-transparent"}`,children:x&&(0,d.jsx)(k.A,{size:16,className:"text-white",strokeWidth:3})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"font-semibold text-white",style:{fontSize:"19px"},children:"Pack Complet (4 Boosters)"}),(0,d.jsx)("span",{className:"px-2 py-0.5 bg-[#00c2ff] text-white text-xs font-bold rounded-md",children:"-25%"})]}),(0,d.jsx)("p",{className:"text-sm !text-white/90 mt-0.5",children:"Planification \xb7 Study Rooms \xb7 Suivi Apprentissage \xb7 Examen blanc"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-white/40 line-through text-sm",children:"$60"}),(0,d.jsx)("span",{className:"text-xl font-bold text-white",children:"$45"}),(0,d.jsx)("span",{className:"text-white/50 text-sm",children:"/mois"})]})]})})]}),(0,d.jsxs)("section",{children:[(0,d.jsx)("h3",{className:"font-bold !text-white mb-6",style:{fontSize:"26px"},children:"Paiement unique. Acc\xe8s \xe0 vie."}),(0,d.jsx)("div",{className:"space-y-4",children:["Tu paies une fois, tu acc\xe8des pour toujours.","Mises \xe0 jour gratuites incluses \xe0 vie","...","..."].map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(k.A,{size:20,className:"text-[#00c2ff] flex-shrink-0"}),(0,d.jsx)("span",{className:"text-white/90",children:a})]},b))})]}),(0,d.jsxs)("section",{children:[(0,d.jsx)("h3",{className:"font-semibold !text-white mb-4",style:{fontSize:"26px"},children:"Questions fr\xe9quentes"}),(0,d.jsx)("div",{className:"bg-[#12161a] rounded-2xl border border-white/10 p-4",children:[{q:"L'acc\xe8s est-il vraiment \xe0 vie ?",a:"Oui, une fois que vous achetez un programme, vous y avez acc\xe8s pour toujours. Cela inclut toutes les mises \xe0 jour futures du contenu."},{q:"Puis-je annuler les boosters \xe0 tout moment ?",a:"Absolument. Le pack boosters est un abonnement mensuel sans engagement. Vous pouvez l'annuler en un clic."},{q:"Comment fonctionne la garantie ?",a:"Vous avez 14 jours pour tester nos cours. Si vous n'\xeates pas satisfait, nous vous remboursons int\xe9gralement."}].map((a,b)=>(0,d.jsxs)("div",{className:"border-b border-white/10 last:border-0",children:[(0,d.jsxs)("button",{onClick:()=>A(z===`faq-${b}`?null:`faq-${b}`),className:"w-full py-4 flex items-center justify-between text-left",children:[(0,d.jsx)("span",{className:"font-medium text-white pr-4",children:a.q}),(0,d.jsx)(au.A,{className:`w-5 h-5 text-white/60 transition-transform ${z===`faq-${b}`?"rotate-180":""}`})]}),z===`faq-${b}`&&(0,d.jsx)("p",{className:"pb-4 text-white/60 text-sm",children:a.a})]},b))})]})]}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)("div",{className:"sticky top-24",children:[(0,d.jsxs)("div",{className:"bg-[#12161a] rounded-2xl border border-white/10 overflow-hidden",children:[(0,d.jsx)("div",{className:"p-5 border-b border-white/10",children:(0,d.jsx)("h3",{className:"text-xl font-bold !text-white",children:"R\xe9capitulatif"})}),(0,d.jsx)("div",{className:"p-5 space-y-3 border-b border-white/10",children:0===s.length?(0,d.jsx)("p",{className:"text-white/40 text-sm text-center py-4",children:"S\xe9lectionne au moins un programme"}):(0,d.jsxs)(d.Fragment,{children:[em.filter(a=>s.includes(a.id)).map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-white",style:{fontSize:"13px"},children:a.name}),(0,d.jsxs)("span",{className:"text-white font-medium",style:{fontSize:"16px"},children:["$",Math.round(.6*a.price)]})]},a.id)),x&&(0,d.jsx)("div",{className:"pt-3 mt-3 border-t border-white/10",children:(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-white/70",children:"Pack Boosters"}),(0,d.jsx)("span",{className:"text-white/70",children:"$45/mois"})]})})]})}),(0,d.jsxs)("div",{className:"p-5 space-y-3 border-b border-white/10",children:[s.length>0&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm text-green-400",children:[(0,d.jsx)("span",{children:"\xc9conomies"}),(0,d.jsxs)("span",{children:["-$",s.reduce((a,b)=>{let c=em.find(a=>a.id===b);return a+(c?Math.round(.4*c.price):0)},0)]})]}),(0,d.jsx)("div",{className:"pt-2 border-t border-white/10",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-white font-semibold",children:"Total aujourd'hui"}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("span",{className:"text-2xl font-bold text-white",children:["$",s.reduce((a,b)=>{let c=em.find(a=>a.id===b);return a+(c?Math.round(.6*c.price):0)},0)]}),x&&(0,d.jsx)("p",{className:"text-xs text-white/50",children:"+ $45/mois"})]})]})})]}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsxs)("button",{onClick:()=>n("account-creation"),disabled:0===s.length,className:`w-full py-4 font-bold text-lg rounded-full flex items-center justify-center gap-2 transition-all ${0===s.length?"bg-white/10 text-white/40 cursor-not-allowed":"bg-[#00c2ff] text-white hover:bg-[#00d4ff]"}`,children:["Continuer",(0,d.jsx)(O.A,{size:18})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-white/40",children:[(0,d.jsx)("span",{children:"Stripe"}),(0,d.jsx)("span",{children:"â€¢"}),(0,d.jsx)("span",{children:"PayPal"}),(0,d.jsx)("span",{children:"â€¢"}),(0,d.jsx)("span",{children:"Apple Pay"})]})})]})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold !text-white",children:"Ils ont r\xe9ussi avec SMS"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>$(a=>Math.max(0,a-1)),className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors disabled:opacity-30",disabled:0===Z,children:(0,d.jsx)(C.A,{size:16,className:"text-white"})}),(0,d.jsx)("button",{onClick:()=>$(a=>Math.min(Math.ceil(_.length/2)-1,a+1)),className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors disabled:opacity-30",disabled:Z>=Math.ceil(_.length/2)-1,children:(0,d.jsx)(B.A,{size:16,className:"text-white"})})]})]}),(0,d.jsx)("div",{className:"overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"flex gap-3",animate:{x:-(100*Z)+"%"},transition:{type:"spring",stiffness:300,damping:30},children:Array.from({length:Math.ceil(_.length/2)}).map((a,b)=>(0,d.jsx)("div",{className:"min-w-full space-y-3",children:_.slice(2*b,2*b+2).map((a,b)=>(0,d.jsxs)("div",{className:"p-4 bg-[#12161a] rounded-xl border border-white/10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-xl",children:a.avatar}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-semibold text-white text-sm",children:a.name}),(0,d.jsx)("div",{className:"text-xs text-white/50",children:a.role})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-0.5 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(P.A,{size:12,className:"text-yellow-400 fill-yellow-400"},b))}),(0,d.jsxs)("p",{className:"!text-white/90 text-sm mb-2",children:['"',a.text,'"']}),(0,d.jsx)("div",{className:"text-xs text-[#00c2ff]",children:a.program})]},b))},b))})}),(0,d.jsx)("div",{className:"flex justify-center gap-1.5 mt-3",children:Array.from({length:Math.ceil(_.length/2)}).map((a,b)=>(0,d.jsx)("button",{onClick:()=>$(b),className:`w-2 h-2 rounded-full transition-colors ${Z===b?"bg-[#00c2ff]":"bg-white/20"}`},b))})]})]})})]})}),(0,d.jsxs)("a",{href:"https://wa.me/33612345678",target:"_blank",rel:"noopener noreferrer",className:"fixed right-4 bottom-6 md:right-6 md:bottom-auto md:top-[60%] md:-translate-y-1/2 z-50 px-4 py-3 md:px-6 md:py-4 bg-[#25D366] rounded-full text-white font-semibold flex items-center gap-2 md:gap-3 hover:bg-[#20bd5a] transition-all shadow-lg shadow-[#25D366]/30 hover:scale-105 text-sm md:text-base",children:[(0,d.jsx)("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 md:w-6 md:h-6 fill-current",children:(0,d.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"On t'\xe9coute"]})]}),(0,d.jsx)(ek,{isOpen:D,onClose:()=>E(!1),onSuccess:()=>{E(!1),b()}})]})}):null}let eq={subjects:[{id:"all",label:"Tout",emoji:"\uD83D\uDCDA"},{id:"physics",label:"Physique",emoji:"âš›ï¸"},{id:"chemistry",label:"Chimie",emoji:"\uD83E\uDDEA"},{id:"mathematics",label:"Math\xe9matiques",emoji:"\uD83D\uDCCA"},{id:"biology",label:"Biologie",emoji:"\uD83E\uDDEC"}],trends:[{id:"popular",label:"Populaires",emoji:"\uD83D\uDD25"},{id:"new",label:"Nouveaux",emoji:"\uD83E\uDDE0"},{id:"recommended",label:"Recommand\xe9s",emoji:"\uD83C\uDFAF"}]};function er(a){let b=a.id.toLowerCase(),c=a.title.toLowerCase();return b.includes("force")||b.includes("gauss")||b.includes("electro")||c.includes("force")||c.includes("gauss")||c.includes("\xe9lectro")||c.includes("mouvement")||c.includes("physique")?"physics":b.includes("equilibre")||b.includes("chimie")||c.includes("\xe9quilibre")||c.includes("chimie")||c.includes("r\xe9action")?"chemistry":b.includes("integral")||b.includes("math")||b.includes("calcul")||c.includes("int\xe9grale")||c.includes("math\xe9matique")||c.includes("calcul")?"mathematics":"biology"}function es(a){return Math.abs(a.id.split("").reduce((a,b)=>(a=(a<<5)-a+b.charCodeAt(0))&a,0))%3==0}var et=c(16945),eu=c(4386);function ev({userId:a,userName:b,onNavigateToBuddies:c}){let[f,g]=(0,e.useState)([]),[h,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!0);return l?(0,d.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Chargement..."})]}):(0,d.jsx)("div",{className:"space-y-4",children:0===f.length?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"email",placeholder:"Email de ton buddy...",className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all"}),(0,d.jsx)("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:"Inviter"})]}),(0,d.jsxs)("p",{className:"text-center text-sm text-gray-400",children:["Ou ",(0,d.jsx)("button",{onClick:c,className:"text-gray-600 underline hover:text-gray-900",children:"partager un lien d'invitation"})]})]}):(0,d.jsxs)("div",{className:"space-y-3",children:[f.slice(0,3).map(b=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:b.buddyName.charAt(0)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:b.buddyName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:{parent:"Parent/Tuteur",friend:"Ami",closeFriend:"Ami Proche"}[b.type]})]})]}),(0,d.jsxs)("button",{onClick:()=>(b=>{let c=h.includes(b)?h.filter(a=>a!==b):[...h,b];i(c),localStorage.setItem(`planner_alert_buddies_${a}`,JSON.stringify(c))})(b.buddyId),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${h.includes(b.buddyId)?"bg-gray-900 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:[(0,d.jsx)(c5.A,{size:14}),h.includes(b.buddyId)?"Alertes on":"Alertes off"]})]},b.id)),(0,d.jsxs)("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-200 rounded-xl text-gray-500 hover:border-gray-300 hover:text-gray-700 transition-colors",children:[(0,d.jsx)(D.A,{size:18}),(0,d.jsx)("span",{className:"font-medium",children:"Ajouter un buddy"})]})]})})}let ew=(0,_.A)("badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),ex=(0,_.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ey=(0,_.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);class ez{static{this.STORAGE_KEY="exam_dates_v2_scenarios"}static{this.VALIDATION_THRESHOLD=3}static getAllExamDates(a){let b=localStorage.getItem(this.STORAGE_KEY);if(!b){let b=this.generateMockData(a);return this.saveToStorage(b),b}try{return JSON.parse(b).filter(b=>b.faculty===a)}catch(b){return console.error("Erreur lors du chargement des dates d'examen:",b),this.generateMockData(a)}}static getExamDateByCourse(a,b){return this.getAllExamDates(b).find(b=>b.courseId===a)||null}static proposeExamDate(a){let b=this.loadAllData(),c=b.find(b=>b.courseId===a.courseId&&b.faculty===a.faculty),d={id:`proposal_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,courseId:a.courseId,facultyId:a.faculty,proposedDate:a.proposedDate,proposedBy:a.proposedBy,proposedByName:a.proposedByName,proposedAt:new Date,status:"pending",confirmations:[],corrections:[]};if(c)c.currentProposal&&c.previousProposals.push(c.currentProposal),c.currentProposal=d,c.status="proposed",c.lastUpdated=new Date;else{let c={courseId:a.courseId,courseName:this.getCourseNameById(a.courseId),faculty:a.faculty,status:"proposed",currentProposal:d,previousProposals:[],lastUpdated:new Date,totalStudentsInCourse:45,participatingStudents:1};b.push(c)}return this.saveToStorage(b),d}static confirmExamDate(a,b,c,d){let e=this.loadAllData(),f=e.find(b=>b.currentProposal?.id===a);if(!f||!f.currentProposal||f.currentProposal.confirmations.some(a=>a.confirmedBy===b)||f.currentProposal.proposedBy===b)return!1;let g={id:`conf_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,proposalId:a,confirmedBy:b,confirmedByName:c,confirmedAt:new Date,faculty:d};return f.currentProposal.confirmations.push(g),f.participatingStudents=Math.max(f.participatingStudents,f.currentProposal.confirmations.length+1),f.currentProposal.confirmations.length>=this.VALIDATION_THRESHOLD&&(f.currentProposal.status="community-validated",f.status="community-validated"),f.lastUpdated=new Date,this.saveToStorage(e),!0}static correctExamDate(a,b,c,d,e){let f=this.loadAllData(),g=f.find(b=>b.currentProposal?.id===a);if(!g||!g.currentProposal||g.currentProposal.proposedBy===c)return null;let h={id:`corr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,originalProposalId:a,correctedBy:c,correctedByName:d,correctedAt:new Date,newProposedDate:b,reason:e};g.currentProposal.corrections.push(h);let i={id:`proposal_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,courseId:g.courseId,facultyId:g.faculty,proposedDate:b,proposedBy:c,proposedByName:d,proposedAt:new Date,status:"pending",confirmations:[],corrections:[]};return g.previousProposals.push(g.currentProposal),g.currentProposal=i,g.status="proposed",g.lastUpdated=new Date,this.saveToStorage(f),h}static canUserInteract(a,b){if(!a.currentProposal||"official"===a.status)return{canConfirm:!1,canCorrect:!1};let c=a.currentProposal.proposedBy===b,d=a.currentProposal.confirmations.some(a=>a.confirmedBy===b);return{canConfirm:!c&&!d,canCorrect:!c}}static loadAllData(){let a=localStorage.getItem(this.STORAGE_KEY);if(!a)return[];try{return JSON.parse(a)}catch(a){return console.error("Erreur lors du chargement des donn\xe9es:",a),[]}}static saveToStorage(a){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}catch(a){console.error("Erreur lors de la sauvegarde:",a)}}static getCourseNameById(a){return({"suites-limites":"Suites et Limites","loi-gauss":"Loi de Gauss",integrales:"Int\xe9grales et Applications",mecanique:"M\xe9canique Classique","analyse-math":"Analyse Math\xe9matique I",equilibres:"\xc9quilibres Chimiques",forces:"Forces et Mouvement"})[a]||"Cours Inconnu"}static generateMockData(a){return[{courseId:"suites-limites",courseName:"Suites et Limites",faculty:a,status:"official",officialDate:new Date("2025-01-08"),officialSource:"Secr\xe9tariat Acad\xe9mique",previousProposals:[],lastUpdated:new Date("2024-12-01"),totalStudentsInCourse:67,participatingStudents:0},{courseId:"loi-gauss",courseName:"Loi de Gauss",faculty:a,status:"official",officialDate:new Date("2025-01-28"),officialSource:"Base de Donn\xe9es Acad\xe9mique",previousProposals:[],lastUpdated:new Date("2024-12-15"),totalStudentsInCourse:45,participatingStudents:0},{courseId:"integrales",courseName:"Int\xe9grales et Applications",faculty:a,status:"proposed",currentProposal:{id:"proposal_integrales_1",courseId:"integrales",facultyId:a,proposedDate:new Date("2025-02-12T10:00:00"),proposedBy:"student_marie",proposedByName:"Marie Dubois",proposedAt:new Date(Date.now()-432e6),status:"pending",confirmations:[{id:"conf_integrales_1",proposalId:"proposal_integrales_1",confirmedBy:"student_lucas",confirmedByName:"Lucas Martin",confirmedAt:new Date(Date.now()-3456e5),faculty:a},{id:"conf_integrales_2",proposalId:"proposal_integrales_1",confirmedBy:"student_emma",confirmedByName:"Emma Bernard",confirmedAt:new Date(Date.now()-2592e5),faculty:a}],corrections:[]},previousProposals:[],lastUpdated:new Date(Date.now()-2592e5),totalStudentsInCourse:38,participatingStudents:3},{courseId:"equilibres",courseName:"\xc9quilibres Chimiques",faculty:a,status:"proposed",currentProposal:{id:"proposal_equilibres_1",courseId:"equilibres",facultyId:a,proposedDate:new Date("2025-01-30T14:00:00"),proposedBy:"current_user",proposedByName:"\xc9tudiant SMS",proposedAt:new Date(Date.now()-1728e5),status:"pending",confirmations:[],corrections:[]},previousProposals:[],lastUpdated:new Date(Date.now()-1728e5),totalStudentsInCourse:52,participatingStudents:1},{courseId:"forces",courseName:"Forces et Mouvement",faculty:a,status:"undefined",previousProposals:[],lastUpdated:new Date,totalStudentsInCourse:41,participatingStudents:0}]}static resetData(){localStorage.removeItem(this.STORAGE_KEY)}static forceReloadData(a){localStorage.removeItem(this.STORAGE_KEY);let b=this.generateMockData(a);this.saveToStorage(b)}static debugLog(){console.log("\uD83D\uDCC5 Donn\xe9es des dates d'examen:",this.loadAllData())}}function eA({isOpen:a,onClose:b,onPropose:c,courseId:f,courseName:g,faculty:j,userId:k,userName:l}){let[m,n]=(0,e.useState)(""),[p,q]=(0,e.useState)("09:00"),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(""),w=async a=>{if(a.preventDefault(),!m)return void u("Veuillez s\xe9lectionner une date");let d=new Date(`${m}T${p}:00`);if(d<=new Date)return void u("La date d'examen doit \xeatre dans le futur");s(!0),u("");try{c({courseId:f,proposedDate:d,proposedBy:k,proposedByName:l,faculty:j}),b(),n(""),q("09:00")}catch(a){u("Erreur lors de la proposition de date")}finally{s(!1)}},x=()=>{r||(n(""),q("09:00"),u(""),b())};return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",onClick:x,children:(0,d.jsxs)(h.P.div,{initial:{scale:.9,opacity:0,y:-10},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl max-w-md w-[95vw] md:w-full shadow-2xl border border-gray-200",style:{boxShadow:"0 20px 60px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)"},onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,d.jsx)(o.A,{className:"text-blue-600",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Proposer une date"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:g})]})]}),(0,d.jsx)("button",{onClick:x,disabled:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,d.jsx)(v.A,{size:20,className:"text-gray-400"})})]})}),(0,d.jsx)("div",{className:"p-6 bg-blue-50 border-b border-blue-100",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,d.jsx)(dJ.A,{className:"text-blue-600",size:16})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-blue-900 mb-1",children:"Proposition participative"}),(0,d.jsx)("p",{className:"text-sm text-blue-800 leading-relaxed",children:"Votre proposition sera visible aux autres \xe9tudiants de votre facult\xe9 inscrits \xe0 ce cours. Elle sera valid\xe9e si plusieurs \xe9tudiants la confirment."})]})]})}),(0,d.jsxs)("form",{onSubmit:w,className:"p-6",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Date d'examen *"}),(0,d.jsx)("input",{type:"date",value:m,onChange:a=>n(a.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Heure d'examen"}),(0,d.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,d.jsx)("option",{value:"08:00",children:"08h00"}),(0,d.jsx)("option",{value:"09:00",children:"09h00"}),(0,d.jsx)("option",{value:"10:00",children:"10h00"}),(0,d.jsx)("option",{value:"11:00",children:"11h00"}),(0,d.jsx)("option",{value:"13:00",children:"13h00"}),(0,d.jsx)("option",{value:"14:00",children:"14h00"}),(0,d.jsx)("option",{value:"15:00",children:"15h00"}),(0,d.jsx)("option",{value:"16:00",children:"16h00"})]})]}),t&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[(0,d.jsx)(X.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:t})]}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(M.A,{className:"text-green-600 mt-0.5",size:16}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Conseil collaboratif"}),(0,d.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Proposez une date r\xe9aliste en tenant compte des autres examens et du temps de r\xe9vision n\xe9cessaire. Les autres \xe9tudiants pourront confirmer ou proposer une correction."})]})]})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mt-8",children:[(0,d.jsx)("button",{type:"button",onClick:x,disabled:r,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-colors disabled:opacity-50",children:"Annuler"}),(0,d.jsx)("button",{type:"submit",disabled:r||!m,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Proposition..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{size:16}),(0,d.jsx)("span",{children:"Proposer cette date"})]})})]})]})]})})}):null}function eB({examDate:a,userId:b,userName:c,faculty:f,onConfirm:g,onCorrect:i,canConfirm:j,canCorrect:k}){let l,[m,n]=(0,e.useState)(!1),[p,r]=(0,e.useState)(!1),s=a.currentProposal;if(!s||"official"===a.status)return null;let u=async()=>{if(j&&s){r(!0);try{g(s.id)}finally{r(!1)}}},v=(()=>{if(!s)return null;let a=s.confirmations.length;return"community-validated"===s.status?{icon:M.A,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",title:"Date valid\xe9e par la communaut\xe9",subtitle:`Confirm\xe9e par ${a} \xe9tudiant(s)`}:{icon:t.A,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",title:"Date propos\xe9e (en attente de validation)",subtitle:`${a} confirmation(s) - 3 n\xe9cessaires pour valider`}})(),w=v?.icon||t.A;return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:`p-4 rounded-xl border ${v?.borderColor} ${v?.bgColor}`,children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(w,{className:`${v?.color} mt-0.5`,size:20}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900",children:v?.title}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,d.jsx)(q.A,{size:12}),(0,d.jsxs)("span",{children:[a.participatingStudents," participants"]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{size:16,className:"text-gray-400"}),(0,d.jsx)("span",{className:"font-medium text-gray-900",children:(l=s.proposedDate,new Intl.DateTimeFormat("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(l)))})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Propos\xe9 par ",(0,d.jsx)("span",{className:"font-medium",children:s.proposedByName})," â€¢ ",v?.subtitle]})]}),s.confirmations.length>0&&(0,d.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Confirmations :"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:s.confirmations.map((a,b)=>(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:[(0,d.jsx)(M.A,{size:10}),a.confirmedByName]},a.id))})]})]})]})}),"pending"===s.status&&(j||k)&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3",children:[j&&(0,d.jsxs)("button",{onClick:u,disabled:p,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:[p?(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,d.jsx)(M.A,{size:16}),(0,d.jsx)("span",{children:"Confirmer"})]}),k&&(0,d.jsxs)("button",{onClick:()=>n(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-xl font-medium hover:bg-orange-700 transition-colors",children:[(0,d.jsx)(ey,{size:16}),(0,d.jsx)("span",{children:"Corriger"})]})]}),s.proposedBy===b&&"pending"===s.status&&(0,d.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(t.A,{size:18,className:"text-blue-600"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Votre proposition a \xe9t\xe9 soumise"}),(0,d.jsxs)("p",{className:"text-xs text-blue-700",children:["En attente de validation par ",3-s.confirmations.length," autre(s) \xe9tudiant(s) de votre facult\xe9"]})]})]}),s.proposedBy!==b&&!j&&!k&&"pending"===s.status&&(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-600",children:[(0,d.jsx)(M.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:"Vous avez d\xe9j\xe0 interagi avec cette proposition"})]}),(0,d.jsx)(eA,{isOpen:m,onClose:()=>n(!1),onPropose:a=>{s&&(i(s.id,a.proposedDate,"Date corrig\xe9e par un pair"),n(!1))},courseId:a.courseId,courseName:a.courseName,faculty:f,userId:b,userName:c})]})}function eC({favoriteCourses:a,focusedCourse:b,userId:c,userName:f,faculty:g}){let[h,i]=(0,e.useState)({examDates:[],isLoading:!0,error:null,userCanPropose:!0,userFaculty:g,userId:c}),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(null),n=()=>{i(a=>({...a,isLoading:!0,error:null}));try{let a=ez.getAllExamDates(g);i(b=>({...b,examDates:a,isLoading:!1}))}catch(a){i(a=>({...a,error:"Erreur lors du chargement des dates d'examen",isLoading:!1}))}},o=a=>{try{ez.confirmExamDate(a,c,f,g)&&n()}catch(a){console.error("Erreur lors de la confirmation:",a)}},p=(a,b,d)=>{try{ez.correctExamDate(a,b,c,f,d)&&n()}catch(a){console.error("Erreur lors de la correction:",a)}},q=a=>h.examDates.find(b=>b.courseId===a)||null,r=a=>new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short"}).format(new Date(a));return h.isLoading?(0,d.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,d.jsx)("div",{className:"w-6 h-6 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{className:"ml-3 text-gray-600",children:"Chargement des dates d'examen..."})]}):h.error?(0,d.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,d.jsx)(X.A,{size:16}),(0,d.jsx)("span",{className:"text-sm",children:h.error})]})}):(0,d.jsxs)("div",{className:"space-y-4",children:[b&&(0,d.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(ew,{className:"text-emerald-600",size:16}),(0,d.jsxs)("p",{className:"text-sm font-medium text-emerald-800",children:["Configuration pour le cours : ",(0,d.jsx)("span",{className:"font-semibold",children:b.title})]})]}),(()=>{let a=q(b.id);return a?.status==="official"&&a.officialDate?(0,d.jsxs)("p",{className:"text-xs text-emerald-700",children:["Examen officiel le ",r(a.officialDate)]}):a?.currentProposal?(0,d.jsxs)("p",{className:"text-xs text-emerald-700",children:["Date propos\xe9e le ",r(a.currentProposal.proposedDate)]}):(0,d.jsx)("p",{className:"text-xs text-emerald-700",children:"Aucune date d\xe9finie - Vous pouvez en proposer une"})})()]}),a.map(a=>{let e=b&&a.id===b.id,h=q(a.id);return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:`p-3 rounded-lg transition-all ${e?"bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 ring-2 ring-emerald-200":"bg-gray-50"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:a.title}),void 0!==a.progress&&(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:(0,d.jsx)("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),(0,d.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:[a.progress,"%"]})]})]}),(0,d.jsx)("div",{className:"text-right ml-4",children:(()=>{if(h?.status==="official"&&h.officialDate)return(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:r(h.officialDate)}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(a=>{let b=Math.ceil((new Date(a).getTime()-Date.now())/864e5);return b<0?"Pass\xe9":0===b?"Aujourd'hui":1===b?"Demain":b<7?`${b} jours`:b<30?`${Math.ceil(b/7)} sem.`:`${Math.ceil(b/30)} mois`})(h.officialDate)})]}),(0,d.jsx)(M.A,{className:"text-green-600",size:16})]});if(h?.currentProposal){let a="community-validated"===h.currentProposal.status;return(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:r(h.currentProposal.proposedDate)}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(M.A,{size:10,className:"text-green-600"}),(0,d.jsx)("span",{children:"Valid\xe9e"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.A,{size:10,className:"text-orange-600"}),(0,d.jsx)("span",{children:"Propos\xe9e"})]})})]}),a?(0,d.jsx)(M.A,{className:"text-green-600",size:16}):(0,d.jsx)(ex,{className:"text-orange-600",size:16})]})}return(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"Non d\xe9finie"}),(0,d.jsx)("button",{onClick:()=>{m({id:a.id,title:a.title}),k(!0)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Proposer une date",children:(0,d.jsx)(ey,{className:"text-gray-500",size:14})})]})})()})]})}),h?.currentProposal&&"official"!==h.status&&(0,d.jsx)(eB,{examDate:h,userId:c,userName:f,faculty:g,onConfirm:o,onCorrect:p,canConfirm:ez.canUserInteract(h,c).canConfirm,canCorrect:ez.canUserInteract(h,c).canCorrect})]},a.id)}),l&&(0,d.jsx)(eA,{isOpen:j,onClose:()=>{k(!1),m(null)},onPropose:a=>{try{ez.proposeExamDate(a),n(),k(!1),m(null)}catch(a){console.error("Erreur lors de la proposition:",a)}},courseId:l.id,courseName:l.title,faculty:g,userId:c,userName:f})]})}class eD{static{this.SUBJECT_COLORS={mathematics:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",accent:"bg-purple-100",hex:"#f3e8ff"},physics:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",accent:"bg-blue-100",hex:"#eff6ff"},chemistry:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",accent:"bg-green-100",hex:"#f0fdf4"},biology:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",accent:"bg-orange-100",hex:"#fff7ed"},other:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",accent:"bg-gray-100",hex:"#f9fafb"}}}static getSubjectFromCourse(a,b){let c=a.toLowerCase(),d=b.toLowerCase();return c.includes("math")||c.includes("calcul")||c.includes("alg\xe8bre")||c.includes("limite")||c.includes("suite")||c.includes("probabilit\xe9")||d.includes("math")||d.includes("gauss")||d.includes("suite")?"mathematics":c.includes("physique")||c.includes("m\xe9canique")||c.includes("thermodynamique")||c.includes("\xe9lectricit\xe9")||c.includes("optique")||d.includes("physique")?"physics":c.includes("chimie")||c.includes("organique")||c.includes("r\xe9action")||c.includes("mol\xe9cule")||d.includes("chimie")?"chemistry":c.includes("biologie")||c.includes("cellule")||c.includes("g\xe9n\xe9tique")||c.includes("anatomie")||d.includes("bio")?"biology":"other"}static applyColorCoding(a){let b=a.subject||this.getSubjectFromCourse(a.courseName,a.courseId),c=this.SUBJECT_COLORS[b];return{...a,subject:b,colorCode:c.hex}}static generateCoachingMessage(a,b,c,d){let e=c>0?a/c:0,f=c>0?b/c:0;return e>.8&&f<.1?{id:`coaching-${Date.now()}`,type:"congratulation",title:"Bravo, tu es en avance !",message:"\uD83D\uDE80 Excellent rythme ! Veux-tu ajouter une r\xe9vision bonus pour renforcer tes acquis ?",icon:"\uD83D\uDE80",actionLabel:"Ajouter une r\xe9vision",priority:"medium",isVisible:!0,expiresAt:new Date(Date.now()+864e5)}:f>.2?{id:`coaching-${Date.now()}`,type:"warning",title:"Tu as pris du retard",message:"âš¡ Tu as manqu\xe9 plusieurs sessions. Veux-tu les reprogrammer automatiquement ?",icon:"âš¡",actionLabel:"Reprogrammer",priority:"high",isVisible:!0,expiresAt:new Date(Date.now()+1728e5)}:b>0&&b<=2?{id:`coaching-${Date.now()}`,type:"suggestion",title:"Session manqu\xe9e",message:"\uD83D\uDCC5 Tu as manqu\xe9 une session r\xe9cemment. Veux-tu la reprogrammer ?",icon:"\uD83D\uDCC5",actionLabel:"Reprogrammer",priority:"medium",isVisible:!0,expiresAt:new Date(Date.now()+864e5)}:e>=.6&&f<.15?{id:`coaching-${Date.now()}`,type:"motivation",title:"Parfait !",message:"\uD83D\uDC4F Tu es dans le rythme, continue comme \xe7a ! Ton planning se d\xe9roule bien.",icon:"\uD83D\uDC4F",priority:"low",isVisible:!0,expiresAt:new Date(Date.now()+432e5)}:null}static checkBadgeUnlock(a,b){let c=[],d=a.filter(a=>"completed"===a.status).length;if(this.calculateConsecutiveDays(a)>=7&&!b.find(a=>"disciplined"===a.id)){let a={id:"disciplined",name:"Disciplin\xe9",description:"7 jours d'\xe9tude cons\xe9cutifs",icon:"\uD83C\uDFAF",type:"discipline",earnedAt:new Date,progress:100};c.push({id:`badge-${Date.now()}-disciplined`,badge:a,isVisible:!0,unlockedAt:new Date})}if(d>=20&&!b.find(a=>"resilient"===a.id)){let a={id:"resilient",name:"R\xe9silient",description:"20 sessions d'\xe9tude compl\xe9t\xe9es",icon:"\uD83D\uDCAA",type:"resilience",earnedAt:new Date,progress:100};c.push({id:`badge-${Date.now()}-resilient`,badge:a,isVisible:!0,unlockedAt:new Date})}return c}static calculateConsecutiveDays(a){let b=a.filter(a=>"completed"===a.status).sort((a,b)=>b.date.getTime()-a.date.getTime());if(0===b.length)return 0;let c=1,d=new Date(b[0].date);d.setHours(0,0,0,0);for(let a=1;a<b.length;a++){let e=new Date(b[a].date);if(e.setHours(0,0,0,0),1==Math.abs(d.getTime()-e.getTime())/864e5)c++,d=e;else break}return c}static shouldNotifyBuddy(a){return a.filter(a=>(Date.now()-a.date.getTime())/864e5<=7).filter(a=>"missed"===a.status).length>=3}static filterForMonthlyView(a){return a.filter(a=>"practice"===a.type||"review"===a.type||a.lessonName?.toLowerCase().includes("examen")||a.lessonName?.toLowerCase().includes("test")||a.lessonName?.toLowerCase().includes("r\xe9vision g\xe9n\xe9rale"))}}class eE{static applyColorsToSessions(a){return a.map(a=>eD.applyColorCoding(a))}static checkMissedSessions(a){let b=new Date,c=new Date(b.getFullYear(),b.getMonth(),b.getDate());return a.sessions.filter(a=>new Date(a.date.getFullYear(),a.date.getMonth(),a.date.getDate())<c&&!a.isCompleted&&!a.isMissed)}static createMissedSessionAlert(a,b){let c=this.findAvailableRescheduleSlots(a,b);return{sessionId:a.id,session:{...a,isMissed:!0,missedDate:new Date,status:"missed"},isOpen:!0,suggestedRescheduleSlots:c}}static findAvailableRescheduleSlots(a,b){let c=[],d=new Date,e=b.examDate||new Date(Date.now()+2592e6);for(let a=1;a<=14;a++){let f=new Date(d.getTime()+24*a*36e5);if(f>=e||(b.sessions.filter(a=>a.date.toDateString()===f.toDateString()&&!a.isMissed).length<3&&c.push(f),c.length>=5))break}return c}static rescheduleSession(a,b,c,d=!1){let e=c.sessions.map(c=>c.id===a?{...c,originalDate:c.date,date:b,isRescheduled:!0,status:"rescheduled",isMissed:!1}:c);return{...c,sessions:e,lastUpdated:new Date,adaptationReason:d?"Replanification automatique d'une session manqu\xe9e":"Replanification manuelle d'une session manqu\xe9e"}}static analyzeProgress(a){let b=[],c=new Date,d=a.sessions.filter(a=>a.isCompleted),e=a.sessions.filter(a=>a.isMissed);a.sessions.filter(a=>a.date>c&&!a.isCompleted);let f=a.sessions.length,g=this.calculateExpectedProgress(a),h=d.length/f*100;return h>g+15?b.push({id:`ahead-${Date.now()}`,type:"ahead-schedule",title:"Excellent ! Tu es en avance \uD83D\uDE80",description:`Tu as ${Math.round(h-g)}% d'avance sur ton planning. Veux-tu optimiser ton temps ?`,actions:[{label:"Ajouter des r\xe9visions bonus",type:"add-bonus",data:{bonusType:"review",sessions:2}},{label:"Approfondir les sujets difficiles",type:"add-bonus",data:{bonusType:"practice",difficulty:"hard"}},{label:"Garder le planning actuel",type:"optimize",data:{keepCurrent:!0}}],isActive:!0}):(h<g-10||e.length>2)&&b.push({id:`behind-${Date.now()}`,type:"behind-schedule",title:"Rattrapons le retard ! \uD83D\uDCAA",description:`Tu as ${Math.round(g-h)}% de retard. Je peux t'aider \xe0 rattraper.`,actions:[{label:"Replanification automatique",type:"auto-reschedule",data:{intensifySchedule:!0,missedSessions:e.length}},{label:"Choisir manuellement",type:"manual-reschedule",data:{availableSlots:this.findAvailableRescheduleSlots(e[0],a)}}],isActive:!0}),0===b.length&&d.length>5&&b.push({id:`optimize-${Date.now()}`,type:"optimization",title:"Optimisons ton planning",description:"Ton rythme est bon ! Veux-tu ajuster quelque chose ?",actions:[{label:"R\xe9duire l'intensit\xe9",type:"optimize",data:{adjustIntensity:"reduce"}},{label:"Augmenter l'intensit\xe9",type:"optimize",data:{adjustIntensity:"increase"}}],isActive:!0}),b}static calculateExpectedProgress(a){let b=new Date,c=a.startDate,d=(a.examDate||new Date(Date.now()+2592e6)).getTime()-c.getTime();return Math.max(0,Math.min(100,(b.getTime()-c.getTime())/d*100))}static applyAdaptationSuggestion(a,b,c){let d=[...c.sessions];switch(b.type){case"add-bonus":d.push(...this.generateBonusSessions(b.data,c));break;case"auto-reschedule":return this.intensifySchedule(c);case"optimize":return this.optimizeSchedule(c,b.data)}return{...c,sessions:d,lastUpdated:new Date,adaptationReason:`Adaptation appliqu\xe9e: ${a.title}`}}static generateBonusSessions(a,b){let c=[],d=new Date;for(let e=0;e<a.sessions;e++){let f=new Date(d.getTime()+(e+1)*1728e5);c.push({id:`bonus-${Date.now()}-${e}`,date:f,startTime:"18:00",endTime:"19:00",courseId:b.sessions[0]?.courseId||"general",courseName:b.sessions[0]?.courseName||"R\xe9vision g\xe9n\xe9rale",type:"bonus-review",isCompleted:!1,isOptional:!0,difficulty:a.difficulty||"medium",estimatedMinutes:60,duration:60,status:"upcoming"})}return c}static intensifySchedule(a){let b=a.sessions.map(a=>a.isCompleted||a.isMissed?a:{...a,duration:Math.min(a.duration+15,120),estimatedMinutes:Math.min(a.estimatedMinutes+15,120)});return{...a,sessions:b,lastUpdated:new Date,adaptationReason:"Planning intensifi\xe9 pour rattraper le retard"}}static optimizeSchedule(a,b){return{...a,lastUpdated:new Date,adaptationReason:"Planning optimis\xe9 selon vos pr\xe9f\xe9rences"}}static initializeBadges(){return[{id:"disciplined-week",name:"Disciplin\xe9",description:"Toutes les sessions respect\xe9es pendant 1 semaine",icon:"\uD83C\uDFAF",type:"discipline",criteria:{consecutiveDays:7},isEarned:!1},{id:"resilient-comeback",name:"R\xe9silient",description:"Sessions manqu\xe9es mais reprogramm\xe9es et compl\xe9t\xe9es",icon:"\uD83D\uDCAA",type:"resilience",criteria:{sessionsMissedAndRescheduled:3},isEarned:!1},{id:"coached-buddy",name:"Coach\xe9",description:"Utilisation r\xe9guli\xe8re du buddy system",icon:"\uD83E\uDD1D",type:"coaching",criteria:{buddyInteractions:5},isEarned:!1},{id:"consistent-learner",name:"Consistant",description:"20 sessions compl\xe9t\xe9es avec succ\xe8s",icon:"\uD83D\uDCDA",type:"progress",criteria:{sessionsCompleted:20},isEarned:!1},{id:"streak-master",name:"Ma\xeetre de la R\xe9gularit\xe9",description:"14 jours cons\xe9cutifs d'\xe9tude",icon:"\uD83D\uDD25",type:"consistency",criteria:{consecutiveDays:14},isEarned:!1}]}static checkBadgeProgress(a,b,c){return a.map(a=>a.isEarned?a:this.checkBadgeCriteria(a,b,c)?{...a,isEarned:!0,earnedAt:new Date}:a)}static checkBadgeCriteria(a,b,c){let d=b.sessions.filter(a=>a.isCompleted),e=b.sessions.filter(a=>a.isRescheduled&&a.isCompleted);switch(a.type){case"discipline":return this.checkConsecutiveDays(b,a.criteria.consecutiveDays||7);case"resilience":return e.length>=(a.criteria.sessionsMissedAndRescheduled||3);case"coaching":return+!!c?.lastNotificationSent>=(a.criteria.buddyInteractions||5);case"progress":return d.length>=(a.criteria.sessionsCompleted||20);case"consistency":return this.checkConsecutiveDays(b,a.criteria.consecutiveDays||14);default:return!1}}static checkConsecutiveDays(a,b){let c=a.sessions.filter(a=>a.isCompleted).sort((a,b)=>a.date.getTime()-b.date.getTime());if(0===c.length)return!1;let d=1,e=1;for(let a=1;a<c.length;a++){let b=new Date(c[a-1].date);1===Math.ceil((new Date(c[a].date).getTime()-b.getTime())/864e5)?d++:(e=Math.max(e,d),d=1)}return(e=Math.max(e,d))>=b}static shouldNotifyBuddy(a,b){if(!b.isActive)return!1;if(a.sessions.filter(a=>a.isMissed).filter(a=>(Date.now()-(a.missedDate?.getTime()||0))/864e5<=3).length>=2){let a=b.lastNotificationSent;if(!a)return!0;let c=(Date.now()-a.getTime())/36e5;switch(b.alertFrequency){case"immediate":return c>=1;case"daily":return c>=24;case"weekly":return c>=168}}return!1}static generateBuddyMessage(a,b){let c=a.sessions.filter(a=>a.isMissed).length,d="ton ami",e=[`Hey ! ${d} a besoin d'un petit coup de boost ðŸš€. ${c} sessions d'\xe9tude manqu\xe9es r\xe9cemment. Envoie-lui un message d'encouragement !`,`${d} traverse une p\xe9riode difficile avec ses \xe9tudes ðŸ’ª. ${c} sessions non r\xe9alis\xe9es. Un petit mot de ta part pourrait faire la diff\xe9rence !`,`Moment coaching ! ${d} a manqu\xe9 ${c} sessions d'\xe9tude ðŸ“š. Ton soutien peut l'aider \xe0 reprendre le rythme !`];return e[Math.floor(Math.random()*e.length)]}static getSessionsForView(a,b,c=new Date){switch(b){case"day":return a.filter(a=>a.date.toDateString()===c.toDateString());case"week":let d=new Date(c);d.setDate(c.getDate()-c.getDay());let e=new Date(d);return e.setDate(d.getDate()+6),a.filter(a=>a.date>=d&&a.date<=e);case"month":return a.filter(a=>a.date.getMonth()===c.getMonth()&&a.date.getFullYear()===c.getFullYear());default:return a}}static formatViewTitle(a,b){switch(a){case"day":return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric"}).format(b);case"week":let c=new Date(b);c.setDate(b.getDate()-b.getDay());let d=new Date(c);return d.setDate(c.getDate()+6),`${c.getDate()} - ${d.getDate()} ${new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(d)}`;case"month":return new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(b);default:return""}}}let eF={"ondes-mecaniques":[{id:"om-1",title:"Introduction aux ondes",lessonNumber:"1.1",scheduledDate:new Date("2024-12-23"),status:"completed",duration:"25 min"},{id:"om-2",title:"Types d'ondes m\xe9caniques",lessonNumber:"1.2",scheduledDate:new Date("2024-12-26"),status:"completed",duration:"30 min"},{id:"om-3",title:"Caract\xe9ristiques des ondes",lessonNumber:"2.1",scheduledDate:new Date("2024-12-28"),status:"completed",duration:"35 min"},{id:"om-4",title:"Propagation des ondes",lessonNumber:"3.2",scheduledDate:new Date("2024-12-31"),status:"current",duration:"40 min"},{id:"om-5",title:"R\xe9flexion et r\xe9fraction",lessonNumber:"3.3",scheduledDate:new Date("2025-01-03"),status:"upcoming",duration:"35 min"},{id:"om-6",title:"Interf\xe9rences",lessonNumber:"4.1",scheduledDate:new Date("2025-01-07"),status:"upcoming",duration:"45 min"},{id:"om-7",title:"Diffraction",lessonNumber:"4.2",scheduledDate:new Date("2025-01-10"),status:"upcoming",duration:"40 min"},{id:"om-8",title:"Ondes stationnaires",lessonNumber:"5.1",scheduledDate:new Date("2025-01-14"),status:"upcoming",duration:"35 min"},{id:"om-9",title:"Applications pratiques",lessonNumber:"5.2",scheduledDate:new Date("2025-01-17"),status:"not-scheduled",duration:"30 min"},{id:"om-10",title:"R\xe9vision finale",lessonNumber:"6.1",scheduledDate:new Date("2025-02-12"),status:"not-scheduled",duration:"50 min"}],"suites-limites":[{id:"sl-1",title:"D\xe9finition des suites",lessonNumber:"1.1",scheduledDate:new Date("2024-12-20"),status:"completed",duration:"30 min"},{id:"sl-2",title:"Suites arithm\xe9tiques",lessonNumber:"1.2",scheduledDate:new Date("2024-12-22"),status:"completed",duration:"35 min"},{id:"sl-3",title:"Suites g\xe9om\xe9triques",lessonNumber:"2.1",scheduledDate:new Date("2024-12-25"),status:"completed",duration:"35 min"},{id:"sl-4",title:"Convergence des suites",lessonNumber:"3.1",scheduledDate:new Date("2024-12-29"),status:"completed",duration:"40 min"},{id:"sl-5",title:"Convergence et divergence",lessonNumber:"4.1",scheduledDate:new Date("2025-01-01"),status:"current",duration:"45 min"},{id:"sl-6",title:"Limites de fonctions",lessonNumber:"4.2",scheduledDate:new Date("2025-01-04"),status:"upcoming",duration:"40 min"},{id:"sl-7",title:"Th\xe9or\xe8mes de comparaison",lessonNumber:"5.1",scheduledDate:new Date("2025-01-08"),status:"upcoming",duration:"35 min"},{id:"sl-8",title:"R\xe9vision finale",lessonNumber:"6.1",scheduledDate:new Date("2025-02-18"),status:"not-scheduled",duration:"50 min"}],"equilibres-chimiques":[{id:"ec-1",title:"Introduction aux \xe9quilibres",lessonNumber:"1.1",scheduledDate:new Date("2024-12-27"),status:"completed",duration:"30 min"},{id:"ec-2",title:"Constantes d'\xe9quilibre",lessonNumber:"2.3",scheduledDate:new Date("2025-01-02"),status:"current",duration:"40 min"},{id:"ec-3",title:"Les acides et bases",lessonNumber:"3.1",scheduledDate:null,status:"not-scheduled",duration:"45 min"},{id:"ec-4",title:"R\xe9actions acido-basiques",lessonNumber:"3.2",scheduledDate:new Date("2025-01-06"),status:"upcoming",duration:"40 min"},{id:"ec-5",title:"R\xe9actions d'oxydor\xe9duction",lessonNumber:"4.1",scheduledDate:null,status:"not-scheduled",duration:"45 min"},{id:"ec-6",title:"\xc9quilibres de pr\xe9cipitation",lessonNumber:"5.1",scheduledDate:new Date("2025-01-15"),status:"upcoming",duration:"35 min"},{id:"ec-7",title:"Applications industrielles",lessonNumber:"6.1",scheduledDate:new Date("2025-02-20"),status:"not-scheduled",duration:"40 min"},{id:"ec-8",title:"R\xe9vision finale",lessonNumber:"7.1",scheduledDate:new Date("2025-02-27"),status:"not-scheduled",duration:"50 min"}],"forces-mouvement":[{id:"fm-1",title:"Les forces fondamentales",lessonNumber:"1.1",scheduledDate:null,status:"not-scheduled",duration:"30 min"},{id:"fm-2",title:"Lois de Newton",lessonNumber:"1.2",scheduledDate:null,status:"not-scheduled",duration:"40 min"},{id:"fm-3",title:"Travail et \xe9nergie",lessonNumber:"2.1",scheduledDate:null,status:"not-scheduled",duration:"35 min"},{id:"fm-4",title:"Conservation de l'\xe9nergie",lessonNumber:"2.2",scheduledDate:null,status:"not-scheduled",duration:"40 min"},{id:"fm-5",title:"Quantit\xe9 de mouvement",lessonNumber:"3.1",scheduledDate:null,status:"not-scheduled",duration:"35 min"}]},eG=[{id:"ondes-mecaniques",title:"Ondes m\xe9caniques",programme:"Physique",progress:45,examDate:new Date("2025-02-15"),status:"active",sessionsThisWeek:3,nextSession:"Aujourd'hui \xe0 14h",currentChapter:"Propagation des ondes",isOnTrack:!0},{id:"suites-limites",title:"Suites et Limites",programme:"Math\xe9matiques",progress:67,examDate:new Date("2025-02-20"),status:"active",sessionsThisWeek:2,nextSession:"Demain \xe0 9h",currentChapter:"Convergence des suites",isOnTrack:!0},{id:"equilibres-chimiques",title:"\xc9quilibres Chimiques",programme:"Chimie",progress:23,examDate:new Date("2025-03-01"),status:"behind",sessionsThisWeek:1,nextSession:"Mercredi \xe0 17h",currentChapter:"Constantes d'\xe9quilibre",isOnTrack:!1,missedSessions:2},{id:"forces-mouvement",title:"Forces et Mouvement",programme:"Physique",progress:0,examDate:null,status:"not-started",sessionsThisWeek:0,nextSession:null,currentChapter:null,isOnTrack:!0}],eH=[{id:"session-1",trackId:"course-forces",trackTitle:"Ondes m\xe9caniques",lessonTitle:"Propagation des ondes",lessonNumber:"Le\xe7on 3.2",lessonId:"lesson-3-2",status:"completed",type:"lesson"},{id:"session-2",trackId:"course-integrales",trackTitle:"Suites et Limites",lessonTitle:"Convergence et divergence",lessonNumber:"Le\xe7on 4.1",lessonId:"lesson-4-1",status:"current",type:"lesson"},{id:"session-3",trackId:"course-equilibres",trackTitle:"\xc9quilibres Chimiques",lessonTitle:"Les constantes d'\xe9quilibre",lessonNumber:"Le\xe7on 2.3",lessonId:"lesson-2-3",status:"upcoming",type:"lesson"}],eI=[{day:"Lundi",date:"30 d\xe9c",sessions:[{id:"w1",trackTitle:"Ondes m\xe9caniques",lessonTitle:"Propagation des ondes",status:"completed"},{id:"w2",trackTitle:"Suites et Limites",lessonTitle:"Convergence et divergence",status:"completed"}]},{day:"Mardi",date:"31 d\xe9c",sessions:[{id:"w3",trackTitle:"\xc9quilibres Chimiques",lessonTitle:"Les constantes d'\xe9quilibre",status:"upcoming"}]},{day:"Mercredi",date:"1 jan",sessions:[{id:"w4",trackTitle:"Ondes m\xe9caniques",lessonTitle:"R\xe9flexion et r\xe9fraction",status:"upcoming"},{id:"w5",trackTitle:"Suites et Limites",lessonTitle:"Limites de fonctions",status:"upcoming"}]},{day:"Jeudi",date:"2 jan",sessions:[]},{day:"Vendredi",date:"3 jan",sessions:[{id:"w6",trackTitle:"\xc9quilibres Chimiques",lessonTitle:"R\xe9actions acido-basiques",status:"upcoming"}]},{day:"Samedi",date:"4 jan",sessions:[]},{day:"Dimanche",date:"5 jan",sessions:[]}],eJ=[{week:1,days:[{date:30,sessions:[{id:"m1",title:"Propagation des ondes",track:"Ondes m\xe9caniques",status:"completed"},{id:"m2",title:"Convergence",track:"Suites et Limites",status:"completed"}],isToday:!0},{date:31,sessions:[{id:"m3",title:"Constantes d'\xe9quilibre",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:1,sessions:[{id:"m4",title:"R\xe9flexion et r\xe9fraction",track:"Ondes m\xe9caniques",status:"upcoming"},{id:"m5",title:"Limites de fonctions",track:"Suites et Limites",status:"upcoming"}],isToday:!1},{date:2,sessions:[],isToday:!1},{date:3,sessions:[{id:"m6",title:"R\xe9actions acido-basiques",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:4,sessions:[],isToday:!1},{date:5,sessions:[],isToday:!1}]},{week:2,days:[{date:6,sessions:[{id:"m7",title:"Interf\xe9rences",track:"Ondes m\xe9caniques",status:"upcoming"},{id:"m8",title:"Th\xe9or\xe8mes de comparaison",track:"Suites et Limites",status:"upcoming"}],isToday:!1},{date:7,sessions:[{id:"m9",title:"Diffraction",track:"Ondes m\xe9caniques",status:"upcoming"}],isToday:!1},{date:8,sessions:[{id:"m10",title:"Ondes stationnaires",track:"Ondes m\xe9caniques",status:"upcoming"},{id:"m11",title:"\xc9quilibres de pr\xe9cipitation",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:9,sessions:[{id:"m12",title:"R\xe9vision suites",track:"Suites et Limites",status:"upcoming"}],isToday:!1},{date:10,sessions:[{id:"m13",title:"Applications pratiques",track:"Ondes m\xe9caniques",status:"upcoming"},{id:"m14",title:"Applications industrielles",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:11,sessions:[],isToday:!1},{date:12,sessions:[],isToday:!1}]},{week:3,days:[{date:13,sessions:[{id:"m15",title:"R\xe9vision g\xe9n\xe9rale",track:"Ondes m\xe9caniques",status:"upcoming"}],isToday:!1},{date:14,sessions:[{id:"m16",title:"Exercices de synth\xe8se",track:"Ondes m\xe9caniques",status:"upcoming"},{id:"m17",title:"QCM d'entra\xeenement",track:"Suites et Limites",status:"upcoming"}],isToday:!1},{date:15,sessions:[{id:"m18",title:"Dernier r\xe9vision",track:"Ondes m\xe9caniques",status:"upcoming"}],isToday:!1,hasExam:!0,examTitle:"Ondes m\xe9caniques"},{date:16,sessions:[{id:"m19",title:"R\xe9vision finale",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:17,sessions:[{id:"m20",title:"Exercices avanc\xe9s",track:"Suites et Limites",status:"upcoming"},{id:"m21",title:"Pr\xe9paration examen",track:"\xc9quilibres Chimiques",status:"upcoming"}],isToday:!1},{date:18,sessions:[],isToday:!1},{date:19,sessions:[],isToday:!1}]}],eK=[{id:"missed-1",date:"Hier",trackTitle:"\xc9quilibres Chimiques",chapter:"Les acides et bases",suggestedReschedule:"Demain \xe0 10h"},{id:"missed-2",date:"Lundi",trackTitle:"\xc9quilibres Chimiques",chapter:"R\xe9actions d'oxydor\xe9duction",suggestedReschedule:"Jeudi \xe0 14h"}];function eL({plannerAccess:a,onGeneratePlan:b,onWhatsAppContact:c,onUpgrade:g,onRestartOnboarding:j,buddy:l,onAddBuddy:m,onUpdateBuddy:n,onRemoveBuddy:p,onSendBuddyNotification:s,favoriteCourses:u=[],focusedCourse:v,onNavigateToCourse:y,existingPlan:z=null,hideHeader:A=!1}){let[D,E]=(0,e.useState)({availableDays:["monday","tuesday","wednesday","thursday","friday"],preferredStartTime:"09:00",preferredEndTime:"17:00",dailyStudyHours:3,preferredStudySlots:["morning","afternoon"],breakDuration:15,studyIntensity:"moderate"}),[F,G]=(0,e.useState)(z),[H,J]=(0,e.useState)(!1),[K,L]=(0,e.useState)(1),[M,O]=(0,e.useState)([]),[P,Q]=(0,e.useState)("overview"),[R,S]=(0,e.useState)("week"),[T,U]=(0,e.useState)(!1),[V,W]=(0,e.useState)(0),[X,Y]=(0,e.useState)(eI),[Z,$]=(0,e.useState)(eJ),[_,aa]=(0,e.useState)(null),[ab,ac]=(0,e.useState)(null),[ad,af]=(0,e.useState)(null),ag=A&&v?(a=>{if(!a)return null;let b={"course-suites":"suites-limites","course-equilibres":"equilibres-chimiques","course-forces":"forces-mouvement","course-integrales":"suites-limites","course-gauss":"ondes-mecaniques","course-physique-mecanique":"forces-mouvement","ondes-mecaniques":"ondes-mecaniques","suites-limites":"suites-limites","equilibres-chimiques":"equilibres-chimiques","forces-mouvement":"forces-mouvement"}[a.id];if(!b){let c=a.title.toLowerCase();b=c.includes("onde")||c.includes("physique")||c.includes("gauss")?"ondes-mecaniques":c.includes("suite")||c.includes("limite")||c.includes("math")||c.includes("int\xe9grale")?"suites-limites":c.includes("chimi")||c.includes("\xe9quilibre")?"equilibres-chimiques":c.includes("force")||c.includes("mouvement")||c.includes("m\xe9canique")?"forces-mouvement":"ondes-mecaniques"}return b})(v):null,[ah,ai]=(0,e.useState)(ag),[aj,ak]=(0,e.useState)({isOpen:!1,session:null}),al=(a,b,c)=>{a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("text/plain",b),aa({sessionId:b,fromDay:c})},am=()=>{ac(null)},an=()=>{aa(null),ac(null)},[ao,ap]=(0,e.useState)(""),[aq,ar]=(0,e.useState)({show:!1,message:""});!function({plan:a,buddy:b,plannerAccess:c}){let[d,f]=(0,e.useState)([]),[g,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(),[k,l]=(0,e.useState)({currentView:"week",showCompleted:!0,showMissed:!0,showOptional:!0}),m=(0,e.useCallback)(()=>!!a&&!!b&&eE.shouldNotifyBuddy(a,b),[a,b]),n=(0,e.useCallback)(()=>a&&b?eE.generateBuddyMessage(a,b):"",[a,b]);(0,e.useCallback)((b,c,d=!1)=>{if(!a)return a;let e=eE.rescheduleSession(b,c,a,d);return j(void 0),e},[a]),(0,e.useCallback)((b,c)=>{if(!a)return a;let d=eE.applyAdaptationSuggestion(b,c,a);return h(a=>a.map(a=>a.id===b.id?{...a,isActive:!1}:a)),d},[a]),(0,e.useCallback)(a=>{h(b=>b.map(b=>b.id===a?{...b,isActive:!1}:b))},[]),(0,e.useCallback)(()=>{j(void 0)},[]),(0,e.useCallback)(c=>{if(!a)return a;let d=a.sessions.map(a=>a.id===c?{...a,isCompleted:!a.isCompleted,status:a.isCompleted?"upcoming":"completed"}:a),e={...a,sessions:d,lastUpdated:new Date};return f(a=>eE.checkBadgeProgress(a,e,b)),e},[a,b]),(0,e.useCallback)(()=>{j(void 0)},[]),(0,e.useCallback)((b,c=new Date)=>a?eE.getSessionsForView(a.sessions,b,c):[],[a]),g.filter(a=>a.isActive),m(),n()}({hasAccess:a.canCreatePlan,plannerAccess:a});let as=a=>{M.includes(a)||O([...M,a]),a<3&&L(a+1)},at=[{id:1,title:"Pr\xe9f\xe9rences",icon:w.A,description:"Jours, heures, intensit\xe9"},{id:2,title:"Buddies",icon:ae.A,description:"Soutien et motivation"},{id:3,title:"\xc9ch\xe9ances",icon:o.A,description:"Dates d'examen"}],av=eK.length;return eG.filter(a=>!a.isOnTrack).length,(0,d.jsxs)("div",{className:"h-full flex flex-col bg-gray-50",children:[!A&&(0,d.jsx)("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-4 md:px-8 py-4 md:py-6 shadow-sm z-20",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,d.jsx)("h1",{className:"text-gray-900 uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(32px, 8vw, 64px)",lineHeight:"1"},children:"PLANIFICATION"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 sm:flex sm:items-center gap-2 w-full sm:w-auto",children:[(0,d.jsx)("button",{onClick:()=>Q("overview"),className:`px-4 sm:px-5 py-2.5 rounded-full text-sm sm:text-base font-medium transition-all text-center min-h-[44px] ${"overview"===P?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Vue d'ensemble"}),(0,d.jsx)("button",{onClick:()=>Q("setup"),className:`px-4 sm:px-5 py-2.5 rounded-full text-sm sm:text-base font-medium transition-all text-center min-h-[44px] ${"setup"===P?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Configuration"})]})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-hidden p-4 md:p-8",children:(0,d.jsx)(i.N,{mode:"wait",children:"overview"===P?(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-8",children:[console.log("\uD83D\uDCC5 RENDER: selectedTrackPlanning=",ah,"hideHeader=",A,"focusedCourse=",v?.id),ah&&(()=>{let a=eG.find(a=>a.id===ah),b=eF[ah]||[],c=b.filter(a=>"completed"===a.status).length,e=b.length,f={};b.forEach(a=>{if(a.scheduledDate){let b=new Date(a.scheduledDate);b.setDate(b.getDate()-b.getDay()+1);let c=b.toISOString().split("T")[0];f[c]||(f[c]=[]),f[c].push(a)}});let g=b.filter(a=>!a.scheduledDate);return a?.examDate&&(a.examDate.getTime(),new Date().getTime()),(0,d.jsxs)("div",{id:"track-planning-view",className:"bg-white rounded-2xl border border-gray-200",children:[!A&&(0,d.jsxs)("div",{className:"px-6 py-5 border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:()=>ai(null),className:"flex items-center gap-2 mb-3 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[(0,d.jsx)(B.A,{size:16,className:"rotate-180"}),"Retour aux parcours"]}),(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Planning : ",a?.title]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"px-5 py-3 rounded-xl text-center bg-gray-100 border border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs uppercase tracking-wider mb-1 text-gray-500",children:"Progression"}),(0,d.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[c,"/",e]})]}),a?.examDate&&(0,d.jsxs)("div",{className:"px-5 py-3 rounded-xl text-center bg-gray-900",children:[(0,d.jsx)("p",{className:"text-xs uppercase tracking-wider mb-1",style:{color:"#ffffff"},children:"Examen"}),(0,d.jsx)("p",{className:"text-lg font-bold",style:{color:"#ffffff"},children:a.examDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)("div",{className:"w-full h-2 rounded-full bg-gray-100",children:(0,d.jsx)("div",{className:"h-full rounded-full transition-all bg-gray-900",style:{width:`${c/e*100}%`}})})})]}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[g.length>0&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,d.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider bg-orange-100 text-orange-600",children:"\xc0 planifier"})}),(0,d.jsx)("div",{className:"space-y-2",children:g.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-orange-50 border border-orange-200",children:[(0,d.jsx)("div",{className:"w-12 h-12 rounded-xl flex flex-col items-center justify-center flex-shrink-0 bg-orange-100",children:(0,d.jsx)(et.A,{size:18,className:"text-orange-500"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-base font-semibold text-gray-800",children:a.title}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Le\xe7on ",a.lessonNumber," â€¢ ",a.duration]})]}),(0,d.jsx)("button",{className:"px-4 py-2 rounded-full text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600 transition-colors",children:"Planifier"})]},a.id))})]}),Object.entries(f).sort(([a],[b])=>a.localeCompare(b)).map(([a,b])=>(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,d.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider bg-gray-100 text-gray-600",children:(a=>{let b=new Date(a),c=new Date(b);c.setDate(c.getDate()+6);let d={day:"numeric",month:"short"};return`${b.toLocaleDateString("fr-FR",d)} - ${c.toLocaleDateString("fr-FR",d)}`})(a)})}),(0,d.jsx)("div",{className:"divide-y divide-gray-100 rounded-xl overflow-hidden bg-white border border-gray-200",children:b.sort((a,b)=>(a.scheduledDate?.getTime()||0)-(b.scheduledDate?.getTime()||0)).map(a=>(0,d.jsxs)("div",{onClick:()=>{y&&ah&&y(ah)},className:`flex items-center gap-5 px-5 py-4 cursor-pointer transition-all ${"current"===a.status?"bg-[#00c2ff]/5":"hover:bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:"w-14 flex-shrink-0 text-center",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",style:{color:"completed"===a.status?"#d1d5db":"current"===a.status?"#00c2ff":"#374151"},children:a.scheduledDate?.getDate()||"--"}),(0,d.jsx)("p",{className:"text-[10px] uppercase text-gray-400",children:a.scheduledDate?.toLocaleDateString("fr-FR",{weekday:"short"})||""})]}),(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"completed"===a.status?"#1f2937":"current"===a.status?"#00c2ff":"#f3f4f6",border:"upcoming"===a.status?"2px solid #e5e7eb":"none"},children:"completed"===a.status?(0,d.jsx)(k.A,{size:18,className:"text-white"}):"current"===a.status?(0,d.jsx)(N.A,{size:16,className:"text-white ml-0.5",fill:"white"}):(0,d.jsx)(t.A,{size:14,className:"text-gray-400"})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:`font-semibold mb-0.5 ${"completed"===a.status?"text-gray-400":"text-gray-900"}`,children:a.title}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Le\xe7on ",a.lessonNumber," \xb7 ",a.duration]})]}),(0,d.jsxs)("div",{className:"flex-shrink-0",children:["current"===a.status&&(0,d.jsxs)("button",{onClick:a=>{a.stopPropagation(),y&&ah&&y(ah)},className:"px-5 py-2.5 rounded-full text-sm font-bold flex items-center gap-2 transition-all hover:brightness-110",style:{backgroundColor:"#00c2ff",color:"#ffffff"},children:[(0,d.jsx)(N.A,{size:14,fill:"#ffffff"}),"Continuer"]}),"completed"===a.status&&(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),y&&ah&&y(ah)},className:"px-5 py-2.5 rounded-full text-sm font-medium bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all",children:"Revoir"})]})]},a.id))})]},a))]}),(0,d.jsxs)("div",{className:"space-y-4 lg:sticky lg:top-6 lg:self-start",children:[a?.examDate&&(0,d.jsxs)("div",{className:"rounded-2xl p-5",style:{backgroundColor:"#0d1317"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(r.A,{size:18,style:{color:"rgba(255,255,255,0.85)"}}),(0,d.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wider",style:{color:"rgba(255,255,255,0.85)"},children:"Objectif"})]}),(0,d.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,d.jsx)("span",{className:"text-4xl font-bold",style:{color:"rgba(255,255,255,0.85)"},children:Math.max(0,Math.ceil((a.examDate.getTime()-new Date().getTime())/864e5))}),(0,d.jsx)("span",{style:{color:"rgba(255,255,255,0.85)"},children:"jours restants"})]}),(0,d.jsxs)("p",{className:"text-sm",style:{color:"rgba(255,255,255,0.85)"},children:[e-c," le\xe7ons \xe0 terminer avant le ",a.examDate.toLocaleDateString("fr-FR",{day:"numeric",month:"long"})]}),(0,d.jsx)("div",{className:"mt-3 w-full h-1.5 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:(0,d.jsx)("div",{className:"h-full rounded-full transition-all",style:{width:`${c/e*100}%`,backgroundColor:"#00c2ff"}})})]}),(0,d.jsxs)("div",{className:"rounded-2xl p-5",style:{backgroundColor:"#0d1317"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)(q.A,{size:18,style:{color:"rgba(255,255,255,0.85)"}}),(0,d.jsx)("span",{className:"text-sm font-semibold",style:{color:"rgba(255,255,255,0.85)"},children:"Study Room"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsxs)("div",{className:"flex -space-x-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-bold",style:{backgroundColor:"rgba(255,255,255,0.1)",borderColor:"#0d1317",color:"rgba(255,255,255,0.85)"},children:"M"}),(0,d.jsx)("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-bold",style:{backgroundColor:"rgba(255,255,255,0.1)",borderColor:"#0d1317",color:"rgba(255,255,255,0.85)"},children:"S"}),(0,d.jsx)("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-bold",style:{backgroundColor:"rgba(255,255,255,0.1)",borderColor:"#0d1317",color:"rgba(255,255,255,0.85)"},children:"A"})]}),(0,d.jsx)("span",{className:"text-sm",style:{color:"rgba(255,255,255,0.85)"},children:"+12 \xe9tudient ce parcours"})]}),(0,d.jsxs)("button",{className:"w-full py-3 rounded-xl text-sm font-semibold transition-all flex items-center justify-center gap-2 text-white hover:brightness-110",style:{backgroundColor:"#00c2ff"},children:[(0,d.jsx)(aG.A,{size:16}),"Rejoindre la Study Room"]})]}),(0,d.jsxs)("div",{className:"rounded-2xl p-5",style:{backgroundColor:"#0d1317"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)(I.A,{size:18,style:{color:"rgba(255,255,255,0.85)"}}),(0,d.jsx)("span",{className:"text-sm font-semibold",style:{color:"rgba(255,255,255,0.85)"},children:"Ta progression"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"text-center p-3 rounded-xl",style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[(0,d.jsx)("p",{className:"text-2xl font-bold",style:{color:"rgba(255,255,255,0.85)"},children:c}),(0,d.jsx)("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.85)"},children:"Le\xe7ons vues"})]}),(0,d.jsxs)("div",{className:"text-center p-3 rounded-xl",style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[(0,d.jsx)("p",{className:"text-2xl font-bold",style:{color:"rgba(255,255,255,0.85)"},children:e-c}),(0,d.jsx)("p",{className:"text-xs",style:{color:"rgba(255,255,255,0.85)"},children:"Restantes"})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2 p-3 rounded-xl",style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[(0,d.jsx)(eu.A,{size:18,style:{color:"#00c2ff"}}),(0,d.jsx)("span",{className:"text-sm font-medium",style:{color:"rgba(255,255,255,0.85)"},children:"5 jours de streak"})]})]}),(0,d.jsx)("div",{className:"rounded-2xl p-4",style:{backgroundColor:"#0d1317"},children:(0,d.jsxs)("button",{className:"w-full flex items-center justify-between text-sm font-medium transition-colors",style:{color:"rgba(255,255,255,0.85)"},children:[(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[(0,d.jsx)(x.A,{size:16}),"Besoin d'aide sur ce parcours ?"]}),(0,d.jsx)(B.A,{size:16})]})})]})]})})]})})(),!ah&&"day"===R&&!T&&(0,d.jsxs)("div",{className:`grid gap-6 ${av>0?"grid-cols-1 lg:[grid-template-columns:3fr_2fr]":"grid-cols-1"}`,children:[(0,d.jsxs)("div",{className:"rounded-3xl overflow-hidden",style:{backgroundColor:"#0d1317",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[(0,d.jsx)("div",{className:"px-8 py-6",style:{borderBottom:"1px solid rgba(255,255,255,0.06)",background:"linear-gradient(180deg, rgba(255,255,255,0.02) 0%, transparent 100%)"},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#f5f5f5"},children:"Aujourd'hui, ton plan de jeu"}),(0,d.jsxs)("p",{className:"text-base mt-2",style:{color:"rgba(255,255,255,0.5)"},children:[eH.length," le\xe7ons â€¢ ",eH.filter(a=>"completed"===a.status).length," termin\xe9es"]})]}),(0,d.jsx)("div",{className:"flex items-center gap-1 p-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.06)"},children:["day","week","month"].map(a=>(0,d.jsx)("button",{onClick:()=>S(a),className:"px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:R===a?"#ffffff":"transparent",color:R===a?"#0d1317":"rgba(255,255,255,0.6)"},children:"day"===a?"Jour":"week"===a?"Sem":"Mois"},a))})]})}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsx)("div",{className:"space-y-2",children:eH.map((a,b)=>(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.08*b},onClick:()=>{var b,c;return b=a.lessonId,c=a.trackId,void(y&&y(c),console.log("Navigate to lesson:",b,"in track:",c))},className:"p-5 rounded-2xl cursor-pointer transition-all",style:{backgroundColor:"current"===a.status?"rgba(255,255,255,0.05)":"completed"===a.status?"rgba(255,255,255,0.02)":"rgba(255,255,255,0.025)",border:"current"===a.status?"1px solid rgba(72,198,237,0.15)":"1px solid rgba(255,255,255,0.04)",boxShadow:"current"===a.status?"0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.03)":"inset 0 1px 0 rgba(255,255,255,0.02)"},children:(0,d.jsxs)("div",{className:"flex items-center gap-5",children:[(0,d.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"completed"===a.status?"rgba(255,255,255,0.15)":"current"===a.status?"#00c2ff":"rgba(255,255,255,0.12)",border:"current"===a.status?"none":"completed"===a.status?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(255,255,255,0.08)"},children:"completed"===a.status?(0,d.jsx)(k.A,{size:24,style:{color:"#0d1317"}}):"current"===a.status?(0,d.jsx)(dB,{size:24,style:{color:"#0d1317"}}):(0,d.jsx)(t.A,{size:24,style:{color:"rgba(255,255,255,0.7)"}})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"completed"===a.status?"rgba(255,255,255,0.3)":"current"===a.status?"rgba(255,255,255,0.55)":"rgba(255,255,255,0.5)",letterSpacing:"0.1em"},children:a.trackTitle}),(0,d.jsx)("h4",{className:"text-xl font-bold mb-1",style:{color:"completed"===a.status?"rgba(255,255,255,0.5)":"current"===a.status?"#f0f0f0":"rgba(255,255,255,0.95)"},children:a.lessonTitle}),(0,d.jsx)("p",{className:"text-sm",style:{color:"completed"===a.status?"rgba(255,255,255,0.25)":(a.status,"rgba(255,255,255,0.5)")},children:a.lessonNumber})]}),(0,d.jsxs)("div",{className:"flex-shrink-0",children:["current"===a.status&&(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),y&&y(a.trackId)},className:"px-6 py-3 rounded-full text-base font-bold flex items-center gap-2 transition-all hover:brightness-110",style:{backgroundColor:"#00c2ff",color:"#0d1317",boxShadow:"0 4px 14px rgba(72,198,237,0.3), 0 2px 4px rgba(0,0,0,0.2)"},children:[(0,d.jsx)(N.A,{size:18,fill:"#0d1317"}),"Continuer"]}),"upcoming"===a.status&&(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),y&&y(a.trackId)},className:"px-6 py-3 rounded-full text-base font-bold flex items-center gap-2 transition-all hover:brightness-95",style:{backgroundColor:"rgba(255,255,255,0.95)",color:"#0d1317",boxShadow:"0 2px 8px rgba(0,0,0,0.25)"},children:[(0,d.jsx)(N.A,{size:18,fill:"#0d1317"}),"Commencer"]}),"completed"===a.status&&(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),y&&y(a.trackId)},className:"px-6 py-3 rounded-full text-base font-semibold transition-all hover:bg-white/10",style:{border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.7)",backgroundColor:"rgba(255,255,255,0.03)"},children:"Revoir"})]})]})},a.id))}),0===eH.length&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,d.jsx)(o.A,{size:20,className:"text-gray-400"})}),(0,d.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"Journ\xe9e plus l\xe9g\xe8re"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Le repos fait aussi partie du progr\xe8s"})]})]})]}),av>0&&(0,d.jsx)("div",{className:"rounded-2xl overflow-hidden",style:{backgroundColor:"#0d1317",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:(0,d.jsxs)("div",{className:"px-6 py-5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"rgba(251,146,60,0.15)"},children:(0,d.jsx)(et.A,{size:18,style:{color:"#fb923c"}})}),(0,d.jsx)("h2",{className:"text-xl font-bold",style:{color:"#ffffff"},children:"\xc0 rattraper"})]}),(0,d.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-sm font-bold",style:{backgroundColor:"rgba(251,146,60,0.15)",color:"#fb923c"},children:[av," le\xe7on",av>1?"s":""]})]}),(0,d.jsx)("div",{className:"space-y-2",children:eK.map(a=>(0,d.jsxs)("div",{className:"rounded-xl px-5 py-4 flex items-center justify-between gap-4",style:{backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.14)"},children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1",style:{letterSpacing:"0.1em",color:"rgba(255,255,255,0.8)"},children:a.trackTitle}),(0,d.jsx)("p",{className:"text-lg font-bold truncate",style:{color:"#ffffff"},children:a.chapter})]}),(0,d.jsx)("button",{onClick:()=>ak({isOpen:!0,session:a}),className:"px-5 py-2.5 rounded-full text-sm font-bold transition-all whitespace-nowrap flex-shrink-0",style:{backgroundColor:"#fb923c",color:"#0d1317"},children:"Replanifier"})]},a.id))})]})})]}),!ah&&"week"===R&&!T&&(0,d.jsxs)("div",{className:"rounded-3xl overflow-hidden",style:{backgroundColor:"#0d1317",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.03)"},children:[(0,d.jsx)("div",{className:"px-8 py-6",style:{borderBottom:"1px solid rgba(255,255,255,0.06)",background:"linear-gradient(180deg, rgba(255,255,255,0.02) 0%, transparent 100%)"},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>W(a=>a-1),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:bg-white/10",style:{border:"1px solid rgba(255,255,255,0.1)"},children:(0,d.jsx)(C.A,{size:18,style:{color:"rgba(255,255,255,0.6)"}})}),(0,d.jsx)("button",{onClick:()=>W(a=>a+1),className:"w-8 h-8 rounded-full flex items-center justify-center transition-all hover:bg-white/10",style:{border:"1px solid rgba(255,255,255,0.1)"},children:(0,d.jsx)(B.A,{size:18,style:{color:"rgba(255,255,255,0.6)"}})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#f5f5f5"},children:0===V?"Cette semaine":1===V?"Semaine prochaine":-1===V?"Semaine derni\xe8re":`Semaine ${V>0?"+":""}${V}`}),(0,d.jsxs)("p",{className:"text-base mt-1",style:{color:"rgba(255,255,255,0.5)"},children:[(0,d.jsxs)("span",{style:{fontWeight:600,color:"rgba(255,255,255,0.9)"},children:[X.reduce((a,b)=>a+b.sessions.length,0)," le\xe7ons pr\xe9vues"]}),(0,d.jsx)("span",{className:"mx-2",style:{color:"rgba(255,255,255,0.3)"},children:"\xb7"}),(0,d.jsxs)("span",{style:{color:"rgba(72,198,237,0.9)",fontWeight:500},children:[X.reduce((a,b)=>a+b.sessions.filter(a=>"completed"===a.status).length,0)," d\xe9j\xe0 termin\xe9es"]}),(0,d.jsx)("span",{className:"mx-2",style:{color:"rgba(255,255,255,0.3)"},children:"\xb7"}),(0,d.jsxs)("span",{style:{color:"rgba(255,255,255,0.4)"},children:[av," en retard"]})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[0!==V&&(0,d.jsx)("button",{onClick:()=>W(0),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-all",style:{backgroundColor:"rgba(72,198,237,0.15)",color:"#00c2ff"},children:"Aujourd'hui"}),(0,d.jsx)("div",{className:"flex items-center gap-1 p-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.06)"},children:["day","week","month"].map(a=>(0,d.jsx)("button",{onClick:()=>S(a),className:"px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:R===a?"#ffffff":"transparent",color:R===a?"#0d1317":"rgba(255,255,255,0.6)"},children:"day"===a?"Jour":"week"===a?"Sem":"Mois"},a))})]})]})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"grid grid-cols-7 gap-4 mb-4",children:X.map((a,b)=>(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-base font-medium",style:{color:"rgba(255,255,255,0.4)"},children:a.day}),(0,d.jsx)("p",{className:"text-2xl font-bold",style:{color:0===b?"#f5f5f5":"rgba(255,255,255,0.7)"},children:a.date}),0===b&&(0,d.jsx)("span",{className:"inline-block px-3 py-1 text-sm font-semibold rounded-full mt-2",style:{backgroundColor:"#00c2ff",color:"#0d1317"},children:"Aujourd'hui"})]},a.day))}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-4",children:X.map((a,b)=>(0,d.jsx)("div",{className:`min-h-[200px] rounded-xl p-4 transition-all duration-200 ${ab===a.day?"ring-2 ring-[#00c2ff] ring-opacity-50":""}`,style:{backgroundColor:ab===a.day?"rgba(72,198,237,0.1)":0===b?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.02)",border:ab===a.day?"1px solid rgba(72,198,237,0.3)":0===b?"1px solid rgba(72,198,237,0.2)":"1px solid rgba(255,255,255,0.04)"},onDragOver:b=>{var c;return c=a.day,void(b.preventDefault(),b.dataTransfer.dropEffect="move",ac(c))},onDragLeave:am,onDrop:b=>((a,b)=>{if(a.preventDefault(),ac(null),!_||_.fromDay===b)return void aa(null);Y(a=>{let c=a.map(a=>({...a,sessions:[...a.sessions]})),d=c.findIndex(a=>a.day===_.fromDay),e=c.findIndex(a=>a.day===b);if(-1===d||-1===e)return a;let f=c[d].sessions.findIndex(a=>a.id===_.sessionId);if(-1===f)return a;let[g]=c[d].sessions.splice(f,1);return c[e].sessions.push(g),c}),aa(null)})(b,a.day),children:a.sessions.length>0?(0,d.jsx)("div",{className:"space-y-3",children:a.sessions.map(b=>(0,d.jsxs)("div",{draggable:!0,onDragStart:c=>al(c,b.id,a.day),onDragEnd:an,className:`p-3 rounded-xl text-left cursor-grab active:cursor-grabbing transition-all duration-200 group/session relative ${_?.sessionId===b.id?"opacity-50 scale-95":""}`,style:{backgroundColor:"completed"===b.status?"rgba(255,255,255,0.04)":"rgba(255,255,255,0.06)",border:"completed"===b.status?"1px solid rgba(255,255,255,0.06)":"1px solid rgba(255,255,255,0.08)"},onMouseEnter:a=>{"completed"===b.status||_||(a.currentTarget.style.backgroundColor="rgba(72,198,237,0.15)",a.currentTarget.style.borderColor="rgba(72,198,237,0.3)")},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="completed"===b.status?"rgba(255,255,255,0.04)":"rgba(255,255,255,0.06)",a.currentTarget.style.borderColor="completed"===b.status?"rgba(255,255,255,0.06)":"1px solid rgba(255,255,255,0.08)"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:["completed"===b.status?(0,d.jsx)(k.A,{size:14,style:{color:"rgba(255,255,255,0.5)"}}):(0,d.jsx)(t.A,{size:14,style:{color:"rgba(255,255,255,0.4)"}}),(0,d.jsx)("span",{className:"text-sm font-semibold uppercase",style:{color:"completed"===b.status?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.5)"},children:"completed"===b.status?"Fait":"\xc0 faire"})]}),(0,d.jsx)("p",{className:"text-base font-semibold line-clamp-2",style:{color:"completed"===b.status?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.95)"},children:b.lessonTitle}),(0,d.jsx)("p",{className:"text-sm mt-1 truncate",style:{color:"rgba(255,255,255,0.35)"},children:b.trackTitle}),"completed"!==b.status&&(0,d.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover/session:opacity-100 transition-opacity",children:(0,d.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center",style:{backgroundColor:"#00c2ff"},children:(0,d.jsx)(N.A,{size:12,className:"text-white ml-0.5",fill:"white"})})})]},b.id))}):(0,d.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-base",style:{color:"rgba(255,255,255,0.2)"},children:"â€”"})})},a.day))}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-6 text-sm",style:{color:"rgba(255,255,255,0.4)"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.06)"}}),(0,d.jsx)("span",{children:"Termin\xe9"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.08)"}}),(0,d.jsx)("span",{children:"\xc0 faire"})]})]}),av>0&&(0,d.jsxs)("div",{className:"mt-4 pt-4",style:{borderTop:"1px solid rgba(255,255,255,0.06)"},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(249,115,22,0.15)"},children:(0,d.jsx)(et.A,{size:16,style:{color:"#f97316"}})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-base font-semibold",style:{color:"#f5f5f5"},children:"Sessions \xe0 replanifier"}),(0,d.jsx)("p",{className:"text-sm",style:{color:"rgba(255,255,255,0.8)"},children:"Drag&drop pour rattraper ton retard"})]})]}),(0,d.jsxs)("span",{className:"px-2.5 py-1 rounded-full text-sm font-semibold",style:{backgroundColor:"rgba(249,115,22,0.15)",color:"#f97316"},children:[av," session",av>1?"s":""]})]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-3",children:[{id:"missed-1",lessonTitle:"Diffraction des ondes",trackTitle:"Ondes m\xe9caniques"},{id:"missed-2",lessonTitle:"Th\xe9or\xe8me de comparaison",trackTitle:"Suites et Limites"}].slice(0,av).map(a=>(0,d.jsxs)("div",{draggable:!0,onDragStart:b=>al(b,a.id,"missed"),onDragEnd:an,className:"flex-1 min-w-[200px] max-w-[280px] p-3 rounded-xl cursor-grab active:cursor-grabbing transition-all hover:scale-[1.02]",style:{backgroundColor:"rgba(249,115,22,0.1)",border:"1px dashed rgba(249,115,22,0.3)"},children:[(0,d.jsx)("p",{className:"text-sm font-semibold",style:{color:"rgba(255,255,255,0.9)"},children:a.lessonTitle}),(0,d.jsx)("p",{className:"text-xs mt-1",style:{color:"rgba(255,255,255,0.4)"},children:a.trackTitle})]},a.id))})]})]})]}),!ah&&"month"===R&&!T&&(0,d.jsxs)("div",{className:"rounded-3xl overflow-hidden",style:{backgroundColor:"#0d1317",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.03)"},children:[(0,d.jsx)("div",{className:"px-8 py-6",style:{borderBottom:"1px solid rgba(255,255,255,0.06)",background:"linear-gradient(180deg, rgba(255,255,255,0.02) 0%, transparent 100%)"},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",style:{color:"#f5f5f5"},children:"Ce mois-ci"}),(0,d.jsx)("p",{className:"text-base mt-2 italic",style:{color:"rgba(255,255,255,0.5)"},children:"\uD83D\uDCA1 Janvier est un mois charg\xe9 â€” pense \xe0 garder un rythme r\xe9gulier"})]}),(0,d.jsx)("div",{className:"flex items-center gap-1 p-1 rounded-full",style:{backgroundColor:"rgba(255,255,255,0.06)"},children:["day","week","month"].map(a=>(0,d.jsx)("button",{onClick:()=>S(a),className:"px-4 py-2 rounded-full text-sm font-medium transition-all",style:{backgroundColor:R===a?"#ffffff":"transparent",color:R===a?"#0d1317":"rgba(255,255,255,0.6)"},children:"day"===a?"Jour":"week"===a?"Sem":"Mois"},a))})]})}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("h3",{className:"text-base font-semibold",style:{color:"rgba(255,255,255,0.8)"},children:"Janvier 2025"})}),(0,d.jsx)("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"].map(a=>(0,d.jsx)("div",{className:"text-center text-base font-semibold py-2",style:{color:"rgba(255,255,255,0.5)"},children:a},a))}),(0,d.jsx)("div",{className:"space-y-3",children:Z.map(a=>(0,d.jsx)("div",{className:"grid grid-cols-7 gap-3",children:a.days.map(a=>(0,d.jsxs)("div",{className:`min-h-[120px] p-3 rounded-xl transition-all ${ab===a.date?"ring-2 ring-[#00c2ff] ring-opacity-50":""}`,style:{backgroundColor:ab===a.date?"rgba(72,198,237,0.15)":a.isToday?"#00c2ff":a.hasExam?"rgba(251,146,60,0.15)":"rgba(255,255,255,0.025)",border:ab===a.date?"1px solid rgba(72,198,237,0.4)":a.isToday?"none":a.hasExam?"1px solid rgba(251,146,60,0.3)":"1px solid rgba(255,255,255,0.04)"},onDragOver:b=>{var c;return c=a.date,void(b.preventDefault(),b.dataTransfer.dropEffect="move",ac(c))},onDragLeave:am,onDrop:b=>((a,b)=>{if(a.preventDefault(),ac(null),!_||_.fromDay===b)return void aa(null);$(a=>{let c=a.map(a=>({...a,days:a.days.map(a=>({...a,sessions:[...a.sessions]}))})),d=null;for(let a of c)for(let b of a.days)if(b.date===_.fromDay){let a=b.sessions.findIndex(a=>a.id===_.sessionId);-1!==a&&([d]=b.sessions.splice(a,1))}if(d)for(let a of c)for(let c of a.days)c.date===b&&c.sessions.push(d);return c}),aa(null)})(b,a.date),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-lg font-bold",style:{color:a.isToday?"#0d1317":"rgba(255,255,255,0.9)"},children:a.date}),a.hasExam&&(0,d.jsx)("span",{className:"px-2 py-0.5 text-sm font-semibold rounded-full",style:{backgroundColor:"#fb923c",color:"#0d1317"},children:"Examen"})]}),a.sessions.length>0?(0,d.jsxs)("div",{className:"space-y-1.5",children:[a.sessions.slice(0,2).map(b=>(0,d.jsx)("div",{draggable:!0,onDragStart:c=>{var d,e;return d=b.id,e=a.date,void(c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("text/plain",d),aa({sessionId:d,fromDay:e}))},onDragEnd:an,className:`p-2 rounded-lg cursor-grab active:cursor-grabbing transition-all ${_?.sessionId===b.id?"opacity-50 scale-95":""}`,style:{backgroundColor:a.isToday?"rgba(13,19,23,0.15)":"rgba(255,255,255,0.05)"},children:(0,d.jsx)("p",{className:"text-sm font-medium truncate",style:{color:a.isToday?"#0d1317":"rgba(255,255,255,0.85)"},children:b.title})},b.id)),a.sessions.length>2&&(0,d.jsxs)("p",{className:"text-sm",style:{color:a.isToday?"rgba(13,19,23,0.7)":"rgba(255,255,255,0.4)"},children:["+",a.sessions.length-2," autre",a.sessions.length-2>1?"s":""]})]}):(0,d.jsx)("p",{className:"text-sm",style:{color:a.isToday?"rgba(13,19,23,0.5)":"rgba(255,255,255,0.2)"},children:"â€”"})]},a.date))},a.week))}),(0,d.jsxs)("div",{className:"mt-6 flex items-center gap-6 text-sm",style:{color:"rgba(255,255,255,0.4)"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#00c2ff"}}),(0,d.jsx)("span",{children:"Aujourd'hui"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.04)"}}),(0,d.jsx)("span",{children:"Le\xe7ons planifi\xe9es"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(251,146,60,0.15)",border:"1px solid rgba(251,146,60,0.3)"}}),(0,d.jsx)("span",{children:"Jour d'examen"})]})]})]})]}),!ah&&!T&&(0,d.jsxs)(h.P.button,{onClick:()=>U(!0),className:"w-full py-2 -mt-1 flex flex-col items-center gap-1 text-gray-500 hover:text-gray-700 transition-colors",whileHover:{y:2},children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"Voir le d\xe9tail par learning track"}),(0,d.jsx)(au.A,{size:18,className:"animate-bounce"})]}),!ah&&T&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(h.P.button,{onClick:()=>U(!1),className:"w-full py-4 mb-4 flex flex-col items-center gap-2 text-gray-500 hover:text-gray-700 transition-colors",whileHover:{y:-2},children:[(0,d.jsx)(au.A,{size:20,className:"rotate-180"}),(0,d.jsxs)("span",{className:"text-sm font-medium",children:["Retour \xe0 la vue ","day"===R?"journ\xe9e":"week"===R?"semaine":"mois"]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:eG.map((a,b)=>{var c;return(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08*b,duration:.4},className:"group cursor-pointer rounded-2xl transition-all duration-300 hover:shadow-lg bg-white",style:{border:a.isOnTrack?"1px solid #e5e7eb":"1px solid rgba(251,146,60,0.3)",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:[(0,d.jsx)("div",{className:"h-1 rounded-t-2xl",style:{background:a.isOnTrack?0===a.progress?"#e5e7eb":"#0d1317":"linear-gradient(90deg, #fb923c, #f97316)"}}),(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0 pr-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-0.5 truncate",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:a.programme}),(0,d.jsx)("div",{className:"mb-3",children:a.isOnTrack?a.progress>0?(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700",children:[(0,d.jsx)(k.A,{size:11}),"Dans le rythme"]}):(0,d.jsx)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full bg-gray-50 text-gray-500",children:"Pas commenc\xe9"}):(0,d.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full bg-orange-50 text-orange-600",children:[(0,d.jsx)(t.A,{size:11}),a.missedSessions," en retard"]})}),(0,d.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[a.examDate&&(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsx)(o.A,{size:12,className:"text-gray-400"}),(0,d.jsx)("span",{children:(0,d.jsx)("span",{className:"font-semibold text-gray-700",children:(c=a.examDate)?new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short"}).format(new Date(c)):"Non d\xe9finie"})})]}),a.sessionsThisWeek>0&&(0,d.jsxs)("span",{className:"px-2 py-0.5 rounded bg-gray-100 text-gray-600",children:[a.sessionsThisWeek,"/sem"]})]})]}),(0,d.jsxs)("div",{className:"relative w-[68px] h-[68px] flex-shrink-0",children:[(0,d.jsxs)("svg",{className:"w-[68px] h-[68px] transform -rotate-90",viewBox:"0 0 68 68",children:[(0,d.jsx)("circle",{cx:"34",cy:"34",r:"28",stroke:"#f3f4f6",strokeWidth:"5",fill:"none"}),(0,d.jsx)("circle",{cx:"34",cy:"34",r:"28",stroke:a.isOnTrack?"#0d1317":"#fb923c",strokeWidth:"5",fill:"none",strokeDasharray:`${a.progress/100*175.9} 175.9`,strokeLinecap:"round",className:"transition-all duration-700"})]}),(0,d.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,d.jsx)("span",{className:"text-lg font-bold text-gray-900 leading-none",children:a.progress}),(0,d.jsx)("span",{className:"text-[9px] text-gray-400",children:"%"})]})]})]}),(0,d.jsx)("div",{className:"border-t border-gray-100 pt-4 mb-4"}),a.currentChapter&&(0,d.jsxs)("div",{className:"p-3 rounded-xl mb-4 bg-gray-50",children:[(0,d.jsx)("p",{className:"text-[10px] uppercase tracking-wider mb-1 text-gray-400",children:"En cours"}),(0,d.jsx)("p",{className:"text-sm font-medium truncate text-gray-700",children:a.currentChapter})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),y&&y(a.id)},className:"flex-1 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 bg-gray-900 text-white hover:bg-gray-800",children:[(0,d.jsx)(N.A,{size:15}),a.progress>0?"Continuer":"Commencer"]}),(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),ai(a.id),setTimeout(()=>{let a=document.querySelector(".flex-1.overflow-y-auto");a&&a.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},50)},className:"px-5 py-3 rounded-full text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 hover:opacity-90",style:{backgroundColor:"#00c2ff",color:"#ffffff"},children:"Planification"})]})]})]},a.id)})})]})]},"overview"):(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-8",children:[(0,d.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:(0,d.jsx)("div",{className:"flex items-center justify-between gap-3",children:at.map((a,b)=>(0,d.jsxs)(f().Fragment,{children:[(0,d.jsxs)("button",{onClick:()=>L(a.id),className:`flex-1 flex items-center justify-center gap-3 px-4 py-3 rounded-lg transition-all ${K===a.id?"bg-gray-900 text-white":M.includes(a.id)?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,d.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${K===a.id?"bg-white/20":M.includes(a.id)?"bg-green-200":"bg-gray-200"}`,children:M.includes(a.id)?(0,d.jsx)(k.A,{size:16}):(0,d.jsx)(a.icon,{size:16})}),(0,d.jsx)("p",{className:"font-semibold",style:{fontSize:"16px",color:K===a.id?"#ffffff":"#111827"},children:a.title})]}),b<at.length-1&&(0,d.jsx)("div",{className:`w-8 h-0.5 ${M.includes(a.id)?"bg-green-300":"bg-gray-200"}`})]},a.id))})}),(0,d.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:(0,d.jsxs)(i.N,{mode:"wait",children:[1===K&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tes pr\xe9f\xe9rences d'\xe9tude"}),(0,d.jsx)("p",{className:"text-base text-gray-600",children:"Ces r\xe9glages s'appliquent \xe0 tous tes parcours. Tu pourras les ajuster \xe0 tout moment."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:"Jours disponibles"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{id:"monday",label:"Lun"},{id:"tuesday",label:"Mar"},{id:"wednesday",label:"Mer"},{id:"thursday",label:"Jeu"},{id:"friday",label:"Ven"},{id:"saturday",label:"Sam"},{id:"sunday",label:"Dim"}].map(a=>(0,d.jsx)("button",{onClick:()=>{let b=D.availableDays.includes(a.id)?D.availableDays.filter(b=>b!==a.id):[...D.availableDays,a.id];E({...D,availableDays:b})},className:`w-14 h-14 rounded-full text-base font-semibold transition-all ${D.availableDays.includes(a.id)?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:"Cr\xe9neaux pr\xe9f\xe9r\xe9s"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"morning",label:"Matin",time:"6h-12h"},{id:"afternoon",label:"Apr\xe8s-midi",time:"12h-18h"},{id:"evening",label:"Soir",time:"18h-22h"}].map(a=>(0,d.jsxs)("button",{onClick:()=>{let b=D.preferredStudySlots.includes(a.id)?D.preferredStudySlots.filter(b=>b!==a.id):[...D.preferredStudySlots,a.id];E({...D,preferredStudySlots:b})},className:`py-4 px-4 rounded-xl text-center transition-all ${D.preferredStudySlots.includes(a.id)?"bg-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,d.jsx)("p",{className:"text-base font-semibold",style:{color:D.preferredStudySlots.includes(a.id)?"#ffffff":void 0},children:a.label}),(0,d.jsx)("p",{className:"text-sm",style:{color:D.preferredStudySlots.includes(a.id)?"rgba(255,255,255,0.85)":"#6b7280"},children:a.time})]},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:"Intensit\xe9 d'\xe9tude"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"light",label:"L\xe9g\xe8re",desc:"Rythme d\xe9tendu"},{id:"moderate",label:"Mod\xe9r\xe9e",desc:"\xc9quilibre parfait"},{id:"intensive",label:"Intensive",desc:"Pr\xe9paration acc\xe9l\xe9r\xe9e"}].map(a=>(0,d.jsxs)("button",{onClick:()=>E({...D,studyIntensity:a.id}),className:`py-4 px-4 rounded-xl text-center transition-all ${D.studyIntensity===a.id?"bg-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(0,d.jsx)("p",{className:"text-base font-semibold",style:{color:D.studyIntensity===a.id?"#ffffff":void 0},children:a.label}),(0,d.jsx)("p",{className:"text-sm",style:{color:D.studyIntensity===a.id?"rgba(255,255,255,0.85)":"#6b7280"},children:a.desc})]},a.id))})]})]}),(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:["Heures d'\xe9tude par jour: ",(0,d.jsxs)("span",{className:"text-gray-600",children:[D.dailyStudyHours,"h"]})]}),(0,d.jsx)("input",{type:"range",min:"1",max:"8",value:D.dailyStudyHours,onChange:a=>E({...D,dailyStudyHours:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900"}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[(0,d.jsx)("span",{children:"1h"}),(0,d.jsx)("span",{children:"4h"}),(0,d.jsx)("span",{children:"8h"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:["Dur\xe9e des pauses: ",(0,d.jsxs)("span",{className:"text-gray-600",children:[D.breakDuration," min"]})]}),(0,d.jsx)("input",{type:"range",min:"5",max:"30",step:"5",value:D.breakDuration,onChange:a=>E({...D,breakDuration:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900"}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[(0,d.jsx)("span",{children:"5 min"}),(0,d.jsx)("span",{children:"15 min"}),(0,d.jsx)("span",{children:"30 min"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-base font-semibold text-gray-900 mb-4",children:"Horaires de travail"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-500 mb-2",children:"D\xe9but"}),(0,d.jsx)("input",{type:"time",value:D.preferredStartTime,onChange:a=>E({...D,preferredStartTime:a.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-gray-900 focus:outline-none transition-colors text-base"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm text-gray-500 mb-2",children:"Fin"}),(0,d.jsx)("input",{type:"time",value:D.preferredEndTime,onChange:a=>E({...D,preferredEndTime:a.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-gray-900 focus:outline-none transition-colors text-base"})]})]})]})]})]}),(0,d.jsx)("button",{onClick:()=>as(1),className:"w-full py-4 bg-gray-900 text-white rounded-full text-lg font-semibold hover:bg-gray-800 transition-colors",children:"Continuer"})]},"step1"),2===K&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-14 h-14 bg-gray-900 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(q.A,{size:24,className:"text-white"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Buddy de motivation"}),(0,d.jsx)("p",{className:"text-gray-500",children:"Invite quelqu'un pour te soutenir dans ta progression"})]}),(0,d.jsx)(ev,{userId:"current_user",userName:"\xc9tudiant SMS",onNavigateToBuddies:()=>{console.log("Navigation vers Buddies")}}),(0,d.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,d.jsx)("button",{onClick:()=>as(2),className:"w-full py-4 bg-gray-900 text-white rounded-full text-lg font-semibold hover:bg-gray-800 transition-colors",children:"Continuer"}),(0,d.jsx)("button",{onClick:()=>as(2),className:"w-full py-3 text-gray-400 text-sm font-medium hover:text-gray-600 transition-colors",children:"Passer cette \xe9tape"})]})]},"step2"),3===K&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tes \xe9ch\xe9ances"}),(0,d.jsx)("p",{className:"text-base text-gray-600",children:"Indique les dates d'examen. Si tu ne les connais pas encore, tu peux en proposer une ou valider celles propos\xe9es par d'autres \xe9tudiants."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsx)("div",{children:(0,d.jsx)(eC,{favoriteCourses:u.length>0?u:[{id:"ondes-mecaniques",title:"Ondes m\xe9caniques",progress:45},{id:"suites-limites",title:"Suites et Limites",progress:67},{id:"equilibres-chimiques",title:"\xc9quilibres Chimiques",progress:23},{id:"forces-mouvement",title:"Forces et Mouvement",progress:0}],focusedCourse:v,userId:"current_user",userName:"\xc9tudiant SMS",faculty:"Facult\xe9 Sciences"})}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-100",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Comment \xe7a fonctionne ?"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(k.A,{size:18,className:"text-green-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Date officielle"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Si la date est connue, elle appara\xeet directement"})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(t.A,{size:18,className:"text-orange-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Date propos\xe9e"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Un autre \xe9tudiant a propos\xe9 une date â€” tu peux la valider"})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(o.A,{size:18,className:"text-gray-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Proposer une date"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Si aucune date n'existe, tu peux en sugg\xe9rer une"})]})]})]}),(0,d.jsx)("p",{className:"text-sm text-gray-400 mt-6",children:"Le planning s'adapte automatiquement quand les dates changent"})]})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)("button",{onClick:()=>L(2),className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-full text-lg font-semibold hover:bg-gray-200 transition-colors",children:"Retour"}),(0,d.jsx)("button",{onClick:()=>{b&&(J(!0),setTimeout(()=>{G(b(D)),J(!1),Q("overview")},2e3))},disabled:H,className:`flex-1 py-4 rounded-full text-lg font-semibold transition-colors flex items-center justify-center gap-2 ${H?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"}`,children:H?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-gray-500 border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"G\xe9n\xe9ration en cours..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"G\xe9n\xe9rer mon planning"}),(0,d.jsx)(B.A,{size:20})]})})]})]},"step3")]})})]},"setup")})}),(0,d.jsx)(i.N,{children:aj.isOpen&&aj.session&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>ak({isOpen:!1,session:null}),children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:a=>a.stopPropagation(),className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[(0,d.jsxs)("div",{className:"px-6 py-5 border-b border-gray-100",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Replanifier la le\xe7on"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Choisis un nouveau cr\xe9neau"})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 mb-6",children:[(0,d.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1.5 text-orange-600",style:{letterSpacing:"0.1em"},children:aj.session.trackTitle}),(0,d.jsx)("p",{className:"text-xl font-extrabold text-gray-900",children:aj.session.chapter})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Cr\xe9neau sugg\xe9r\xe9"}),(0,d.jsxs)("button",{onClick:()=>ap(aj.session?.suggestedReschedule||""),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${ao===aj.session.suggestedReschedule?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${ao===aj.session.suggestedReschedule?"bg-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:(0,d.jsx)(o.A,{size:20})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:aj.session.suggestedReschedule}),(0,d.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Cr\xe9neau align\xe9 avec ton rythme habituel"})]})]}),(0,d.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center gap-2",children:[(0,d.jsx)(k.A,{size:14,className:"text-green-500"}),(0,d.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Aucun impact sur les autres sessions"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Autres cr\xe9neaux disponibles"}),(0,d.jsxs)("span",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,d.jsx)(k.A,{size:12}),"Sans impact sur ton planning"]})]}),(0,d.jsx)("div",{className:"space-y-2",children:["Aujourd'hui","Demain matin","Ce week-end","Choisir un jour"].map(a=>(0,d.jsx)("button",{onClick:()=>ap(a),className:`w-full p-3 rounded-xl border text-left transition-all ${ao===a?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("p",{className:"text-base font-medium text-gray-900",children:a})},a))})]})]}),(0,d.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex gap-3",children:[(0,d.jsx)("button",{onClick:()=>ak({isOpen:!1,session:null}),className:"flex-1 py-3 rounded-full text-base font-semibold text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,d.jsx)("button",{onClick:()=>{let a=ao===aj.session?.suggestedReschedule;ak({isOpen:!1,session:null}),ap(""),ar({show:!0,message:a?"âœ“ Replanifi\xe9 â€” tu restes dans le rythme":"âœ“ Planning ajust\xe9 â€” session d\xe9plac\xe9e"}),setTimeout(()=>ar({show:!1,message:""}),3e3)},disabled:!ao,className:`flex-1 py-3 rounded-full text-base font-semibold transition-colors ${ao?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Confirmer"})]})]})]})}),(0,d.jsx)(i.N,{children:aq.show&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:50,x:"-50%"},className:"fixed bottom-6 left-1/2 z-50 bg-gray-900 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2",children:(0,d.jsx)("span",{className:"text-base font-medium",children:aq.message})})})]})}function eM({isOpen:a,onClose:b,onStartPlanning:c,onPostpone:f,courseName:g,showCelebration:j=!1,packTitle:k}){console.log("\uD83C\uDFAF ONBOARDING MODAL: Rendu avec isOpen:",a,"courseName:",g);let[l,m]=(0,e.useState)(0),n=[{icon:(0,d.jsx)(J.A,{className:"text-emerald-600",size:40}),title:j?"\uD83C\uDF89 F\xe9licitations !":"F\xe9licitations !",subtitle:j&&k?`Tu viens de d\xe9bloquer le pack "${k}"`:g?`Tu viens de d\xe9bloquer "${g}"`:"Tu as d\xe9bloqu\xe9 un cours complet",description:j?"\uD83C\uDF81 En r\xe9compense, tu re\xe7ois +100â‚¬ sur ta prochaine recharge ! Et maintenant, organise ton apprentissage avec le planificateur intelligent.":"Et avec \xe7a, tu as maintenant acc\xe8s \xe0 ton planificateur personnel !",color:j?"bg-gradient-to-br from-yellow-50 to-orange-50":"bg-gradient-to-br from-emerald-50 to-green-50",iconBg:j?"bg-yellow-100":"bg-emerald-100"},{icon:(0,d.jsx)(o.A,{className:"text-blue-600",size:40}),title:"Construisons ton planning ensemble !",subtitle:"Ton GPS personnel pour r\xe9ussir",description:g?"Veux-tu ajouter ce nouveau cours \xe0 ton planning existant ou cr\xe9er un nouveau planning personnalis\xe9 maintenant ?":"Maintenant que tu as acc\xe8s au planificateur, veux-tu configurer ton planning personnalis\xe9 maintenant ou pr\xe9f\xe8res-tu le faire plus tard ?",color:"bg-gradient-to-br from-blue-50 to-indigo-50",iconBg:"bg-blue-100"},{icon:(0,d.jsx)(r.A,{className:"text-blue-600",size:40}),title:"Pr\xeat pour le succ\xe8s ?",subtitle:"Planification intelligente activ\xe9e",description:"Deadlines automatiques, adaptation en temps r\xe9el, et buddy system pour te motiver !",color:"bg-gradient-to-br from-blue-50 to-indigo-50",iconBg:"bg-blue-100"}],p=n[l],s=()=>{b()};return a?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-white/80 backdrop-blur-sm p-4 md:p-8",style:{position:"fixed",zIndex:9999},children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative max-w-lg w-full bg-white rounded-3xl overflow-hidden shadow-lg border border-gray-200",children:[(0,d.jsxs)("div",{className:`${p.color} p-8 text-center relative border-b border-gray-100`,children:[(0,d.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(v.A,{size:20})}),(0,d.jsx)(h.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,type:"spring",damping:20},className:`w-20 h-20 ${p.iconBg} rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm`,children:p.icon},l),(0,d.jsx)(h.P.h2,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-2xl font-semibold text-gray-900 mb-3",children:p.title},`title-${l}`),(0,d.jsx)(h.P.p,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-gray-600 font-medium text-lg",children:p.subtitle},`subtitle-${l}`)]}),(0,d.jsxs)("div",{className:"p-8 bg-white",children:[(0,d.jsx)(h.P.p,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-gray-600 text-center leading-relaxed mb-8 text-base",children:p.description},`desc-${l}`),2===l&&(0,d.jsxs)(h.P.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"grid grid-cols-3 gap-4 mb-8",children:[(0,d.jsxs)("div",{className:"text-center p-3 rounded-xl bg-blue-50 border border-blue-100",children:[(0,d.jsx)(t.A,{className:"text-blue-600 mx-auto mb-2",size:24}),(0,d.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Horaires optimis\xe9s"})]}),(0,d.jsxs)("div",{className:"text-center p-3 rounded-xl bg-emerald-50 border border-emerald-100",children:[(0,d.jsx)(I.A,{className:"text-emerald-600 mx-auto mb-2",size:24}),(0,d.jsx)("span",{className:"text-xs text-emerald-700 font-medium",children:"Suivi progr\xe8s"})]}),(0,d.jsxs)("div",{className:"text-center p-3 rounded-xl bg-blue-50 border border-blue-100",children:[(0,d.jsx)(q.A,{className:"text-blue-600 mx-auto mb-2",size:24}),(0,d.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"Buddy system"})]})]}),(0,d.jsx)("div",{className:"flex justify-center space-x-3 mb-8",children:n.map((a,b)=>(0,d.jsx)(h.P.div,{initial:{scale:.8},animate:{scale:b===l?1.2:1},className:`w-2 h-2 rounded-full transition-all duration-300 ${b===l?"bg-gray-900 w-8":b<l?"bg-gray-400":"bg-gray-200"}`},b))}),1===l?(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsxs)(h.P.button,{onClick:()=>{m(2)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/25 flex items-center justify-center gap-3",children:[(0,d.jsx)(o.A,{size:18}),"Oui, je planifie maintenant"]}),(0,d.jsxs)("button",{onClick:()=>{f()},className:"w-full py-3 px-4 text-gray-500 hover:text-gray-700 transition-colors font-medium border border-gray-200 rounded-xl hover:bg-gray-50 flex items-center justify-center gap-2",children:[(0,d.jsx)(t.A,{size:16}),"Plus tard"]})]}):(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:s,className:"flex-1 py-3 px-4 text-gray-500 hover:text-gray-700 transition-colors font-medium border border-gray-200 rounded-xl hover:bg-gray-50",children:"Passer"}),(0,d.jsxs)(h.P.button,{onClick:()=>{l<n.length-1?m(l+1):(c(),b())},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 px-6 bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-xl font-medium hover:from-gray-800 hover:to-gray-700 transition-all shadow-sm flex items-center justify-center gap-2",children:[l===n.length-1?"Commencer":"Suivant",(0,d.jsx)(O.A,{size:16})]})]})]})]})})}):null}class eN{static checkCourseAccess(a,b,c){let d,e=a.id,f=a.lessons?.length||a.totalLessons||0,g=b.includes(`course-${e}`)||b.includes(e)||a.packId&&b.includes(`pack-${a.packId}`),h=a.lessons?.filter(a=>a.isOwned||b.includes(a.id)).map(a=>a.id)||[],i=!1;return g?(d="full-course",i=!0):h.length===f&&f>0?(d="all-lessons",i=!0):(d="partial",i=!1),{userId:c,courseId:e,hasFullAccess:i,ownedLessons:h,totalLessons:f,accessReason:d,purchasedItems:b.filter(a=>a===e||h.includes(a))}}static getAccessibleStudyRooms(a,b,c){return a.filter(a=>{if(!a.courseId)return!0;let d=b[a.courseId];return!!d&&(!a.requiresFullAccess||!!d.hasFullAccess)&&(!a.allowedUserIds||!!a.allowedUserIds.includes(c))})}static getHeaderState(a,b,c=[]){let d=a.length>0,e=b.filter(a=>!a.isRead);return{hasActiveRooms:d,friendsInRooms:a.reduce((a,b)=>a+b.currentUsers.filter(a=>c.some(b=>b.id===a.id)).length,0),accessibleRoomsCount:a.length,notifications:e}}static createNotification(a,b,c,d){let e={"room-opened":`Une Study Room "${d?.roomName}" vient de s'ouvrir pour ${d?.courseName||"votre cours"}`,"friend-joined":`Un ami a rejoint la Study Room "${d?.roomName}"`,"room-starting":`La Study Room "${d?.roomName}" va commencer dans 5 minutes`,"room-ending":`La Study Room "${d?.roomName}" se termine dans 10 minutes`,"course-room-available":`Une Study Room est maintenant disponible pour ${d?.courseName}`};return{id:`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,studyRoomId:b,courseId:d?.courseId,courseName:d?.courseName,type:a,message:e[a],timestamp:new Date,isRead:!1,targetUserId:c,metadata:d}}static canCreateStudyRoom(a,b,c=!1){return!!c||a.hasFullAccess}static getAccessDeniedMessage(a,b){if("partial"===a.accessReason){let c=a.ownedLessons.length,d=a.totalLessons,e=d-c;return`Acc\xe8s Study Room refus\xe9. Vous avez d\xe9bloqu\xe9 ${c}/${d} le\xe7ons. Il vous manque ${e} le\xe7on${e>1?"s":""} pour acc\xe9der \xe0 la Study Room de "${b}". D\xe9bloquezz le pack complet ou les le\xe7ons restantes.`}return`Acc\xe8s refus\xe9 \xe0 la Study Room de "${b}". Vous devez poss\xe9der le pack complet ou toutes les le\xe7ons du cours.`}static getRoomsForCourse(a,b){return a.filter(a=>a.courseId===b)}static isRoomActive(a){let b=new Date;return a.isScheduled&&a.scheduledStart&&a.scheduledEnd?b>=a.scheduledStart&&b<=a.scheduledEnd:a.currentUsers.length>0}static getRoomStats(a){return{participantsCount:a.currentUsers.length,maxParticipants:a.maxUsers,isNearCapacity:a.currentUsers.length>=.8*a.maxUsers,isFull:a.currentUsers.length>=a.maxUsers,hasCamera:a.settings.cameraEnabled,hasMic:a.settings.micEnabled,hasChat:a.settings.chatEnabled,isPrivate:a.settings.isPrivate}}}class eO{static{this.planCache=new Map}static checkPlannerAccess(a,b,c,d=!1,e=!1){let f=[],g=[];return a.filter(a=>a&&a.id).forEach(a=>{let c=a.isOwned||b.includes(`course-${a.id}`)||b.includes(a.id),d=(0,ac.S6)().some(c=>c.courses.includes(a.id)&&b.includes(c.id));if(c||d){f.push(a.id),g.push(a.id);return}if(a.lessons&&a.lessons.length>0){let c=a.lessons.length,d=a.lessons.filter(a=>a.isOwned||b.includes(a.id)).length;d>0&&f.push(a.id),d===c&&g.push(a.id)}}),{hasAccess:!0,accessReason:"full-pack",ownedCourses:f,completeCourses:g,totalCourses:a.length,accessMessage:d?"Planificateur configur\xe9 ! Ton coach strat\xe9gique est actif.":"Acc\xe8s complet au planificateur ! Ton coach strat\xe9gique va r\xe9volutionner tes \xe9tudes.",isConfigured:d,hasPostponed:e}}static getExistingPlan(a){let b=this.planCache.get(a);if(b)return b;try{let b=localStorage.getItem(`planner_${a}`);if(b){let c=JSON.parse(b);return c.startDate=new Date(c.startDate),c.examDate=new Date(c.examDate),c.lastUpdated=new Date(c.lastUpdated),c.sessions=c.sessions.map(a=>({...a,date:new Date(a.date)})),this.planCache.set(a,c),c}}catch(a){console.error("Erreur lors de la r\xe9cup\xe9ration du planning:",a)}return null}static savePlan(a){this.planCache.set(a.userId,a);try{localStorage.setItem(`planner_${a.userId}`,JSON.stringify(a))}catch(a){console.error("Erreur lors de la sauvegarde du planning:",a)}}static hasExistingPlan(a){return null!==this.getExistingPlan(a)}static generateStudyPlan(a,b,c,d){let e=[],f=new Date,g=f.getDay();f.setDate(f.getDate()+(0===g?-6:1-g));let h=1,i=a.filter(a=>b.includes(a.id)),j=c.examDate||new Date(Date.now()+2592e6),k=Math.floor(Math.ceil((j.getTime()-f.getTime())/864e5)/7*c.availableDays.length)*c.dailyStudyHours,l=k/i.length;i.forEach(a=>{let b=a.lessons||[],d=b.length>0?Math.floor(60*l/b.length):Math.floor(60*l);b.length>0?b.forEach((b,g)=>{let i=this.getNextAvailableDate(f,g,c.availableDays);if(e.push({id:`session-${h++}`,date:i,startTime:c.preferredStartTime,endTime:this.addMinutesToTime(c.preferredStartTime,d),courseId:a.id,courseName:a.title,lessonId:b.id,lessonName:b.title,type:"lesson",isCompleted:!1,isOptional:!1,difficulty:b.difficulty||"medium",estimatedMinutes:d,duration:d,status:"upcoming",videoProgressPercentage:0===g?75:1===g?100:45*(2===g),videoId:b.videoId||`video-${b.id}`,requiredCompletionThreshold:100}),(g+1)%3==0){let b=this.getNextAvailableDate(f,g+.5,c.availableDays);e.push({id:`session-${h++}`,date:b,startTime:c.preferredStartTime,endTime:this.addMinutesToTime(c.preferredStartTime,30),courseId:a.id,courseName:a.title,type:"review",isCompleted:!1,isOptional:!0,difficulty:"easy",estimatedMinutes:30,duration:30,status:"upcoming",videoProgressPercentage:g%2==0?90:60,videoId:`review-${a.id}-${g}`,requiredCompletionThreshold:90})}}):e.push({id:`session-${h++}`,date:new Date(f.getTime()+24*e.length*36e5),startTime:c.preferredStartTime,endTime:this.addMinutesToTime(c.preferredStartTime,Math.floor(60*l)),courseId:a.id,courseName:a.title,type:"lesson",isCompleted:!1,isOptional:!1,difficulty:"medium",estimatedMinutes:Math.floor(60*l),duration:Math.floor(60*l),status:"upcoming",videoProgressPercentage:0,videoId:`course-${a.id}`,requiredCompletionThreshold:100})}),e.push(...this.generateDemoSessions(f,c)),e.sort((a,b)=>a.date.getTime()-b.date.getTime());let m=e.map(a=>eD.applyColorCoding(a)),n={id:`plan-${d}-${Date.now()}`,userId:d,name:`Plan d'\xe9tude ${i.length>1?"multi-cours":i[0]?.title}`,startDate:f,examDate:j,preferences:c,sessions:m,totalEstimatedHours:Math.round(10*k)/10,progressPercentage:0,isActive:!0,lastUpdated:new Date};return this.savePlan(n),n}static updatePlanningWithNewCourse(a,b,c){console.log("\uD83D\uDD04 Mise \xe0 jour du planning avec le nouveau cours:",b.title);let d=this.getExistingPlan(a);if(!d)return console.log("âŒ Aucun planning existant trouv\xe9 - g\xe9n\xe9ration d'un nouveau planning"),this.generateStudyPlan([b],[b.id],c,a);if(console.log("âœ… Planning existant trouv\xe9 avec",d.sessions.length,"sessions"),new Set(d.sessions.map(a=>a.courseId)).has(b.id))return console.log("âš ï¸ Cours d\xe9j\xe0 planifi\xe9, pas de mise \xe0 jour n\xe9cessaire"),d;let e=this.generateSessionsForCourse(b,c,d.sessions.length+1),f=d.sessions.length>0?new Date(Math.max(...d.sessions.map(a=>a.date.getTime()))):new Date,g=this.adjustSessionDates(e,f,c),h=[...d.sessions,...g].sort((a,b)=>a.date.getTime()-b.date.getTime()),i=h.reduce((a,b)=>a+b.estimatedMinutes/60,0),j=h.filter(a=>a.isCompleted).length,k=h.length>0?Math.round(j/h.length*100):0,l={...d,name:`Plan d'\xe9tude mis \xe0 jour (${new Set(h.map(a=>a.courseId)).size} cours)`,sessions:h,totalEstimatedHours:Math.round(10*i)/10,progressPercentage:k,lastUpdated:new Date};return this.savePlan(l),console.log("âœ… Planning mis \xe0 jour avec",g.length,"nouvelles sessions"),l}static generateSessionsForCourse(a,b,c){let d=[],e=a.lessons||[];return 0===e.length?(console.log("âš ï¸ Cours sans le\xe7ons d\xe9taill\xe9es:",a.title),[]):(console.log("\uD83D\uDCDA G\xe9n\xe9ration de sessions pour",e.length,"le\xe7ons du cours",a.title),e.forEach((e,f)=>{let g=Math.floor(60*b.dailyStudyHours/2);d.push({id:`session-${c+f}`,date:new Date,startTime:b.preferredStartTime,endTime:this.addMinutesToTime(b.preferredStartTime,g),courseId:a.id,courseName:a.title,lessonId:e.id,lessonName:e.title,type:"lesson",isCompleted:e.isCompleted||!1,isOptional:!1,difficulty:e.difficulty||"medium",estimatedMinutes:g,duration:g,status:e.isCompleted?"completed":"upcoming",videoProgressPercentage:100*!!e.isCompleted,videoId:e.videoId||`video-${e.id}`,requiredCompletionThreshold:100}),(f+1)%3==0&&d.push({id:`session-${c+f+1e3}`,date:new Date,startTime:b.preferredStartTime,endTime:this.addMinutesToTime(b.preferredStartTime,30),courseId:a.id,courseName:a.title,type:"review",isCompleted:!1,isOptional:!0,difficulty:"easy",estimatedMinutes:30,duration:30,status:"upcoming",videoProgressPercentage:0,videoId:`review-${a.id}-${f}`,requiredCompletionThreshold:90})}),d.map(a=>eD.applyColorCoding(a)))}static adjustSessionDates(a,b,c){console.log("\uD83D\uDCC5 Ajustement des dates \xe0 partir du",b.toLocaleDateString());let d=new Date(b);return d.setDate(d.getDate()+1),a.map((a,b)=>{let e=this.getNextAvailableDate(d,b,c.availableDays);return{...a,date:e}})}static adaptPlan(a,b,c){let d=a.sessions.map(a=>({...a,isCompleted:b.includes(a.id)})),e=b.length,f=a.sessions.length,g=f>0?Math.round(e/f*100):0,h="";return c.length>0?h=`Rattrapage n\xe9cessaire : ${c.length} session${c.length>1?"s":""} en retard`:g>this.calculateExpectedProgress(a)&&(h="Excellent ! Tu es en avance sur ton planning. Optimisation en cours..."),{...a,sessions:d,progressPercentage:g,adaptationReason:h,lastUpdated:new Date}}static createBuddyNotification(a,b,c){let d={"missed-session":`Ton buddy a manqu\xe9 sa session d'\xe9tude "${c}". Un petit encouragement ? ðŸ’ª`,"progress-update":`Ton buddy fait des progr\xe8s fantastiques ! Continue \xe0 l'encourager ðŸŽ‰`};return{id:`buddy-notif-${Date.now()}`,userId:a.userId,type:"buddy-alert",title:"missed-session"===b?"Session manqu\xe9e":"Progr\xe8s excellent",message:d[b],actionRequired:"missed-session"===b,timestamp:new Date,isRead:!1,metadata:{buddyId:a.id}}}static generateWhatsAppMessage(a,b){let c="Salut l'\xe9quipe SMS ! \uD83D\uDC4B";return a.hasAccess?b?`${c}

J'ai besoin d'aide avec mon planning d'\xe9tude. Je suis \xe0 ${b.progressPercentage}% de progression et j'aimerais optimiser ma strat\xe9gie ! ðŸŽ¯`:`${c}

Je viens d'avoir acc\xe8s au planificateur ! Pouvez-vous m'aider \xe0 cr\xe9er le planning parfait pour r\xe9ussir mes examens ? ðŸš€`:`${c}

J'aimerais en savoir plus sur le planificateur personnel. Comment \xe7a peut m'aider dans mes \xe9tudes ? ðŸ“š`}static generateDemoSessions(a,b){let c=[],d=new Date(2025,8,19);return c.push({id:`demo-friday-math-${Date.now()}`,date:d,startTime:"09:00",endTime:"10:30",courseId:"course-gauss",courseName:"Loi de Gauss",lessonId:"lesson-gauss-1",lessonName:"Introduction aux distributions",type:"lesson",isCompleted:!1,isOptional:!1,difficulty:"medium",estimatedMinutes:90,duration:90,status:"upcoming",videoProgressPercentage:0,videoId:"video-gauss-intro",requiredCompletionThreshold:100}),c.push({id:`demo-friday-review-${Date.now()}`,date:d,startTime:"14:00",endTime:"15:00",courseId:"course-suites",courseName:"Suites et Limites",lessonId:"lesson-suites-rev",lessonName:"R\xe9vision suites convergentes",type:"review",isCompleted:!1,isOptional:!0,difficulty:"easy",estimatedMinutes:60,duration:60,status:"upcoming",videoProgressPercentage:65,videoId:"video-suites-review",requiredCompletionThreshold:90}),c}static getNextAvailableDate(a,b,c){let d={monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6,sunday:0},e=c.map(a=>d[a]).filter(Boolean),f=Math.floor(1.2*b),g=new Date(a);g.setDate(a.getDate()+f);let h=0;for(;h<14;){let a=g.getDay();if(e.includes(a))return new Date(g);g.setDate(g.getDate()+1),h++}return new Date(a.getTime()+24*f*36e5)}static addMinutesToTime(a,b){let[c,d]=a.split(":").map(Number),e=60*c+d+b,f=Math.floor(e/60);return`${f.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}static calculateExpectedProgress(a){return Math.min(Math.round(Math.floor((Date.now()-a.startDate.getTime())/864e5)/(a.examDate?Math.floor((a.examDate.getTime()-a.startDate.getTime())/864e5):30)*100),100)}static debugCumulativePlanning(a){console.log("\uD83D\uDD27 === DEBUG PLANIFICATION CUMULATIVE ===");let b=this.getExistingPlan(a);if(b){console.log("\uD83D\uDCC5 Planning existant trouv\xe9:"),console.log("  - Nom:",b.name),console.log("  - Sessions:",b.sessions.length),console.log("  - Cours dans le planning:",new Set(b.sessions.map(a=>a.courseId)).size),console.log("  - Derni\xe8re mise \xe0 jour:",b.lastUpdated.toLocaleString());let a={};b.sessions.forEach(b=>{a[b.courseId]=(a[b.courseId]||0)+1}),console.log("  - R\xe9partition par cours:"),Object.entries(a).forEach(([a,b])=>{console.log(`    * ${a}: ${b} sessions`)})}else console.log("âŒ Aucun planning existant pour cet utilisateur");console.log("\uD83D\uDD27 === FIN DEBUG ===")}static clearUserPlanning(a){this.planCache.delete(a),localStorage.removeItem(`planner_${a}`),console.log("\uD83D\uDDD1ï¸ Planning effac\xe9 pour l'utilisateur:",a)}}var eP=c(93768);function eQ({userId:a,onNavigateToCommunity:b,onNavigateToSection:c}){let[f,g]=(0,e.useState)([]),[j,l]=(0,e.useState)([]),[n,r]=(0,e.useState)([]),[s,t]=(0,e.useState)(0),[u,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)("buddies"),z=(0,e.useRef)(null),B=()=>{try{let b=ca.getAllBuddies(a);g(b);let c=b.filter(a=>"online"===a.status||"in_study_room"===a.status);l(c);let d=ca.getSocialNotifications(a);r(d),t(d.filter(a=>!a.isRead).length)}catch(a){console.error("Erreur lors du chargement des donn\xe9es sociales:",a)}},C=(a,b)=>{"buddy-request"===a.type&&a.actionData?.buddyId&&("accept"===b?(ca.acceptBuddyRequest(a.actionData.buddyId),eP.NotificationService.addNotification("SUCCESS","SYSTEM",`Vous \xeates maintenant buddy avec ${a.fromUserName}`,"Demande accept\xe9e",{icon:"\uD83D\uDC65"},"ACHIEVEMENTS")):ca.declineBuddyRequest(a.actionData.buddyId),ca.markNotificationAsRead(a.id),B())},E=a=>({online:"bg-green-500",offline:"bg-gray-400",in_study_room:"bg-blue-500",busy:"bg-orange-500"})[a]||"bg-gray-400",F=a=>({online:"En ligne",offline:"Hors ligne",in_study_room:"En Study Room",busy:"Occup\xe9"})[a]||"Inconnu",G=j.length>0||s>0;return(0,d.jsxs)("div",{className:"relative",ref:z,children:[(0,d.jsxs)("button",{onClick:()=>w(!u),className:"relative w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors group",title:`${f.length} buddy${f.length>1?"s":""} â€¢ ${s} notification${s>1?"s":""}`,children:[(0,d.jsx)(q.A,{size:18,className:"text-gray-900 transition-colors"}),(0,d.jsx)(i.N,{children:G&&(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-xs font-bold",children:s>0?s>9?"9+":s:j.length})})})]}),(0,d.jsx)(i.N,{children:u&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 w-80 bg-white rounded-xl border border-gray-200 shadow-lg z-50",children:[(0,d.jsxs)("div",{className:"p-4 border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:"Social"}),(0,d.jsx)("button",{onClick:()=>{w(!1),b?.()},className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",title:"Acc\xe9der \xe0 la communaut\xe9",children:(0,d.jsx)(aK,{size:14,className:"text-gray-500"})})]}),(0,d.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,d.jsx)("button",{onClick:()=>y("buddies"),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${"buddies"===x?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{size:14}),"Buddies",j.length>0&&(0,d.jsx)("span",{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:j.length})]})}),(0,d.jsx)("button",{onClick:()=>y("notifications"),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${"notifications"===x?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[(0,d.jsx)(ae.A,{size:14}),"Notifications",s>0&&(0,d.jsx)("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s>9?"9+":s})]})})]})]}),(0,d.jsx)("div",{className:"max-h-80 overflow-y-auto",children:"buddies"===x?(0,d.jsx)("div",{className:"p-4",children:0===f.length?(0,d.jsxs)("div",{className:"text-center py-6",children:[(0,d.jsx)(q.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Aucun buddy pour le moment"}),(0,d.jsxs)("button",{onClick:()=>{w(!1),b?.()},className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(D.A,{size:14}),(0,d.jsx)("span",{children:"Inviter des amis"})]})]}):(0,d.jsxs)("div",{className:"space-y-3",children:[j.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Buddies actifs"}),(0,d.jsx)("div",{className:"space-y-2",children:j.slice(0,3).map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-blue-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:a.buddyName.charAt(0)}),(0,d.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${E(a.status)}`})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.buddyName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:F(a.status)})]}),"in_study_room"===a.status&&(0,d.jsx)(p.A,{size:14,className:"text-blue-500"})]},a.id))})]}),f.length>j.length&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Tous les buddies"}),(0,d.jsx)("div",{className:"space-y-2",children:f.filter(a=>!j.includes(a)).slice(0,2).map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center text-white text-sm font-medium",children:a.buddyName.charAt(0)}),(0,d.jsx)("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${E(a.status)}`})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.buddyName}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:F(a.status)})]})]},a.id))})]}),(0,d.jsxs)("button",{onClick:()=>{w(!1),b?.()},className:"w-full flex items-center justify-center gap-2 p-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-300 hover:text-blue-600 transition-colors",children:[(0,d.jsx)(A.A,{size:16}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Inviter un buddy"})]})]})}):(0,d.jsx)("div",{className:"p-4",children:0===n.length?(0,d.jsxs)("div",{className:"text-center py-6",children:[(0,d.jsx)(ae.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Aucune notification sociale"})]}):(0,d.jsx)("div",{className:"space-y-3",children:n.slice(0,5).map(a=>(0,d.jsx)(h.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-3 rounded-lg border transition-all cursor-pointer ${a.isRead?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-200 ring-1 ring-blue-200"}`,onClick:()=>(a=>{switch(ca.markNotificationAsRead(a.id),a.type){case"buddy-request":case"buddy-accepted":case"study-room-invite":case"buddy-in-room":c?.("community");break;case"course-recommendation":c?.("unlock");break;case"planning-alert":c?.("planning")}w(!1),B()})(a),children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(a=>{switch(a){case"buddy-request":case"buddy-accepted":return(0,d.jsx)(q.A,{size:16,className:"text-blue-500"});case"study-room-invite":case"buddy-in-room":return(0,d.jsx)(p.A,{size:16,className:"text-green-500"});case"course-recommendation":return(0,d.jsx)(m.A,{size:16,className:"text-purple-500"});case"planning-alert":return(0,d.jsx)(o.A,{size:16,className:"text-orange-500"});default:return(0,d.jsx)(c5.A,{size:16,className:"text-gray-500"})}})(a.type)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.title}),(0,d.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:(a=>{let b=Math.floor((new Date().getTime()-new Date(a).getTime())/6e4);return b<1?"\xc0 l'instant":b<60?`${b}m`:b<1440?`${Math.floor(b/60)}h`:`${Math.floor(b/1440)}j`})(a.createdAt)})]}),(0,d.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:a.message}),"buddy-request"===a.type&&!a.isRead&&(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),C(a,"accept")},className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium hover:bg-green-200 transition-colors",children:[(0,d.jsx)(k.A,{size:12}),(0,d.jsx)("span",{children:"Accepter"})]}),(0,d.jsxs)("button",{onClick:b=>{b.stopPropagation(),C(a,"decline")},className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium hover:bg-red-200 transition-colors",children:[(0,d.jsx)(v.A,{size:12}),(0,d.jsx)("span",{children:"Refuser"})]})]})]})]})},a.id))})})}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,d.jsx)("button",{onClick:()=>{w(!1),b?.()},className:"w-full px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"Acc\xe9der \xe0 la communaut\xe9"})})]})})]})}function eR({onClick:a,className:b=""}){let[c,f]=(0,e.useState)(0),[g,i]=(0,e.useState)(!1);return dg.getInstance(),(0,d.jsxs)(h.P.button,{onClick:()=>{a(),i(!1)},className:`
        relative p-2 rounded-lg transition-colors duration-200
        hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        ${b}
      `,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Science in Motion â€” Fil d'activit\xe9 intelligent",children:[(0,d.jsx)(h.P.div,{animate:g?{rotate:[0,-10,10,-10,0]}:{},transition:{duration:.5},className:"text-2xl",children:"\uD83E\uDEA9"}),c>0&&(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-semibold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:c>99?"99+":c}),g&&(0,d.jsx)(h.P.div,{initial:{scale:1,opacity:.7},animate:{scale:1.5,opacity:0},transition:{duration:1},className:"absolute inset-0 bg-blue-400 rounded-lg"})]})}function eS({profile:a,onClick:b}){return(0,d.jsxs)("button",{onClick:b,className:"cursor-target flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[(0,d.jsxs)("span",{className:"text-sm font-semibold",children:["Niveau ",a.currentLevel.level]}),(0,d.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,d.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[a.totalXP.toLocaleString()," XP"]}),a.dailyStreak>3&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,d.jsx)("span",{className:"text-base",children:"\uD83D\uDD25"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.dailyStreak})]})]})}function eT({xpGained:a,action:b,newLevel:c,newBadges:f=[],onComplete:g}){let[j,k]=(0,e.useState)(!0),[l,m]=(0,e.useState)("xp");return(0,d.jsx)(i.N,{children:j&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>{k(!1),g?.()},children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl p-6 mx-4 max-w-sm w-full shadow-2xl",children:["xp"===l&&(0,d.jsxs)(h.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[(0,d.jsx)(h.P.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:.6,ease:"easeOut"},className:"text-4xl mb-3",children:b.emoji}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),(0,d.jsxs)(h.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-full font-bold",children:[(0,d.jsxs)("span",{children:["+",a," XP"]}),(0,d.jsx)(h.P.span,{animate:{rotate:360},transition:{duration:.8,ease:"easeInOut"},children:"\uD83D\uDCAA"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-3",children:b.description})]}),"level"===l&&c&&(0,d.jsxs)(h.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[(0,d.jsx)(h.P.div,{animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:1,ease:"easeOut"},className:"text-5xl mb-4",children:c.emoji}),(0,d.jsx)(h.P.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-xl font-bold text-gray-900 mb-2",children:"\uD83C\uDF1F Niveau sup\xe9rieur !"}),(0,d.jsx)(h.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-3 rounded-xl font-bold text-lg mb-3",children:c.title}),(0,d.jsx)(h.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-sm text-gray-600",children:c.description}),c.rewards&&c.rewards.length>0&&(0,d.jsxs)(h.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-xs text-blue-800 font-medium mb-1",children:"\uD83C\uDF81 Nouvelles r\xe9compenses :"}),(0,d.jsx)("ul",{className:"text-xs text-blue-700",children:c.rewards.map((a,b)=>(0,d.jsxs)("li",{children:["â€¢ ",a]},b))})]})]}),"badges"===l&&f.length>0&&(0,d.jsxs)(h.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[(0,d.jsxs)(h.P.h3,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-xl font-bold text-gray-900 mb-4",children:["\uD83C\uDFC6 Nouveau",f.length>1?"x":""," badge",f.length>1?"s":""," !"]}),(0,d.jsx)("div",{className:"space-y-3",children:f.map((a,b)=>(0,d.jsxs)(h.P.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2*b},className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[(0,d.jsx)(h.P.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:1,delay:.2*b+.5,ease:"easeOut"},className:"text-3xl",children:a.emoji}),(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:a.description})]})]},a.id))}),(0,d.jsx)(h.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2*f.length+.5},className:"text-sm text-gray-600 mt-4",children:"Continue, tu inspires d\xe9j\xe0 d'autres \xe9tudiants ! \uD83C\uDF1F"})]}),(0,d.jsx)(h.P.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},onClick:()=>{k(!1),g?.()},className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}function eU({profile:a,userName:b,userAvatar:c,onClose:f}){var g;let[j,k]=(0,e.useState)("overview"),{currentLevel:l,nextLevel:m,progressToNext:p,totalXP:s,dailyStreak:t}=a,u=(g=l.level)>=50?{emoji:"\uD83D\uDC51",label:"L\xe9gende"}:g>=40?{emoji:"\uD83D\uDC8E",label:"Diamant"}:g>=30?{emoji:"\uD83D\uDD25",label:"Ma\xeetre"}:g>=20?{emoji:"âš¡",label:"Expert"}:g>=10?{emoji:"\uD83C\uDF1F",label:"Avanc\xe9"}:{emoji:"\uD83C\uDF93",label:"D\xe9butant"},w=a.badges||[],x=w.filter(a=>a.unlockedAt),z=w.filter(a=>!a.unlockedAt),A={coursesCompleted:a.completedCourses||0,totalStudyTime:a.totalStudyTime||0,perfectQuizzes:a.perfectQuizzes||0,helpedStudents:a.helpedStudents||0},B=[{id:"overview",label:"Vue d'ensemble",icon:r.A},{id:"badges",label:"Badges",icon:ad.A},{id:"stats",label:"Statistiques",icon:I.A}];return(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:f,children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,d.jsxs)("div",{className:"bg-gray-900 border-b border-gray-800 p-6 relative",children:[f&&(0,d.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-gray-800 rounded-lg transition-colors",style:{color:"white"},children:(0,d.jsx)(v.A,{size:20,style:{color:"white"}})}),(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsx)("div",{className:"w-24 h-24 bg-gray-800 border border-gray-700 rounded-2xl flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-5xl",children:u.emoji})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-1",style:{color:"white"},children:b}),(0,d.jsx)("p",{className:"text-sm mb-3",style:{color:"white",opacity:.75},children:u.label}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg",children:[(0,d.jsx)("p",{className:"text-xs",style:{color:"white",opacity:.75},children:"Niveau"}),(0,d.jsx)("p",{className:"text-lg font-bold",style:{color:"white"},children:l.level})]}),(0,d.jsxs)("div",{className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg",children:[(0,d.jsx)("p",{className:"text-xs",style:{color:"white",opacity:.75},children:"XP Total"}),(0,d.jsx)("p",{className:"text-lg font-bold",style:{color:"white"},children:s.toLocaleString()})]}),t>0&&(0,d.jsxs)("div",{className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg flex items-center gap-2",children:[(0,d.jsx)(eu.A,{size:16,className:"text-orange-400"}),(0,d.jsx)("p",{className:"text-lg font-bold",style:{color:"white"},children:t})]})]})]})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-2",style:{color:"white",opacity:.9},children:[(0,d.jsxs)("span",{children:["Progression vers le niveau ",m?.level||l.level+1]}),(0,d.jsxs)("span",{children:[Math.round(100*p),"%"]})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"h-full bg-blue-500",initial:{width:0},animate:{width:`${100*p}%`},transition:{duration:.5}})})]})]}),(0,d.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,d.jsx)("div",{className:"flex",children:B.map(a=>(0,d.jsxs)("button",{onClick:()=>k(a.id),className:`flex-1 px-6 py-4 font-medium transition-colors flex items-center justify-center gap-2 ${j===a.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[(0,d.jsx)(a.icon,{size:18}),(0,d.jsx)("span",{children:a.label})]},a.id))})}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:["overview"===j&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,d.jsx)(n.A,{className:"text-blue-600",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.length}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Badges"})]})]})}),(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,d.jsx)(r.A,{className:"text-purple-600",size:20})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:A.coursesCompleted}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Cours termin\xe9s"})]})]})})]}),x.length>0&&(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,d.jsx)(ad.A,{size:18,className:"text-blue-600"}),"Derniers badges d\xe9bloqu\xe9s"]}),(0,d.jsx)("div",{className:"space-y-3",children:x.slice(0,3).map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[(0,d.jsx)("div",{className:"text-2xl",children:a.icon}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:a.unlockedAt&&new Date(a.unlockedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]},a.id))})]})]}),"badges"===j&&(0,d.jsxs)("div",{className:"space-y-6",children:[x.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(n.A,{size:18,className:"text-blue-600"}),"Badges d\xe9bloqu\xe9s (",x.length,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-4",children:x.map(a=>(0,d.jsxs)("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-4 text-center",children:[(0,d.jsx)("div",{className:"text-4xl mb-2",children:a.icon}),(0,d.jsx)("p",{className:"font-semibold text-gray-900 text-sm mb-1",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:a.description}),a.rarity&&(0,d.jsx)("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${"legendary"===a.rarity?"bg-yellow-100 text-yellow-700":"epic"===a.rarity?"bg-purple-100 text-purple-700":"rare"===a.rarity?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:"legendary"===a.rarity?"L\xe9gendaire":"epic"===a.rarity?"\xc9pique":"rare"===a.rarity?"Rare":"Commun"})]},a.id))})]}),z.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:18,className:"text-gray-400"}),"Badges \xe0 d\xe9bloquer (",z.length,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-4",children:z.map(a=>(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 text-center opacity-60",children:[(0,d.jsx)("div",{className:"text-4xl mb-2 grayscale",children:a.icon}),(0,d.jsx)("p",{className:"font-semibold text-gray-700 text-sm mb-1",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]},a.id))})]})]}),"stats"===j&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"text-blue-600",size:20}),(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"Cours compl\xe9t\xe9s"})]}),(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:A.coursesCompleted})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(A.coursesCompleted/10*100,100)}%`}})})]}),(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"text-purple-600",size:20}),(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"Temps d'\xe9tude"})]}),(0,d.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[Math.round(A.totalStudyTime/60),"h"]})]})}),(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(P.A,{className:"text-yellow-600",size:20}),(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"Quiz parfaits"})]}),(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:A.perfectQuizzes})]})}),(0,d.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{className:"text-green-600",size:20}),(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:"\xc9tudiants aid\xe9s"})]}),(0,d.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:A.helpedStudents})]})})]})]})]})})})}let eV=[{id:"weekend-boost",title:"XP Boost Week-end",description:"Gagne 2\xd7 plus d'XP sur toutes tes activit\xe9s !",multiplier:2,startDate:new Date(Date.now()-36e5),endDate:new Date(Date.now()+1728e5),type:"weekend",icon:"âš¡",color:"from-yellow-400 to-orange-500",rewards:["Badge sp\xe9cial week-end","Bonus permanent +5% XP"],conditions:["Compl\xe9ter au moins 3 le\xe7ons","Obtenir 100% \xe0 un quiz"]},{id:"study-marathon",title:"Marathon d'\xc9tude",description:"Triple XP pendant 24h pour les participants !",multiplier:3,startDate:new Date(Date.now()+2592e5),endDate:new Date(Date.now()+3456e5),type:"challenge",icon:"\uD83C\uDFC3",color:"from-purple-400 to-pink-500",rewards:["Couronne Marathon","1000 XP bonus","Acc\xe8s premium 7 jours"],conditions:["\xc9tudier pendant 4h minimum","Compl\xe9ter 10 exercices"]}];function eW({events:a=eV,onDismiss:b}){let[c,f]=(0,e.useState)([]),[g,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)({});return 0===c.length&&0===g.length?null:(0,d.jsxs)("div",{className:"space-y-4",children:[c.map(a=>(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl border-2 border-gray-300 shadow-lg overflow-hidden",children:[(0,d.jsxs)("div",{className:"bg-gray-900 p-6 relative",children:[b&&(0,d.jsx)("button",{onClick:()=>b(a.id),className:"absolute top-4 right-4 p-2 hover:bg-gray-800 rounded-lg transition-colors",style:{color:"white"},children:(0,d.jsx)(v.A,{size:18,style:{color:"white"}})}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-800 border border-gray-700 rounded-2xl flex items-center justify-center text-4xl",children:a.icon}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("h3",{className:"text-xl font-bold",style:{color:"white"},children:a.title}),(0,d.jsxs)("div",{className:"px-2 py-1 bg-blue-600 rounded-lg text-xs font-bold",style:{color:"white"},children:[a.multiplier,"\xd7 XP"]})]}),(0,d.jsx)("p",{style:{color:"white",opacity:.75},children:a.description})]})]}),(0,d.jsxs)("div",{className:"mt-4 flex items-center gap-2",style:{color:"white",opacity:.75},children:[(0,d.jsx)(t.A,{size:16}),(0,d.jsxs)("span",{className:"font-semibold",children:["Se termine dans : ",l[a.id]||"Calcul..."]})]})]}),(0,d.jsxs)("div",{className:"p-6 bg-gray-50",children:[a.conditions&&a.conditions.length>0&&(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(r.A,{size:16,className:"text-blue-600"}),"Conditions"]}),(0,d.jsx)("ul",{className:"space-y-1",children:a.conditions.map((a,b)=>(0,d.jsxs)("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[(0,d.jsx)("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),a]},b))})]}),a.rewards&&a.rewards.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)(u.A,{size:16,className:"text-blue-600"}),"R\xe9compenses"]}),(0,d.jsx)("ul",{className:"space-y-1",children:a.rewards.map((a,b)=>(0,d.jsxs)("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[(0,d.jsx)("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),a]},b))})]}),(0,d.jsx)("button",{className:"w-full mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-colors",children:"Participer maintenant"})]})]},a.id)),g.length>0&&(0,d.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)(o.A,{size:18,className:"text-blue-600"}),"\xc9v\xe9nements \xe0 venir"]}),(0,d.jsx)("div",{className:"space-y-3",children:g.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-200",children:[(0,d.jsx)("div",{className:"text-2xl",children:a.icon}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:a.title}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:["D\xe9marre dans : ",l[a.id]||"Calcul..."]})]}),(0,d.jsxs)("div",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-bold",children:[a.multiplier,"\xd7 XP"]})]},a.id))})]})]})}function eX({userId:a,userName:b,isOpen:c,onClose:f,onComplete:g}){let[j,k]=(0,e.useState)(0),[l,m]=(0,e.useState)([]),n=[{id:"welcome",title:"Bienvenue dans ton r\xe9seau d'\xe9tude",description:"Connecte-toi avec tes amis pour \xe9tudier ensemble et progresser plus rapidement.",icon:(0,d.jsx)(q.A,{className:"text-white opacity-90",size:32}),content:(0,d.jsxs)("div",{className:"text-center space-y-8",children:[(0,d.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,d.jsx)("p",{className:"text-gray-800 text-lg leading-relaxed font-medium",children:"Science Made Simple est bien plus qu'une plateforme de cours."}),(0,d.jsx)("p",{className:"text-gray-600 mt-3",children:"C'est une communaut\xe9 d'\xe9tudiants qui s'entraident pour r\xe9ussir ensemble."})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(D.A,{className:"text-gray-700",size:32})}),(0,d.jsx)("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Ajoute tes amis"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Trouve tes camarades d'\xe9tude dans ta facult\xe9"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(q.A,{className:"text-gray-700",size:32})}),(0,d.jsx)("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"\xc9tudiez ensemble"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Sessions de groupe plus efficaces"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(r.A,{className:"text-gray-700",size:32})}),(0,d.jsx)("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Progressez plus vite"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Entraide et motivation mutuelle"})]})]})]})},{id:"target",title:"Objectif : Ajoute 3 buddies",description:"Pour d\xe9bloquer ton r\xe9seau d'\xe9tude, trouve et ajoute au moins 3 amis qui \xe9tudient comme toi.",icon:(0,d.jsx)(r.A,{className:"text-white opacity-90",size:32}),content:(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"bg-white border border-gray-300 p-8 rounded-2xl",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-6 text-lg",children:"Pourquoi 3 buddies ?"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Motivation mutuelle"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Restez r\xe9guliers ensemble"})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Partage d'astuces"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Conseils et m\xe9thodes efficaces"})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Sessions de groupe"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"\xc9tude collaborative optimis\xe9e"})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Recommandations"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Nouveaux cours sugg\xe9r\xe9s"})]})]})]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"inline-flex items-center gap-4 mb-6",children:[1,2,3].map(a=>(0,d.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-base font-bold border-2 transition-all ${l.length>=a?"bg-blue-600 text-white border-blue-600 shadow-lg":"bg-white text-gray-400 border-gray-300"}`,children:l.length>=a?(0,d.jsx)(M.A,{size:20}):a},a))}),(0,d.jsxs)("div",{className:"w-full max-w-sm mx-auto",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm font-medium text-gray-700 mb-3",children:[(0,d.jsx)("span",{children:"Progression"}),(0,d.jsxs)("span",{children:[l.length,"/3 buddies ajout\xe9s"]})]}),(0,d.jsx)("div",{className:"h-3 bg-gray-300 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-700 ease-out rounded-full",style:{width:`${l.length/3*100}%`}})})]})]})]})},{id:"suggestions",title:"D\xe9couvre tes futurs buddies",description:"Voici des \xe9tudiants qui partagent tes int\xe9r\xeats et pourraient devenir tes partenaires d'\xe9tude.",icon:(0,d.jsx)(J.A,{className:"text-white opacity-90",size:32}),content:(0,d.jsxs)("div",{className:"space-y-6",children:[[{id:"sophie",name:"Sophie Laurent",faculty:"Sciences",common:3,similarity:92},{id:"alex",name:"Alex Moreau",faculty:"Sciences",common:2,similarity:85},{id:"lea",name:"L\xe9a Martinez",faculty:"Sciences",common:2,similarity:78}].map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 bg-white border border-gray-200 rounded-2xl hover:border-gray-300 hover:shadow-sm transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center gap-5",children:[(0,d.jsx)("div",{className:"w-14 h-14 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-lg",children:a.name.charAt(0)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,d.jsx)("span",{className:"font-medium text-gray-700",children:a.faculty}),(0,d.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,d.jsxs)("span",{className:"text-gray-600",children:[a.common," cours en commun"]}),(0,d.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,d.jsxs)("span",{className:"text-blue-600 font-semibold",children:[a.similarity,"% compatible"]})]})]})]})]}),(0,d.jsx)("button",{onClick:()=>p(a.id,a.name),disabled:l.includes(a.id),className:`px-6 py-3 rounded-xl text-sm font-semibold transition-all ${l.includes(a.id)?"bg-gray-100 text-gray-500 cursor-not-allowed border border-gray-200":"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm hover:shadow-md"}`,children:l.includes(a.id)?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(M.A,{size:18}),(0,d.jsx)("span",{children:"Ajout\xe9"})]}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(D.A,{size:18}),(0,d.jsx)("span",{children:"Ajouter"})]})})]},a.id)),l.length>=3&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 rounded-2xl p-8 text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(M.A,{className:"text-white",size:32})}),(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Objectif atteint !"}),(0,d.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Tu as ajout\xe9 3 buddies. Ton r\xe9seau d'\xe9tude est maintenant actif et pr\xeat \xe0 \xeatre utilis\xe9."})]})]})},{id:"complete",title:"Ton r\xe9seau est pr\xeat",description:"F\xe9licitations ! Tu peux maintenant profiter de toutes les fonctionnalit\xe9s sociales.",icon:(0,d.jsx)(ae.A,{className:"text-white opacity-90",size:32}),content:(0,d.jsxs)("div",{className:"text-center space-y-8",children:[(0,d.jsxs)("div",{className:"bg-white border border-gray-200 p-8 rounded-2xl",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-8 text-xl",children:"Fonctionnalit\xe9s d\xe9bloqu\xe9es"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(q.A,{className:"text-gray-900",size:28})}),(0,d.jsx)("h5",{className:"text-base font-bold text-gray-900 mb-2",children:"Study Rooms en groupe"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Sessions collaboratives avec tes buddies"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(ae.A,{className:"text-gray-900",size:28})}),(0,d.jsx)("h5",{className:"text-base font-bold text-gray-900 mb-2",children:"Notifications d'activit\xe9"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Suivi des progressions en temps r\xe9el"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(J.A,{className:"text-gray-900",size:28})}),(0,d.jsx)("h5",{className:"text-base font-bold text-gray-900 mb-2",children:"Recommandations"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Cours sugg\xe9r\xe9s par ton r\xe9seau"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-50 border border-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(r.A,{className:"text-gray-900",size:28})}),(0,d.jsx)("h5",{className:"text-base font-bold text-gray-900 mb-2",children:"Objectifs partag\xe9s"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"D\xe9fis et challenges en \xe9quipe"})]})]})]}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-8 rounded-2xl",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,d.jsx)("div",{className:"w-14 h-14 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:(0,d.jsx)("span",{className:"text-white text-2xl",children:"\uD83C\uDFC6"})}),(0,d.jsxs)("div",{className:"text-left",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-lg",children:"Badge d\xe9bloqu\xe9"}),(0,d.jsx)("p",{className:"text-gray-700 font-medium",children:'"Papillon Social"'}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Pour avoir cr\xe9\xe9 ton r\xe9seau d'\xe9tude"})]})]})})]})}],o=n[j],p=(b,c)=>{l.includes(b)||(m(a=>[...a,b]),console.log(`Buddy ajout\xe9: ${c}`),b7.awardXP(a,"buddy-help",b,`Ajout de ${c} comme buddy`))};return c?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl max-w-4xl w-full overflow-hidden",children:[(0,d.jsxs)("div",{className:"bg-gray-900 border-b border-gray-800 p-6 relative",children:[(0,d.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-gray-800 rounded-lg transition-colors",style:{color:"#E5E7EB"},children:(0,d.jsx)(v.A,{size:20})}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"p-3 bg-gray-800 border border-gray-700 rounded-xl",children:(0,d.jsx)("div",{style:{color:"white",opacity:.9},children:o.icon})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold",style:{color:"white"},children:o.title}),(0,d.jsx)("p",{style:{color:"#E5E7EB"},children:o.description})]})]}),(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-3",style:{color:"#E5E7EB"},children:[(0,d.jsxs)("span",{children:["\xc9tape ",j+1," sur ",n.length]}),(0,d.jsxs)("span",{children:[Math.round((j+1)/n.length*100),"%"]})]}),(0,d.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"h-full bg-blue-400",initial:{width:0},animate:{width:`${(j+1)/n.length*100}%`},transition:{duration:.5}})})]})]}),(0,d.jsx)("div",{className:"p-8",children:(0,d.jsx)(i.N,{mode:"wait",children:(0,d.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.content},j)})}),(0,d.jsx)("div",{className:"border-t border-gray-200 p-8 bg-white",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("button",{onClick:()=>{j>0&&k(j-1)},disabled:0===j,className:"px-6 py-3 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium bg-transparent border border-transparent hover:bg-blue-50 rounded-lg",children:"Pr\xe9c\xe9dent"}),j===n.length-1?(0,d.jsx)("button",{onClick:()=>{b7.unlockBadge(a,"social-butterfly"),localStorage.setItem(`buddy_onboarding_completed_${a}`,"true"),g(),f()},className:"px-10 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-semibold shadow-sm hover:shadow-md text-lg",children:"Commencer l'aventure"}):(0,d.jsxs)("button",{onClick:()=>{j<n.length-1&&k(j+1)},disabled:!(2!==j||l.length>=3),className:"flex items-center gap-2 px-10 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-semibold shadow-sm hover:shadow-md text-lg",children:[(0,d.jsx)("span",{children:"Continuer"}),(0,d.jsx)(O.A,{size:20})]})]})})]})})}):null}let eY=(0,_.A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),eZ=(0,_.A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var e$=c(81100);class e_{static{this.SETTINGS_KEY="parent_reports_settings_v1"}static{this.REPORTS_KEY="parent_reports_history_v1"}static getParentReportSettings(a){let b=localStorage.getItem(this.SETTINGS_KEY);if(!b)return null;try{return JSON.parse(b)[a]||null}catch(a){return console.error("Erreur lecture param\xe8tres rapports parents:",a),null}}static saveParentReportSettings(a){let b=localStorage.getItem(this.SETTINGS_KEY),c={};if(b)try{c=JSON.parse(b)}catch(a){console.error("Erreur parsing param\xe8tres rapports parents:",a)}c[a.studentId]=a,localStorage.setItem(this.SETTINGS_KEY,JSON.stringify(c)),console.log("âœ… Param\xe8tres rapports parents sauvegard\xe9s pour",a.studentId)}static disableParentReports(a){let b=this.getParentReportSettings(a);b&&(b.isEnabled=!1,this.saveParentReportSettings(b))}static generateWeeklyReport(a){console.log("\uD83D\uDCCA PARENT REPORT: G\xe9n\xe9ration du rapport hebdomadaire pour",a);let b=this.getParentReportSettings(a);if(!b||!b.isEnabled)return console.log("âš ï¸ Rapports parents d\xe9sactiv\xe9s pour",a),null;let c=new Date;c.setDate(c.getDate()-7);let d=new Date,e={id:`report_${a}_${Date.now()}`,studentId:a,parentId:b.parentEmail,weekStartDate:c,weekEndDate:d,generatedAt:new Date,coursesProgress:this.generateCoursesProgress(a),xpGained:this.calculateWeeklyXPGain(a),levelProgress:this.getLevelProgress(a),badgesEarned:this.getWeeklyBadges(a,c),studyRoomParticipations:this.getWeeklyStudyRoomParticipations(a),studyRoomHours:this.getWeeklyStudyRoomHours(a),buddiesInteractions:this.getWeeklyBuddiesInteractions(a),helpGiven:this.getWeeklyHelpGiven(a),helpReceived:this.getWeeklyHelpReceived(a),studyStreak:this.calculateStudyStreak(a),averageSessionDuration:this.calculateAverageSessionDuration(a),mostActiveTimeSlot:this.getMostActiveTimeSlot(a),consistencyScore:this.calculateConsistencyScore(a),insights:this.generateInsights(a),recommendations:this.generateRecommendations(a),concerns:this.identifyConcerns(a)};return this.saveReport(e),console.log("âœ… Rapport hebdomadaire g\xe9n\xe9r\xe9:",e.id),e}static generateCoursesProgress(a){return[{courseId:"loi-gauss",courseName:"Loi de Gauss",lessonsCompleted:8,totalLessons:15,progressPercentage:53,timeSpent:240},{courseId:"integrales",courseName:"Int\xe9grales et Applications",lessonsCompleted:12,totalLessons:20,progressPercentage:60,timeSpent:180},{courseId:"mecanique",courseName:"M\xe9canique Classique",lessonsCompleted:5,totalLessons:18,progressPercentage:28,timeSpent:90}]}static calculateWeeklyXPGain(a){return 350}static getLevelProgress(a){let b=b7.calculateLevel(b7.getUserXP(a)),c=b7.getUserXP(a),d=b7.LEVEL_THRESHOLDS[b+1]||b7.LEVEL_THRESHOLDS[b7.LEVEL_THRESHOLDS.length-1],e=b7.LEVEL_THRESHOLDS[b];return{currentLevel:b,xpToNextLevel:d-c,progressPercentage:Math.round((c-e)/(d-e)*100)}}static getWeeklyBadges(a,b){return[{id:"active-participant",name:"Participant Actif",earnedAt:new Date(Date.now()-1728e5)}]}static getWeeklyStudyRoomParticipations(a){return 5}static getWeeklyStudyRoomHours(a){return 3.5}static getWeeklyBuddiesInteractions(a){return 12}static getWeeklyHelpGiven(a){return 3}static getWeeklyHelpReceived(a){return 2}static calculateStudyStreak(a){return 6}static calculateAverageSessionDuration(a){return 85}static getMostActiveTimeSlot(a){return"afternoon"}static calculateConsistencyScore(a){return 78}static generateInsights(a){return["\uD83D\uDCC8 Excellente progression en math\xe9matiques avec 53% du cours de Loi de Gauss termin\xe9","\uD83E\uDD1D Tr\xe8s bon engagement social avec 5 participations aux Study Rooms cette semaine","âš¡ Forte motivation visible avec 350 XP gagn\xe9s, soit +40% par rapport \xe0 la semaine derni\xe8re","\uD83C\uDFAF Constance remarquable avec 6 jours d'activit\xe9 cons\xe9cutifs"]}static generateRecommendations(a){return["\uD83D\uDCA1 Encourager la poursuite du cours de M\xe9canique Classique (seulement 28% termin\xe9)","\uD83D\uDC65 F\xe9liciter pour l'entraide : a aid\xe9 3 camarades cette semaine","â° Maintenir le rythme d'\xe9tude l'apr\xe8s-midi qui semble \xeatre le plus productif","\uD83C\uDFC6 Proche du niveau suivant ! Encore 150 XP pour d\xe9bloquer de nouvelles fonctionnalit\xe9s"]}static identifyConcerns(a){let b=[];return 50>this.calculateConsistencyScore(a)&&b.push({type:"irregular-schedule",severity:"medium",description:"Horaires d'\xe9tude irr\xe9guliers d\xe9tect\xe9s. Encourager une routine plus stable."}),0===this.getWeeklyStudyRoomParticipations(a)&&b.push({type:"social-isolation",severity:"low",description:"Aucune participation aux Study Rooms cette semaine. Encourager l'apprentissage collaboratif."}),b}static saveReport(a){let b=localStorage.getItem(this.REPORTS_KEY),c=[];if(b)try{c=JSON.parse(b)}catch(a){console.error("Erreur parsing historique rapports:",a)}c.push(a),c=c.sort((a,b)=>new Date(b.generatedAt).getTime()-new Date(a.generatedAt).getTime()).slice(0,12),localStorage.setItem(this.REPORTS_KEY,JSON.stringify(c))}static getReportsHistory(a){let b=localStorage.getItem(this.REPORTS_KEY);if(!b)return[];try{return JSON.parse(b).filter(b=>b.studentId===a).sort((a,b)=>new Date(b.generatedAt).getTime()-new Date(a.generatedAt).getTime())}catch(a){return console.error("Erreur lecture historique rapports:",a),[]}}static formatReportForEmail(a,b){let c="Votre enfant",d=`${a.weekStartDate.toLocaleDateString("fr-FR")} - ${a.weekEndDate.toLocaleDateString("fr-FR")}`;return`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Rapport hebdomadaire - Science Made Simple</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; text-align: center; }
        .content { padding: 20px; max-width: 600px; margin: 0 auto; }
        .section { margin-bottom: 30px; }
        .progress-bar { background: #e0e0e0; height: 20px; border-radius: 10px; overflow: hidden; }
        .progress-fill { background: #4CAF50; height: 100%; transition: width 0.3s ease; }
        .insight { background: #f8f9ff; border-left: 4px solid #667eea; padding: 15px; margin: 10px 0; }
        .concern { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 10px 0; }
        .badge { display: inline-block; background: #667eea; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; margin: 2px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ“Š Rapport Hebdomadaire</h1>
        <p>Science Made Simple â€¢ ${d}</p>
    </div>
    
    <div class="content">
        <div class="section">
            <h2>ðŸ‘‹ Bonjour ${b.parentName},</h2>
            <p>Voici le r\xe9sum\xe9 de l'activit\xe9 de ${c} sur Science Made Simple cette semaine.</p>
        </div>

        <div class="section">
            <h3>ðŸ“š Progression des Cours</h3>
            ${a.coursesProgress.map(a=>`
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <strong>${a.courseName}</strong>
                        <span>${a.progressPercentage}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${a.progressPercentage}%"></div>
                    </div>
                    <small>${a.lessonsCompleted}/${a.totalLessons} le\xe7ons â€¢ ${Math.round(a.timeSpent/60)}h cette semaine</small>
                </div>
            `).join("")}
        </div>

        <div class="section">
            <h3>ðŸŽ® Gamification & Motivation</h3>
            <p><strong>XP gagn\xe9 cette semaine:</strong> +${a.xpGained} points</p>
            <p><strong>Niveau actuel:</strong> ${a.levelProgress.currentLevel} (${a.levelProgress.progressPercentage}% vers le niveau suivant)</p>
            <p><strong>Badges d\xe9bloqu\xe9s:</strong> ${a.badgesEarned.map(a=>`<span class="badge">${a.name}</span>`).join("")}</p>
        </div>

        <div class="section">
            <h3>ðŸ‘¥ Activit\xe9 Sociale</h3>
            <ul>
                <li><strong>${a.studyRoomParticipations}</strong> participations aux Study Rooms (${a.studyRoomHours}h au total)</li>
                <li><strong>${a.helpGiven}</strong> fois o\xf9 ${c} a aid\xe9 d'autres \xe9tudiants</li>
                <li><strong>${a.helpReceived}</strong> fois o\xf9 ${c} a re\xe7u de l'aide</li>
                <li><strong>${a.studyStreak}</strong> jours cons\xe9cutifs d'activit\xe9</li>
            </ul>
        </div>

        <div class="section">
            <h3>ðŸ’¡ Insights de la Semaine</h3>
            ${a.insights.map(a=>`<div class="insight">${a}</div>`).join("")}
        </div>

        <div class="section">
            <h3>ðŸŽ¯ Recommandations</h3>
            ${a.recommendations.map(a=>`<div class="insight">${a}</div>`).join("")}
        </div>

        ${a.concerns.length>0?`
        <div class="section">
            <h3>âš ï¸ Points d'Attention</h3>
            ${a.concerns.map(a=>`<div class="concern"><strong>${a.severity.toUpperCase()}:</strong> ${a.description}</div>`).join("")}
        </div>
        `:""}

        <div class="section">
            <p style="text-align: center; color: #666; font-size: 14px;">
                Ce rapport est g\xe9n\xe9r\xe9 automatiquement chaque semaine.<br>
                Pour modifier vos pr\xe9f\xe9rences ou vous d\xe9sabonner, contactez-nous \xe0 support@sciencemadesimple.com
            </p>
        </div>
    </div>
</body>
</html>
    `}static createDefaultSettings(a,b,c){return{studentId:a,parentEmail:b,parentName:c,isEnabled:!1,frequency:"weekly",preferredDay:"sunday",includeDetailed:!0,includeSocialActivity:!0,includeStudyRoomActivity:!0,language:"fr",studentConsent:!1,parentConsent:!1,consentDate:new Date}}static debugReports(a){console.log("\uD83D\uDD0D DEBUG PARENT REPORTS pour",a);let b=this.getParentReportSettings(a);if(console.log("âš™ï¸ Param\xe8tres:",b),console.log("\uD83D\uDCDA Historique:",this.getReportsHistory(a).length,"rapports"),b&&b.isEnabled){let c=this.generateWeeklyReport(a);console.log("\uD83D\uDCCA Rapport g\xe9n\xe9r\xe9:",c),c&&console.log("\uD83D\uDCE7 Contenu email:",this.formatReportForEmail(c,b).substring(0,500)+"...")}}}function e0({userId:a,userName:b,isOpen:c,onClose:f}){let[g,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(!1),q=async()=>{if(g){n(!0);try{if(g.isEnabled&&(!g.parentEmail||!g.parentName)){alert("Veuillez remplir l'email et le nom du parent pour activer les rapports."),n(!1);return}if(e_.saveParentReportSettings(g),g.isEnabled&&g.studentConsent&&g.parentConsent){let b=e_.generateWeeklyReport(a);b&&console.log("\uD83D\uDCE7 Rapport de test g\xe9n\xe9r\xe9:",b)}alert("Param\xe8tres sauvegard\xe9s avec succ\xe8s !"),f()}catch(a){console.error("Erreur sauvegarde param\xe8tres rapports parents:",a),alert("Erreur lors de la sauvegarde. Veuillez r\xe9essayer.")}finally{n(!1)}}};return c&&g?(0,d.jsx)(i.N,{children:(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 relative",children:[(0,d.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,d.jsx)(v.A,{size:20})}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"p-3 bg-white/20 rounded-xl",children:(0,d.jsx)(z.A,{size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Rapports Parents"}),(0,d.jsx)("p",{className:"opacity-90",children:"Configuration des r\xe9sum\xe9s hebdomadaires"})]})]})]}),(0,d.jsx)("div",{className:"p-6 max-h-96 overflow-y-auto space-y-6",children:k?(0,d.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,d.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{className:"ml-3 text-gray-600",children:"Chargement..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(ex,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:16}),(0,d.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,d.jsx)("p",{className:"font-medium mb-1",children:"\xc0 propos des rapports parents"}),(0,d.jsx)("p",{children:"Les rapports hebdomadaires permettent aux parents de suivre la progression, l'activit\xe9 sociale et les habitudes d'\xe9tude de leur enfant sur la plateforme."})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:"Activer les rapports"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Envoyer des r\xe9sum\xe9s hebdomadaires par email"})]}),(0,d.jsx)("button",{onClick:()=>j({...g,isEnabled:!g.isEnabled}),className:"p-1",children:g.isEnabled?(0,d.jsx)(eY,{className:"text-blue-600",size:24}):(0,d.jsx)(eZ,{className:"text-gray-400",size:24})})]}),g.isEnabled&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 border-l-2 border-blue-200 pl-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email du parent *"}),(0,d.jsx)("input",{type:"email",value:g.parentEmail,onChange:a=>j({...g,parentEmail:a.target.value}),placeholder:"parent@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du parent *"}),(0,d.jsx)("input",{type:"text",value:g.parentName,onChange:a=>j({...g,parentName:a.target.value}),placeholder:"Mme/M. Dupont",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fr\xe9quence"}),(0,d.jsxs)("select",{value:g.frequency,onChange:a=>j({...g,frequency:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"weekly",children:"Hebdomadaire"}),(0,d.jsx)("option",{value:"biweekly",children:"Toutes les 2 semaines"}),(0,d.jsx)("option",{value:"monthly",children:"Mensuel"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jour d'envoi"}),(0,d.jsxs)("select",{value:g.preferredDay,onChange:a=>j({...g,preferredDay:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"sunday",children:"Dimanche"}),(0,d.jsx)("option",{value:"monday",children:"Lundi"}),(0,d.jsx)("option",{value:"tuesday",children:"Mardi"}),(0,d.jsx)("option",{value:"wednesday",children:"Mercredi"}),(0,d.jsx)("option",{value:"thursday",children:"Jeudi"}),(0,d.jsx)("option",{value:"friday",children:"Vendredi"}),(0,d.jsx)("option",{value:"saturday",children:"Samedi"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:"Contenu du rapport"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:g.includeDetailed,onChange:a=>j({...g,includeDetailed:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"text-sm",children:"Rapport d\xe9taill\xe9 (vs r\xe9sum\xe9)"})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:g.includeSocialActivity,onChange:a=>j({...g,includeSocialActivity:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"text-sm",children:"Activit\xe9 sociale (buddies, entraide)"})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:g.includeStudyRoomActivity,onChange:a=>j({...g,includeStudyRoomActivity:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"text-sm",children:"Activit\xe9 Study Rooms"})]})]})]}),(0,d.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,d.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:16}),"Consentements requis"]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"flex items-start gap-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:g.studentConsent,onChange:a=>j({...g,studentConsent:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),(0,d.jsxs)("span",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Consentement \xe9tudiant :"})," J'autorise le partage de mes donn\xe9es d'apprentissage avec mes parents/tuteurs."]})]}),(0,d.jsxs)("label",{className:"flex items-start gap-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:g.parentConsent,onChange:a=>j({...g,parentConsent:a.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),(0,d.jsxs)("span",{className:"text-sm",children:[(0,d.jsx)("strong",{children:"Consentement parent :"})," Le parent a donn\xe9 son accord pour recevoir ces rapports."]})]})]}),(!g.studentConsent||!g.parentConsent)&&(0,d.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-sm text-amber-700",children:[(0,d.jsx)(et.A,{size:14}),(0,d.jsx)("span",{children:"Les deux consentements sont requis pour activer les rapports."})]})]})]})]})]})}),(0,d.jsx)("div",{className:"border-t border-gray-200 p-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("button",{onClick:()=>{if(!g)return;let b=e_.generateWeeklyReport(a);if(b){let a=e_.formatReportForEmail(b,g),c=window.open("","_blank");c&&(c.document.write(a),c.document.close())}},disabled:!g.isEnabled||m,className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(z.A,{size:16}),(0,d.jsx)("span",{children:"Pr\xe9visualiser"})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:f,disabled:m,className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50",children:"Annuler"}),(0,d.jsx)("button",{onClick:q,disabled:m,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,d.jsx)("span",{children:"Sauvegarde..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e$.A,{size:16}),(0,d.jsx)("span",{children:"Sauvegarder"})]})})]})]})})]})})}):null}var e1=c(59268);let e2=[{id:"physics",name:"Physics Mastery",tagline:"Ma\xeetrise les lois de l'univers",description:"De la m\xe9canique newtonienne \xe0 l'\xe9lectromagn\xe9tisme. Comprends enfin comment le monde fonctionne avec des cours structur\xe9s, des exercices guid\xe9s et des cas pratiques.",price:599,originalPrice:999,stats:{chapters:47,hours:60,tracks:12},trendingTopics:["Les 3 Lois de Newton","\xc9nergie & Travail","Loi d'Ohm & Circuits","Lois de Kirchhoff","Entropie & 2\xe8me Principe","Ondes & Interf\xe9rences","Optique g\xe9om\xe9trique","M\xe9canique des fluides"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"mathematics",name:"Mathematics Mastery",tagline:"Le langage de la science",description:"Alg\xe8bre, analyse, probabilit\xe9s. D\xe9veloppe une intuition math\xe9matique solide avec une approche progressive et des exercices corrig\xe9s en d\xe9tail.",price:659,originalPrice:1099,stats:{chapters:63,hours:80,tracks:15},trendingTopics:["Alg\xe8bre lin\xe9aire","Calcul diff\xe9rentiel","Int\xe9grales & Primitives","\xc9quations diff\xe9rentielles","Probabilit\xe9s","Variables al\xe9atoires","Suites & S\xe9ries","Nombres complexes"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"chemistry",name:"Chemistry Mastery",tagline:"La science de la mati\xe8re",description:"Structure atomique, r\xe9actions, chimie organique. Comprends la chimie en profondeur avec des visualisations claires et des exercices pratiques.",price:479,originalPrice:799,stats:{chapters:52,hours:45,tracks:10},trendingTopics:["Structure atomique","Liaisons chimiques","R\xe9actions d'oxydor\xe9duction","Acides & Bases","Chimie organique","Cin\xe9tique chimique","Thermochimie","\xc9lectrochimie"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"biology",name:"Biology Mastery",tagline:"Comprends le vivant",description:"Cellules, g\xe9n\xe9tique, \xe9volution. Explore les m\xe9canismes de la vie avec une approche visuelle et des sch\xe9mas explicatifs.",price:479,originalPrice:799,stats:{chapters:45,hours:50,tracks:9},trendingTopics:["Biologie cellulaire","G\xe9n\xe9tique & ADN","\xc9volution","Physiologie","Biochimie","\xc9cologie","Immunologie","Neurobiologie"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"economics",name:"Economics Mastery",tagline:"D\xe9code l'\xe9conomie",description:"Micro, macro, finance. Comprends les m\xe9canismes \xe9conomiques modernes avec des cas pratiques et des analyses actuelles.",price:359,originalPrice:599,stats:{chapters:38,hours:40,tracks:8},trendingTopics:["Micro\xe9conomie","Macro\xe9conomie","March\xe9s financiers","Politique mon\xe9taire","Commerce international","\xc9conom\xe9trie","Finance d'entreprise","\xc9conomie comportementale"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"accounting",name:"Accounting Mastery",tagline:"Ma\xeetrise la comptabilit\xe9",description:"Comptabilit\xe9 g\xe9n\xe9rale, analytique et financi\xe8re. Apprends \xe0 lire et construire des \xe9tats financiers avec des exercices pratiques.",price:399,originalPrice:699,stats:{chapters:42,hours:55,tracks:10},trendingTopics:["Comptabilit\xe9 g\xe9n\xe9rale","Bilan & Compte de r\xe9sultat","\xc9critures comptables","TVA & Fiscalit\xe9","Comptabilit\xe9 analytique","Analyse financi\xe8re","Normes IFRS","Consolidation"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"},{id:"statistics",name:"Statistics Mastery",tagline:"Analyse les donn\xe9es",description:"Statistiques descriptives, inf\xe9rentielles et tests d'hypoth\xe8ses. Ma\xeetrise l'analyse de donn\xe9es avec des applications concr\xe8tes.",price:449,originalPrice:749,stats:{chapters:35,hours:45,tracks:9},trendingTopics:["Statistiques descriptives","Lois de probabilit\xe9","Tests d'hypoth\xe8ses","R\xe9gression lin\xe9aire","ANOVA","S\xe9ries temporelles","Statistiques non-param\xe9triques","Analyse multivari\xe9e"],videoUrl:"/mentors/Zak-intro.mp4",posterUrl:"/mentors/zak.jpg"}];function e3({ownedProgramIds:a=[],onPurchase:b,onOpenProgram:c,hideHeader:f=!1}){let[g,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!0),[m,n]=(0,e.useState)(""),o=(0,e.useRef)(null),q=(0,e.useRef)(null),r=e2.map(b=>({...b,owned:a.includes(b.id)}));r.reduce((a,b)=>a+b.stats.chapters,0),r.reduce((a,b)=>a+b.stats.hours,0),r.reduce((a,b)=>a+b.stats.tracks,0);let s=a=>{b?b([a]):window.location.href=`/payment?programs=${a}`},t=a=>{c&&c(a)},u=r.filter(a=>{if(!m.trim())return!0;let b=m.toLowerCase();return a.name.toLowerCase().includes(b)||a.tagline.toLowerCase().includes(b)||a.description.toLowerCase().includes(b)||a.trendingTopics.some(a=>a.toLowerCase().includes(b))});return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,d.jsx)("div",{className:"px-4 md:px-6 lg:px-8 py-3 border-b border-gray-100",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(ak.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher un programme, bundle, cours, le\xe7on...",value:m,onChange:a=>n(a.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00c2ff]/20 focus:border-[#00c2ff] transition-all"})]})}),(0,d.jsx)("div",{className:"flex-1 flex flex-col overflow-y-auto",children:(0,d.jsx)("div",{className:"flex flex-col px-4 md:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"flex flex-col",children:u.map((a,b)=>{let c=g===b,e=(b+1).toString().padStart(2,"0"),f=Math.round((1-a.price/a.originalPrice)*100);return(0,d.jsxs)("div",{className:"border-b border-gray-200",children:[!c&&(0,d.jsxs)("button",{onClick:()=>j(b),className:"w-full py-7 flex items-center justify-between group text-left px-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 md:gap-8",children:[(0,d.jsx)("span",{className:"text-xl md:text-2xl font-mono text-gray-300 transition-colors",children:e}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xl md:text-2xl font-bold transition-colors text-gray-500 group-hover:text-gray-900",children:a.name}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:a.tagline})]}),!a.owned&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-gray-400 line-through text-sm",children:[a.originalPrice,"â‚¬"]}),(0,d.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[a.price,"â‚¬"]}),(0,d.jsxs)("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded",children:["-",f,"%"]})]}),a.owned&&(0,d.jsx)("span",{className:"px-2 py-0.5 bg-[#00c2ff]/10 text-[#00c2ff] text-xs font-semibold rounded-full",children:"D\xe9bloqu\xe9"})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-3",children:(0,d.jsx)("div",{className:"w-8 h-8 rounded-full border flex items-center justify-center transition-all border-gray-300 text-gray-400 group-hover:border-gray-900 group-hover:text-gray-900",children:(0,d.jsx)(au.A,{size:16})})})]}),(0,d.jsx)(i.N,{children:c&&(0,d.jsxs)(h.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:[(0,d.jsx)("div",{className:"md:hidden py-6",children:(0,d.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[(0,d.jsx)("span",{className:"text-xl font-mono text-gray-400",children:e}),(0,d.jsx)("button",{onClick:()=>j(null),className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600",children:(0,d.jsx)(au.A,{size:20,className:"rotate-180"})})]}),(0,d.jsx)("h3",{className:"text-3xl font-bold text-gray-900 px-6 mb-2",children:a.name}),(0,d.jsx)("p",{className:"text-gray-600 leading-relaxed px-6 mb-6 text-lg",children:a.description}),a.videoUrl&&(0,d.jsxs)("div",{className:"relative mx-4 rounded-2xl overflow-hidden aspect-video mb-6",children:[(0,d.jsx)("video",{ref:q,className:"absolute inset-0 w-full h-full object-cover",poster:a.posterUrl,muted:k,loop:!0,playsInline:!0,autoPlay:!0,children:(0,d.jsx)("source",{src:a.videoUrl,type:"video/mp4"})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),(0,d.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,d.jsx)("p",{className:"text-white text-xl font-bold",children:"Zak"}),(0,d.jsx)("p",{className:"text-white/70 text-sm",children:"Fondateur de SMS"})]}),(0,d.jsx)("button",{onClick:()=>l(!k),className:"absolute bottom-4 right-4 w-9 h-9 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:k?(0,d.jsx)(b2.A,{size:18}):(0,d.jsx)(b1.A,{size:18})})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 px-6 mb-6",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-full font-medium text-gray-700 text-sm",children:[(0,d.jsx)(z.A,{size:14})," ",a.stats.chapters," Chapitres"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#00c2ff] rounded-full font-medium text-white text-sm",children:[(0,d.jsx)(p.A,{size:14})," ",a.stats.hours,"h Vid\xe9o"]})]}),(0,d.jsx)("div",{className:"px-6 pb-6",children:a.owned?(0,d.jsxs)("button",{onClick:()=>t(a.id),className:"w-full py-4 bg-gray-100 hover:bg-gray-200 text-gray-900 font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:["Ouvrir le programme",(0,d.jsx)(O.A,{size:18})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[(0,d.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:[a.price,"â‚¬"]}),(0,d.jsxs)("span",{className:"text-lg text-gray-400 line-through",children:[a.originalPrice,"â‚¬"]}),(0,d.jsxs)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded",children:["-",f,"%"]})]}),(0,d.jsxs)("button",{onClick:()=>s(a.id),className:"w-full py-4 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:["Commencer maintenant",(0,d.jsx)(O.A,{size:18})]}),(0,d.jsx)("p",{className:"text-center text-sm text-gray-400 mt-3",children:"Acc\xe8s \xe0 vie â€¢ Mises \xe0 jour gratuites"})]})})]})}),(0,d.jsxs)("div",{className:"hidden md:flex min-h-[500px]",children:[(0,d.jsxs)("div",{className:"flex-1 py-8 pr-8",children:[(0,d.jsxs)("button",{onClick:()=>j(null),className:"w-full flex items-center justify-between gap-6 md:gap-10 mb-8 group text-left",children:[(0,d.jsxs)("div",{className:"flex items-start gap-6 md:gap-10",children:[(0,d.jsx)("span",{className:"text-2xl md:text-3xl font-mono text-gray-900",children:e}),(0,d.jsx)("h3",{className:"text-2xl md:text-4xl font-bold text-gray-900",children:a.name})]}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center text-gray-400 group-hover:border-gray-900 group-hover:text-gray-900 transition-all flex-shrink-0",children:(0,d.jsx)(au.A,{size:20,className:"rotate-180"})})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 pl-16 md:pl-20",children:[(0,d.jsxs)("span",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full font-medium text-gray-600 text-sm",children:[(0,d.jsx)(z.A,{size:16})," ",a.stats.chapters," Chapitres"]}),(0,d.jsxs)("span",{className:"flex items-center gap-2 px-4 py-2 bg-[#00c2ff] rounded-full font-medium text-white text-sm",children:[(0,d.jsx)(p.A,{size:16})," ",a.stats.hours,"h Vid\xe9o"]}),a.owned?(0,d.jsxs)("button",{onClick:()=>t(a.id),className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-full font-medium hover:bg-gray-800 transition-colors text-sm",children:["Ouvrir le programme",(0,d.jsx)(O.A,{size:14})]}):(0,d.jsxs)("button",{onClick:()=>s(a.id),className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-full font-medium hover:bg-gray-800 transition-colors text-sm",children:["Commencer â€” ",a.price,"â‚¬",(0,d.jsx)(O.A,{size:14})]})]}),(0,d.jsx)("p",{className:"text-gray-700 leading-relaxed mb-8 pl-16 md:pl-20 text-lg",children:a.description}),(0,d.jsxs)("div",{className:"pl-16 md:pl-20",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-500 uppercase tracking-widest mb-5 text-sm",children:"Sujets tendances"}),(0,d.jsx)("ul",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:a.trendingTopics.map((a,b)=>(0,d.jsx)("li",{className:"flex items-center group/item",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(e1.A,{className:"w-4 h-4 text-gray-300 flex-shrink-0 mt-0.5 group-hover/item:text-[#00c2ff] transition-colors"}),(0,d.jsx)("span",{className:"text-gray-700 font-medium group-hover/item:text-gray-900 transition-colors text-sm",children:a})]})},b))})]}),!a.owned&&(0,d.jsx)("div",{className:"mt-8 pl-16 md:pl-20 pt-6 border-t border-gray-100",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,d.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:[a.price,"â‚¬"]}),(0,d.jsxs)("span",{className:"text-lg text-gray-400 line-through",children:[a.originalPrice,"â‚¬"]}),(0,d.jsxs)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded",children:["-",f,"%"]})]}),(0,d.jsx)("span",{className:"text-sm text-gray-500",children:"Acc\xe8s \xe0 vie â€¢ Mises \xe0 jour gratuites"})]})})]}),(0,d.jsxs)("div",{className:"relative overflow-hidden bg-gray-900 w-[320px] flex-shrink-0",children:[(0,d.jsx)("video",{ref:o,className:"absolute inset-0 w-full h-full object-cover",poster:a.posterUrl,muted:k,loop:!0,playsInline:!0,autoPlay:!0,children:(0,d.jsx)("source",{src:a.videoUrl,type:"video/mp4"})}),(0,d.jsx)("button",{onClick:()=>l(!k),className:"absolute bottom-4 right-4 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors z-10",children:k?(0,d.jsx)(b2.A,{size:20}):(0,d.jsx)(b1.A,{size:20})}),(0,d.jsxs)("div",{className:"absolute bottom-4 left-4 z-10",children:[(0,d.jsx)("p",{className:"text-white text-xl font-bold",children:"Zak"}),(0,d.jsx)("p",{className:"text-white/70 text-sm",children:"Fondateur de SMS"})]}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})]})})]},a.id)})})})})]})}function e4(a){console.log("\uD83D\uDD27 createMockCourseFromId called with:",a);let b={"course-gauss":{id:"course-gauss",title:"Loi de Gauss",description:"Ma\xeetrisez la loi de Gauss et ses applications en \xe9lectrostatique",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"120 min",totalLessons:5,completedLessons:0,progress:0,isOwned:!1,isPrimary:!1},"course-equilibres":{id:"course-equilibres",title:"\xc9quilibres Chimiques",description:"\xc9tude compl\xe8te des \xe9quilibres chimiques : calculs, d\xe9placements d'\xe9quilibre, applications industrielles",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"90 min",totalLessons:4,completedLessons:0,progress:0,isOwned:!0,isPrimary:!0},"course-integrales":{id:"course-integrales",title:"Int\xe9grales et Applications",description:"Techniques d'int\xe9gration et applications pratiques",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"advanced",duration:"150 min",totalLessons:6,completedLessons:0,progress:0,isOwned:!0,isPrimary:!0},"course-forces":{id:"course-forces",title:"Forces et Mouvement",description:"\xc9tude des forces et du mouvement en m\xe9canique classique",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"100 min",totalLessons:5,completedLessons:0,progress:0,isOwned:!0,isPrimary:!0},"course-franklin-dna":{id:"course-franklin-dna",title:"Structure de l'ADN",description:"D\xe9couverte de la structure de l'ADN et ses implications biologiques",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"80 min",totalLessons:4,completedLessons:0,progress:0,isOwned:!0,isPrimary:!0},"course-physique-mecanique":{id:"course-physique-mecanique",title:"M\xe9canique Classique",description:"Principes fondamentaux de la m\xe9canique classique",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"110 min",totalLessons:5,completedLessons:0,progress:0,isOwned:!1,isPrimary:!1},"course-math-analyse-1":{id:"course-math-analyse-1",title:"Analyse Math\xe9matique I",description:"Bases de l'analyse : d\xe9riv\xe9es, limites et continuit\xe9",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"180 min",totalLessons:6,completedLessons:0,progress:0,isOwned:!1,isPrimary:!1},"course-chimie-generale":{id:"course-chimie-generale",title:"Chimie G\xe9n\xe9rale",description:"Concepts fondamentaux de la chimie moderne et applications",faculty:"Solvay Brussels School",year:"2024-2025",difficulty:"intermediate",duration:"140 min",totalLessons:5,completedLessons:0,progress:0,isOwned:!1,isPrimary:!1}}[a];if(!b)return console.warn("âŒ createMockCourseFromId: Cours inconnu:",a),null;let c={id:b.id,title:b.title,description:b.description,faculty:b.faculty,year:b.year,difficulty:b.difficulty,duration:b.duration,totalLessons:b.totalLessons,completedLessons:b.completedLessons,progress:b.progress,isOwned:b.isOwned,isPrimary:b.isPrimary,lessons:(0,ac.fj)(b.id,b.title),previewAvailable:!0,tags:["intermediate"===b.difficulty?"Physique":"advanced"===b.difficulty?"Math\xe9matiques":"Chimie"],packId:"course-equilibres"===a||"course-gauss"===a||"course-forces"===a?"pack-electromagnetisme":"course-integrales"===a||"course-math-analyse-1"===a?"pack-mathematiques":"course-physique-mecanique"===a||"course-chimie-generale"===a?"pack-sciences":"course-franklin-dna"===a?"pack-biologie":void 0};return console.log("âœ… createMockCourseFromId: Cours mock cr\xe9\xe9:",c.title),c}function e5({trackContext:a}){let[b,c]=(0,e.useState)("select"),[f,g]=(0,e.useState)(null),[i,j]=(0,e.useState)([]),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)([]),[q,r]=(0,e.useState)(0),[s,t]=(0,e.useState)([null,null,null,null,null]),[u,v]=(0,e.useState)(!1),w={mech:[{id:"cinematique",label:"Cin\xe9matique"},{id:"dynamique",label:"Dynamique du point"},{id:"energie",label:"\xc9nergie m\xe9canique"}],elec:[{id:"electrostatique",label:"\xc9lectrostatique"},{id:"magnetisme",label:"Magn\xe9tisme"},{id:"circuits",label:"Circuits \xe9lectriques"}],thermo:[{id:"premier-principe",label:"Premier principe"},{id:"second-principe",label:"Second principe"},{id:"gaz-parfaits",label:"Gaz parfaits"}],waves:[{id:"ondes-mecaniques",label:"Ondes m\xe9caniques"},{id:"optique-geometrique",label:"Optique g\xe9om\xe9trique"},{id:"interferences",label:"Interf\xe9rences"}],calc:[{id:"derivees",label:"D\xe9riv\xe9es"},{id:"integrales",label:"Int\xe9grales"},{id:"limites",label:"Limites & Continuit\xe9"}],alg:[{id:"matrices",label:"Matrices"},{id:"espaces-vectoriels",label:"Espaces vectoriels"},{id:"determinants",label:"D\xe9terminants"}],org:[{id:"alcools",label:"Alcools & Ph\xe9nols"},{id:"aldehydes",label:"Ald\xe9hydes & C\xe9tones"},{id:"acides-carboxyliques",label:"Acides carboxyliques"}],atom_chem:[{id:"structure-atome",label:"Structure de l'atome"},{id:"liaisons",label:"Liaisons chimiques"}],acid:[{id:"ph",label:"pH et pKa"},{id:"titrage",label:"Titrages"}]},x={cinematique:[{id:"mvt-rectiligne",label:"Mouvement rectiligne"},{id:"mvt-circulaire",label:"Mouvement circulaire"}],dynamique:[{id:"lois-newton",label:"Lois de Newton"},{id:"frottements",label:"Frottements"}],derivees:[{id:"def-derivee",label:"D\xe9finition de la d\xe9riv\xe9e"},{id:"regles-derivation",label:"R\xe8gles de d\xe9rivation"},{id:"applications",label:"Applications"}],integrales:[{id:"primitives",label:"Primitives"},{id:"integration-parties",label:"Int\xe9gration par parties"}]},y=[{question:"Quelle est la d\xe9riv\xe9e de f(x) = x\xb2 ?",options:["2x","x","2","x\xb2"],correct:0},{question:"Quelle est la primitive de f(x) = 2x ?",options:["x\xb2","2x\xb2","x\xb2 + C","2"],correct:2},{question:"Limite de sin(x)/x quand x â†’ 0 ?",options:["0","1","âˆž","n'existe pas"],correct:1},{question:"D\xe9riv\xe9e de e^x ?",options:["e^x","xe^(x-1)","ln(x)","1/x"],correct:0},{question:"Int\xe9grale de 1/x ?",options:["x","ln|x| + C","1/x\xb2","-1/x\xb2"],correct:1}],z=null!==f,A=s.filter((a,b)=>a===y[b].correct).length,B=f&&({physics:[{id:"mech",label:"M\xe9canique Classique"},{id:"elec",label:"\xc9lectricit\xe9 & Magn\xe9tisme"},{id:"thermo",label:"Thermodynamique"},{id:"waves",label:"Ondes & Optique"},{id:"quantum",label:"Physique Quantique"}],math:[{id:"calc",label:"Analyse (Calculus)"},{id:"alg",label:"Alg\xe8bre Lin\xe9aire"}],chemistry:[{id:"org",label:"Chimie Organique"},{id:"atom_chem",label:"Atomistique"},{id:"acid",label:"Acides & Bases"}],economy:[{id:"micro",label:"Micro\xe9conomie"},{id:"macro",label:"Macro\xe9conomie"},{id:"prob",label:"Probabilit\xe9s & Stats"}]})[f]||[],C=i.length>0?i.flatMap(a=>w[a]||[]):[],D=m.length>0?m.flatMap(a=>x[a]||[]):[];return o.length>0||m.length>0||i.length,(0,d.jsxs)("div",{className:"h-full bg-white p-8 overflow-y-auto",children:["select"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"V\xe9rifie tes acquis"}),(0,d.jsx)("p",{className:"text-gray-500",children:"S\xe9lectionne la mati\xe8re sur laquelle tu veux t'entra\xeener, puis affine ta s\xe9lection."})]}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Contenu \xe0 inclure"})}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{id:"physics",label:"Physique"},{id:"math",label:"Math\xe9matiques"},{id:"chemistry",label:"Chimie"},{id:"economy",label:"\xc9conomie"}].map(a=>(0,d.jsx)("button",{onClick:()=>{g(a.id),j([]),n([]),p([])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all ${f===a.id?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:f===a.id?{backgroundColor:"#00c2ff"}:void 0,children:a.label},a.id))})}),f&&B.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:B.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(j(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),n([]),p([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${i.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:i.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[i.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),i.length>0&&C.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:C.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(n(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),p([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${m.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:m.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[m.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),m.length>0&&D.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:D.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void p(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${o.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:o.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[o.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)("button",{onClick:()=>z&&c("quiz"),disabled:!z,className:`w-full py-4 rounded-full font-semibold text-base transition-all flex items-center justify-center gap-2 ${z?"bg-gray-900 hover:bg-black text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:z?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{size:18}),"Lancer le quiz flash"]}):"S\xe9lectionne une mati\xe8re pour commencer"})})]}),"quiz"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[(0,d.jsxs)("span",{children:["Question ",q+1," / ",y.length]}),(0,d.jsxs)("span",{children:[Math.round((q+1)/y.length*100),"%"]})]}),(0,d.jsx)("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"h-full bg-gray-900 rounded-full",initial:{width:0},animate:{width:`${(q+1)/y.length*100}%`}})})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:y[q].question}),(0,d.jsx)("div",{className:"space-y-2",children:y[q].options.map((a,b)=>{let e=s[q]===b,f=b===y[q].correct,g=u&&e;return(0,d.jsx)("button",{onClick:()=>!u&&(a=>{let b=[...s];b[q]=a,t(b),v(!0),setTimeout(()=>{v(!1),q<y.length-1?r(q+1):c("result")},1500)})(b),disabled:u,className:`w-full py-4 px-5 rounded-xl text-sm font-medium text-left transition-all ${g?f?"bg-green-500 text-white":"bg-red-500 text-white":u&&f?"bg-green-500 text-white":e?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},b)})})]})]}),"result"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col items-center justify-center text-center",children:[(0,d.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-5 ${A>=4?"bg-green-500":A>=2?"bg-yellow-500":"bg-red-500"}`,children:(0,d.jsx)("span",{className:"text-3xl font-bold text-white",children:A})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:A>=4?"Excellent !":A>=2?"Pas mal !":"Continue \xe0 t'entra\xeener"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:[A," / ",y.length," bonnes r\xe9ponses"]}),(0,d.jsx)("div",{className:"w-full max-w-xs space-y-2",children:(0,d.jsx)("button",{onClick:()=>{c("select"),r(0),t([null,null,null,null,null]),g(null),j([]),n([]),p([])},className:"w-full py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Recommencer"})})]})]})}function e6({trackContext:a}){let[b,c]=(0,e.useState)("select"),[f,g]=(0,e.useState)(null),[i,j]=(0,e.useState)([]),[l,n]=(0,e.useState)([]),[o,p]=(0,e.useState)([]),[q,r]=(0,e.useState)(0),[s,t]=(0,e.useState)(Array(10).fill(null)),[u,v]=(0,e.useState)(!1),w={mech:[{id:"cinematique",label:"Cin\xe9matique"},{id:"dynamique",label:"Dynamique du point"},{id:"energie",label:"\xc9nergie m\xe9canique"}],elec:[{id:"electrostatique",label:"\xc9lectrostatique"},{id:"magnetisme",label:"Magn\xe9tisme"},{id:"circuits",label:"Circuits \xe9lectriques"}],thermo:[{id:"premier-principe",label:"Premier principe"},{id:"second-principe",label:"Second principe"},{id:"gaz-parfaits",label:"Gaz parfaits"}],waves:[{id:"ondes-mecaniques",label:"Ondes m\xe9caniques"},{id:"optique-geometrique",label:"Optique g\xe9om\xe9trique"},{id:"interferences",label:"Interf\xe9rences"}],calc:[{id:"derivees",label:"D\xe9riv\xe9es"},{id:"integrales",label:"Int\xe9grales"},{id:"limites",label:"Limites & Continuit\xe9"}],alg:[{id:"matrices",label:"Matrices"},{id:"espaces-vectoriels",label:"Espaces vectoriels"},{id:"determinants",label:"D\xe9terminants"}],org:[{id:"alcools",label:"Alcools & Ph\xe9nols"},{id:"aldehydes",label:"Ald\xe9hydes & C\xe9tones"},{id:"acides-carboxyliques",label:"Acides carboxyliques"}]},x={cinematique:[{id:"mvt-rectiligne",label:"Mouvement rectiligne"},{id:"mvt-circulaire",label:"Mouvement circulaire"}],dynamique:[{id:"lois-newton",label:"Lois de Newton"},{id:"frottements",label:"Frottements"}],derivees:[{id:"def-derivee",label:"D\xe9finition de la d\xe9riv\xe9e"},{id:"regles-derivation",label:"R\xe8gles de d\xe9rivation"},{id:"applications",label:"Applications"}],integrales:[{id:"primitives",label:"Primitives"},{id:"integration-parties",label:"Int\xe9gration par parties"}]},y=[{question:"Quelle est la d\xe9riv\xe9e de f(x) = x\xb3 ?",options:["3x\xb2","x\xb2","3x","x\xb3"],correct:0},{question:"D\xe9riv\xe9e de sin(x) ?",options:["cos(x)","-cos(x)","sin(x)","-sin(x)"],correct:0},{question:"D\xe9riv\xe9e de ln(x) ?",options:["1/x","x","e^x","ln(x)/x"],correct:0},{question:"D\xe9riv\xe9e de e^(2x) ?",options:["2e^(2x)","e^(2x)","e^x","2e^x"],correct:0},{question:"D\xe9riv\xe9e de cos(x) ?",options:["-sin(x)","sin(x)","cos(x)","-cos(x)"],correct:0},{question:"Primitive de 3x\xb2 ?",options:["x\xb3 + C","3x\xb3 + C","6x + C","x\xb2 + C"],correct:0},{question:"Primitive de cos(x) ?",options:["sin(x) + C","-sin(x) + C","cos(x) + C","tan(x) + C"],correct:0},{question:"Primitive de e^x ?",options:["e^x + C","xe^x + C","e^(x+1) + C","ln(x) + C"],correct:0},{question:"Primitive de 1/x\xb2 ?",options:["-1/x + C","1/x + C","ln(x\xb2) + C","-2/x\xb3 + C"],correct:0},{question:"D\xe9riv\xe9e de tan(x) ?",options:["1/cos\xb2(x)","cos\xb2(x)","1/sin\xb2(x)","sin\xb2(x)"],correct:0}],z=null!==f,A=s.filter((a,b)=>a===y[b].correct).length,B=f&&({physics:[{id:"mech",label:"M\xe9canique Classique"},{id:"elec",label:"\xc9lectricit\xe9 & Magn\xe9tisme"},{id:"thermo",label:"Thermodynamique"},{id:"waves",label:"Ondes & Optique"},{id:"quantum",label:"Physique Quantique"}],math:[{id:"calc",label:"Analyse (Calculus)"},{id:"alg",label:"Alg\xe8bre Lin\xe9aire"}],chemistry:[{id:"org",label:"Chimie Organique"},{id:"atom_chem",label:"Atomistique"},{id:"acid",label:"Acides & Bases"}],economy:[{id:"micro",label:"Micro\xe9conomie"},{id:"macro",label:"Macro\xe9conomie"},{id:"prob",label:"Probabilit\xe9s & Stats"}]})[f]||[],C=i.length>0?i.flatMap(a=>w[a]||[]):[],D=l.length>0?l.flatMap(a=>x[a]||[]):[];return o.length>0||l.length>0||i.length,(0,d.jsxs)("div",{className:"h-full bg-white p-8 overflow-y-auto",children:["select"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Consolide ta ma\xeetrise"}),(0,d.jsx)("p",{className:"text-gray-500",children:"Quiz approfondi de 10 questions pour ancrer durablement tes connaissances."})]}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Contenu \xe0 inclure"})}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{id:"physics",label:"Physique"},{id:"math",label:"Math\xe9matiques"},{id:"chemistry",label:"Chimie"},{id:"economy",label:"\xc9conomie"}].map(a=>(0,d.jsx)("button",{onClick:()=>{g(a.id),j([]),n([]),p([])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all ${f===a.id?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:f===a.id?{backgroundColor:"#00c2ff"}:void 0,children:a.label},a.id))})}),f&&B.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:B.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(j(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),n([]),p([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${i.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:i.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[i.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),i.length>0&&C.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:C.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(n(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),p([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${l.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:l.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[l.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),l.length>0&&D.length>0&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"(optionnel, multi-s\xe9lection)"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:D.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void p(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${o.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:o.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[o.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)("button",{onClick:()=>z&&c("quiz"),disabled:!z,className:`w-full py-4 rounded-full font-semibold text-base transition-all flex items-center justify-center gap-2 ${z?"bg-gray-900 hover:bg-black text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:z?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{size:18}),"Lancer la r\xe9vision approfondie"]}):"S\xe9lectionne une mati\xe8re pour commencer"})})]}),"quiz"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[(0,d.jsxs)("span",{children:["Question ",q+1," / ",y.length]}),(0,d.jsxs)("span",{children:[Math.round((q+1)/y.length*100),"%"]})]}),(0,d.jsx)("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:(0,d.jsx)(h.P.div,{className:"h-full bg-gray-900 rounded-full",initial:{width:0},animate:{width:`${(q+1)/y.length*100}%`}})})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:y[q].question}),(0,d.jsx)("div",{className:"space-y-2",children:y[q].options.map((a,b)=>{let e=s[q]===b,f=b===y[q].correct,g=u&&e;return(0,d.jsx)("button",{onClick:()=>!u&&(a=>{let b=[...s];b[q]=a,t(b),v(!0),setTimeout(()=>{v(!1),q<y.length-1?r(q+1):c("result")},1200)})(b),disabled:u,className:`w-full py-4 px-5 rounded-xl text-sm font-medium text-left transition-all ${g?f?"bg-green-500 text-white":"bg-red-500 text-white":u&&f?"bg-green-500 text-white":e?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},b)})})]})]}),"result"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col items-center justify-center text-center",children:[(0,d.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-5 ${A>=8?"bg-green-500":A>=5?"bg-yellow-500":"bg-red-500"}`,children:(0,d.jsx)("span",{className:"text-3xl font-bold text-white",children:A})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:A>=8?"Excellent !":A>=5?"Pas mal !":"Continue \xe0 t'entra\xeener"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:[A," / ",y.length," bonnes r\xe9ponses"]}),(0,d.jsx)("div",{className:"w-full max-w-xs space-y-2",children:(0,d.jsx)("button",{onClick:()=>{c("select"),r(0),t(Array(10).fill(null)),g(null),j([]),n([]),p([])},className:"w-full py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Recommencer"})})]})]})}function e7({trackTitle:a}){let[b,c]=(0,e.useState)("lobby"),[f,g]=(0,e.useState)(null),[i,j]=(0,e.useState)(0),[l,m]=(0,e.useState)(0),[o,p]=(0,e.useState)(0),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(10),w=[{question:"Quelle est la d\xe9riv\xe9e de f(x) = x\xb2 ?",options:["2x","x","2","x\xb2"],correct:0},{question:"Limite de sin(x)/x quand x â†’ 0 ?",options:["0","1","âˆž","n'existe pas"],correct:1},{question:"D\xe9riv\xe9e de e^x ?",options:["e^x","xe^(x-1)","ln(x)","1/x"],correct:0},{question:"Primitive de cos(x) ?",options:["sin(x) + C","-sin(x) + C","cos(x)","tan(x)"],correct:0},{question:"D\xe9riv\xe9e de ln(x) ?",options:["1/x","x","e^x","ln(x)/x"],correct:0}],x=()=>{c("searching"),setTimeout(()=>{c("matched")},2e3)},y=()=>{i<w.length-1?(j(a=>a+1),t(null),r(!1),v(10)):c("result")};return(0,d.jsxs)("div",{className:"h-full bg-white p-8 overflow-y-auto",children:["lobby"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"D\xe9fie un adversaire"})}),(0,d.jsx)("button",{onClick:x,className:"w-full py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all mb-6",children:"D\xe9fi al\xe9atoire"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-5",children:[(0,d.jsx)("div",{className:"flex-1 h-px bg-gray-200"}),(0,d.jsx)("span",{className:"text-sm text-gray-400 uppercase tracking-wide",children:"ou choisis un adversaire"}),(0,d.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,d.jsxs)("div",{className:"relative mb-4",children:[(0,d.jsx)("input",{type:"text",placeholder:"Rechercher un adversaire...",className:"w-full px-4 py-3 pl-10 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all"}),(0,d.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,d.jsx)("div",{className:"space-y-2",children:[{id:"o1",name:"Sarah M.",initials:"SM",level:12,wins:3,losses:1,online:!0},{id:"o2",name:"Alex K.",initials:"AK",level:10,wins:2,losses:2,online:!0},{id:"o3",name:"Thomas D.",initials:"TD",level:8,wins:1,losses:0,online:!1},{id:"o4",name:"Marie L.",initials:"ML",level:15,wins:7,losses:2,online:!0},{id:"o5",name:"Lucas B.",initials:"LB",level:9,wins:4,losses:3,online:!1}].map(a=>(0,d.jsxs)("button",{onClick:()=>g(a.id),className:`w-full p-3.5 rounded-xl transition-all flex items-center gap-3 ${f===a.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${f===a.id?"bg-white text-gray-900":"bg-gray-900 text-white"}`,children:a.initials}),(0,d.jsxs)("div",{className:"flex-1 text-left",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-semibold",children:a.name}),a.online&&(0,d.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})]}),(0,d.jsxs)("p",{className:`text-sm ${f===a.id?"text-gray-300":"text-gray-500"}`,children:["Niveau ",a.level," â€¢ ",a.wins,"V / ",a.losses,"D"]})]}),f===a.id&&(0,d.jsx)(k.A,{size:16})]},a.id))}),f&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-5",children:(0,d.jsx)("button",{onClick:x,className:"w-full py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Lancer le d\xe9fi"})})]}),"searching"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col items-center justify-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 border-3 border-gray-200 border-t-gray-900 rounded-full animate-spin mb-5"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Recherche d'adversaire..."}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"On te trouve un challenger de ton niveau"})]}),"matched"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"h-full flex flex-col items-center justify-center",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-6 mb-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-900 text-white flex items-center justify-center text-lg font-bold mx-auto mb-1",children:"Toi"}),(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Toi"})]}),(0,d.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-400 text-white flex items-center justify-center text-lg font-bold mx-auto mb-1",children:"SM"}),(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Sarah M."})]})]}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Adversaire trouv\xe9 !"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"5 questions \xb7 Le plus rapide gagne"}),(0,d.jsx)("button",{onClick:()=>{c("playing"),j(0),m(0),p(0),v(10)},className:"px-10 py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Commencer le duel"})]}),"playing"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-900 text-white flex items-center justify-center text-sm font-bold",children:"Toi"}),(0,d.jsx)("span",{className:"text-xl font-bold text-gray-900",children:l})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:`text-2xl font-bold ${u<=3?"text-red-500":"text-gray-400"}`,children:u}),(0,d.jsxs)("div",{className:"text-sm text-gray-400",children:["Q",i+1,"/",w.length]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xl font-bold text-gray-900",children:o}),(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-400 text-white flex items-center justify-center text-sm font-bold",children:"SM"})]})]}),(0,d.jsx)("div",{className:"h-1.5 bg-gray-100 rounded-full mb-6 overflow-hidden",children:(0,d.jsx)(h.P.div,{className:`h-full rounded-full ${u<=3?"bg-red-500":"bg-gray-900"}`,animate:{width:`${u/10*100}%`},transition:{duration:.3}})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:w[i].question}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:w[i].options.map((a,b)=>{let c=s===b,e=b===w[i].correct,f=q&&c;return(0,d.jsx)("button",{onClick:()=>(a=>{if(q)return;t(a),r(!0);let b=a===w[i].correct;b&&m(a=>a+1),Math.random()>.5&&!b&&p(a=>a+1),setTimeout(y,1500)})(b),disabled:q,className:`py-4 px-4 rounded-xl text-sm font-medium transition-all ${f?e?"bg-green-500 text-white":"bg-red-500 text-white":q&&e?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},b)})})]}),"result"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col items-center justify-center",children:[(0,d.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-5 ${l>o?"bg-green-500":l<o?"bg-red-500":"bg-gray-400"}`,children:l>o?(0,d.jsx)(n.A,{size:36,className:"text-white"}):(0,d.jsx)("span",{className:"text-3xl font-bold text-white",children:l})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:l>o?"Victoire !":l<o?"D\xe9faite":"\xc9galit\xe9"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Toi ",l," - ",o," Sarah M."]}),(0,d.jsxs)("p",{className:"text-sm text-gray-400 mb-6",children:[w.length," questions"]}),(0,d.jsx)("button",{onClick:()=>{c("lobby"),g(null),j(0),m(0),p(0),t(null),r(!1)},className:"w-full max-w-xs py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Nouveau duel"})]})]})}function e8({trackContext:a}){let[b,c]=(0,e.useState)("config"),[f,g]=(0,e.useState)({duration:"1h",difficulty:"moyen",questionTypes:["qcm","exercice"]}),[i,j]=(0,e.useState)(null),[l,m]=(0,e.useState)([]),[n,o]=(0,e.useState)([]),[p,q]=(0,e.useState)([]),r=[{id:"physics",label:"Physique"},{id:"math",label:"Math\xe9matiques"},{id:"chemistry",label:"Chimie"},{id:"economy",label:"\xc9conomie"}],s={mech:[{id:"cinematique",label:"Cin\xe9matique"},{id:"dynamique",label:"Dynamique du point"},{id:"energie",label:"\xc9nergie m\xe9canique"}],elec:[{id:"electrostatique",label:"\xc9lectrostatique"},{id:"magnetisme",label:"Magn\xe9tisme"}],thermo:[{id:"premier-principe",label:"Premier principe"},{id:"second-principe",label:"Second principe"}],calc:[{id:"derivees",label:"D\xe9riv\xe9es"},{id:"integrales",label:"Int\xe9grales"},{id:"limites",label:"Limites & Continuit\xe9"}],alg:[{id:"matrices",label:"Matrices"},{id:"espaces-vectoriels",label:"Espaces vectoriels"}],org:[{id:"alcools",label:"Alcools & Ph\xe9nols"},{id:"aldehydes",label:"Ald\xe9hydes & C\xe9tones"}]},t={derivees:[{id:"def-derivee",label:"D\xe9finition de la d\xe9riv\xe9e"},{id:"regles-derivation",label:"R\xe8gles de d\xe9rivation"}],integrales:[{id:"primitives",label:"Primitives"},{id:"integration-parties",label:"Int\xe9gration par parties"}],cinematique:[{id:"mvt-rectiligne",label:"Mouvement rectiligne"},{id:"mvt-circulaire",label:"Mouvement circulaire"}]},u=i&&({physics:[{id:"mech",label:"M\xe9canique Classique"},{id:"elec",label:"\xc9lectricit\xe9 & Magn\xe9tisme"},{id:"thermo",label:"Thermodynamique"},{id:"waves",label:"Ondes & Optique"}],math:[{id:"calc",label:"Analyse (Calculus)"},{id:"alg",label:"Alg\xe8bre Lin\xe9aire"}],chemistry:[{id:"org",label:"Chimie Organique"},{id:"atom_chem",label:"Atomistique"},{id:"acid",label:"Acides & Bases"}],economy:[{id:"micro",label:"Micro\xe9conomie"},{id:"macro",label:"Macro\xe9conomie"}]})[i]||[],v=l.length>0?l.flatMap(a=>s[a]||[]):[],w=n.length>0?n.flatMap(a=>t[a]||[]):[],x=null!==i&&f.questionTypes.length>0;return(0,d.jsxs)("div",{className:"h-full bg-white p-8 overflow-y-auto",children:["config"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Simule ton examen"})}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Dur\xe9e"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:["30min","1h","2h","3h"].map(a=>(0,d.jsx)("button",{onClick:()=>g(b=>({...b,duration:a})),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all ${f.duration===a?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a},a))})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Difficult\xe9"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{id:"facile",label:"Facile"},{id:"moyen",label:"Moyen"},{id:"difficile",label:"Difficile"}].map(a=>(0,d.jsx)("button",{onClick:()=>g(b=>({...b,difficulty:a.id})),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all ${f.difficulty===a.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a.label},a.id))})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Types de questions"}),(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{id:"qcm",label:"QCM"},{id:"ouvert",label:"Questions ouvertes"},{id:"exercice",label:"Exercices"}].map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void g(a=>({...a,questionTypes:a.questionTypes.includes(b)?a.questionTypes.filter(a=>a!==b):[...a.questionTypes,b]}))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${f.questionTypes.includes(a.id)?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[f.questionTypes.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Contenu \xe0 inclure"}),(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:r.map(a=>(0,d.jsx)("button",{onClick:()=>{j(a.id),m([]),o([]),q([])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all ${i===a.id?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:i===a.id?{backgroundColor:"#00c2ff"}:void 0,children:a.label},a.id))})}),i&&u.length>0&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:u.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(m(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),o([]),q([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${l.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:l.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[l.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})}),l.length>0&&v.length>0&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:v.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(o(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b]),q([]))},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${n.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:n.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[n.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})}),n.length>0&&w.length>0&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:(0,d.jsx)("div",{className:"flex gap-2 flex-wrap",children:w.map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;return b=a.id,void q(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${p.includes(a.id)?"text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:p.includes(a.id)?{backgroundColor:"#00c2ff"}:void 0,children:[p.includes(a.id)&&(0,d.jsx)(k.A,{size:14}),a.label]},a.id))})})]}),(0,d.jsx)("button",{onClick:()=>{c("generating"),setTimeout(()=>{c("ready")},2500)},disabled:!x,className:"w-full py-4 bg-gray-900 hover:bg-black disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-full font-semibold text-base transition-all",children:"G\xe9n\xe9rer l'examen"}),!x&&(0,d.jsx)("p",{className:"text-center text-gray-400 text-sm mt-2",children:"S\xe9lectionne au moins un programme et un type de question"})]}),"generating"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col items-center justify-center",children:[(0,d.jsx)("div",{className:"w-14 h-14 border-3 border-gray-200 border-t-gray-900 rounded-full animate-spin mb-6"}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"G\xe9n\xe9ration en cours..."}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Quelques secondes"})]}),"ready"===b&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col items-center justify-center",children:[(0,d.jsx)(h.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center mb-5",children:(0,d.jsx)(k.A,{size:32,className:"text-white"})}),(0,d.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Ton examen est pr\xeat"}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:[f.duration," \xb7 ",f.difficulty," \xb7 ",r.find(a=>a.id===i)?.label]}),(0,d.jsxs)("div",{className:"w-full max-w-xs space-y-2",children:[(0,d.jsx)("button",{onClick:()=>alert("Examen lanc\xe9 !"),className:"w-full py-4 bg-gray-900 hover:bg-black text-white rounded-full font-semibold text-base transition-all",children:"Commencer"}),(0,d.jsx)("button",{onClick:()=>c("config"),className:"w-full py-3 text-sm text-gray-500 hover:text-gray-900 font-medium transition-all",children:"Modifier les param\xe8tres"})]})]})]})}function e9(a){let{favorites:b,toggleFavorite:f,addFavorite:g,removeFavorite:k}=(0,Z.r)(),{data:l,user:n,onUpdateCourseOrder:H,onToggleCourseFavorite:I,onPreviewCourse:J,onEnrollCourse:K,onStartCourse:L,onUpdateUser:M,purchasedItems:N,onPurchase:O,onLogout:P}=a,V=l||ac.zj,[W,X]=(0,e.useState)(V.primaryCourses||[]),[_,aa]=(0,e.useState)(!0),[ad,ae]=(0,e.useState)(!1),[af,ag]=(0,e.useState)({subjects:["all"],trends:[],social:[],sortBy:"students",sortOrder:"desc"}),[ah,ai]=(0,e.useState)(null),[ak,al]=(0,e.useState)(null),[am,an]=(0,e.useState)(!1),[ao,ap]=(0,e.useState)(!0),[aq,ar]=(0,e.useState)(!1),[as,at]=(0,e.useState)(!1),[au,av]=(0,e.useState)(!1),[aw,ax]=(0,e.useState)([]),[az,aA]=(0,e.useState)(void 0),[aB,aC]=(0,e.useState)(!1),[aD,aE]=(0,e.useState)("now"),[aF,aG]=(0,e.useState)("buddies"),[aH,aI]=(0,e.useState)(void 0),[aJ,aK]=(0,e.useState)(!1),[aL,aO]=(0,e.useState)(!1),[aP,aQ]=(0,e.useState)("main"),[aR,aS]=(0,e.useState)(!1),[aT,aU]=(0,e.useState)([]),[aV,aW]=(0,e.useState)(!1),[aX,aY]=(0,e.useState)([]),[aZ,a$]=(0,e.useState)(!1),[a_,a0]=(0,e.useState)([]),[a1,a2]=(0,e.useState)(!1),[a3,a4]=(0,e.useState)("loading"),[a5,a6]=(0,e.useState)(null),[a7,a8]=(0,e.useState)(!1),[a9,ba]=(0,e.useState)(!1),[bb,bc]=(0,e.useState)(!0),[bd,be]=(0,e.useState)(!1),[bf,bg]=(0,e.useState)(null),bh=c4.getInstance(),bi=(a,b=1,c)=>{let d=bh.addXP(a,b,c);return d.xpGained>0&&(a6(d.profile),bg({show:!0,xpGained:d.xpGained,action:{id:`${a}-${Date.now()}`,type:a,points:d.xpGained,title:d.profile.recentActions[0]?.title||"Action compl\xe9t\xe9e",description:d.profile.recentActions[0]?.description||"",emoji:d.profile.recentActions[0]?.emoji||"\uD83C\uDFAF"},newLevel:d.newLevel,newBadges:d.newBadges})),d},[bj,bk]=(0,e.useState)({}),[bl,bm]=(0,e.useState)(!1),[bn,bo]=(0,e.useState)("available"),[bp,bq]=(0,e.useState)(!1),[br,bs]=(0,e.useState)(!1),[bt,bu]=(0,e.useState)(!1),[bv,bw]=(0,e.useState)(null),[bx,by]=(0,e.useState)(null),[bz,bA]=(0,e.useState)(!1),[bB,bC]=(0,e.useState)(!1),[bD,bE]=(0,e.useState)([]),[bF,bG]=(0,e.useState)([]),[bH,bI]=(0,e.useState)(!1),[bJ,bK]=(0,e.useState)(null),[bL,bM]=(0,e.useState)(null),[bN,bO]=(0,e.useState)(()=>new Set);console.log("\uD83D\uDD0D PURCHASED ITEMS:",Array.from(bN)),console.log("\uD83D\uDD0D PURCHASED ITEMS DETAILS:",bN);let bP=(0,e.useRef)(null),bQ=[{id:"default",name:"Par d\xe9faut",description:"Fond uni standard"},{id:"course-path-1",name:"Parcours Montagne",description:"Chemin avec montagnes"},{id:"course-path-3",name:"For\xeat Enchant\xe9e",description:"Paysage forestier"},{id:"course-path-4",name:"Cosmic Journey",description:"Voyage cosmique"},{id:"course-path-5",name:"Ocean Depths",description:"Profondeurs oc\xe9aniques"}];((a,b,c,d,e=[])=>{let f=a.filter(a=>a&&a.id).reduce((a,d)=>(a[d.id]=eN.checkCourseAccess(d,b,c),a),{}),g=eN.getAccessibleStudyRooms(d,f,c),h=e.filter(a=>a.targetUserId===c);eN.getHeaderState(g,h)})([...W,...V.suggestedCourses.map(a=>a.course)],Array.from(bN),n?.id||"1",bD,bF);let[bR,bS]=(0,e.useState)(!1),[bT,bV]=(0,e.useState)(!1),bW=((a,b,c,d=!1,e=!1)=>{let f=eO.checkPlannerAccess(a,b,c,d,e),g=eO.hasExistingPlan(c),h=eO.getExistingPlan(c);return{plannerAccess:f,canCreatePlan:f.hasAccess,hasExistingPlan:g,existingPlan:h,generatePlan:b=>eO.generateStudyPlan(a,f.completeCourses,b,c),updatePlanWithNewCourse:(a,b)=>eO.updatePlanningWithNewCourse(c,a,b),createOrUpdatePlan:(b,d)=>d&&g?(console.log("\uD83D\uDD04 Mise \xe0 jour du planning existant avec le nouveau cours"),eO.updatePlanningWithNewCourse(c,d,b)):(console.log("âœ¨ G\xe9n\xe9ration d'un nouveau planning complet"),eO.generateStudyPlan(a,f.completeCourses,b,c)),generateWhatsAppMessage:()=>eO.generateWhatsAppMessage(f,h||void 0)}})([...W,...V.suggestedCourses.map(a=>a.course)],Array.from(bN),n?.id||"1",bR,bT),[bX,bY]=(0,e.useState)(null),[bZ,b$]=(0,e.useState)(0),[b_,b0]=(0,e.useState)(!1),[b1,b2]=(0,e.useState)(),[b3,b4]=(0,e.useState)(null),[b5,b6]=(0,e.useState)(!1),[b7,b8]=(0,e.useState)(!1),[b9,ca]=(0,e.useState)(!1),[cb,cc]=(0,e.useState)(!0),[cd,ce]=(0,e.useState)("default"),[cf,cg]=(0,e.useState)(null),[ch,ci]=(0,e.useState)(!1),[cj,cl]=(0,e.useState)(!1),[cm,cn]=(0,e.useState)([]),[co]=(0,e.useState)((0,ac.O)()),[cp,cq]=(0,e.useState)([]),[cr,ct]=(0,e.useState)(!1),[cu,cv]=(0,e.useState)(!1),[cx,cy]=(0,e.useState)(!1),[cz,cA]=(0,e.useState)(null),[cB,cC]=(0,e.useState)(null),[cD,cE]=(0,e.useState)(null),[cG,cH]=(0,e.useState)(!1),{credits:cI,movements:cJ,showAnimation:cK,showModal:cL,setShowModal:cM,showLowCreditWarning:cN,setShowLowCreditWarning:cO,spendCredits:cP,gainCredits:cQ,getSuggestions:cR,canAfford:cS}=((a=12)=>{let[b,c]=(0,e.useState)(a),[d,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)([{id:"1",type:"gain",amount:2,reason:"Bonus de progression - Quiz Math\xe9matiques termin\xe9",timestamp:new Date(Date.now()-1728e5)},{id:"2",type:"spend",amount:1,reason:'Cours "Physique pour Ing\xe9nieurs" d\xe9bloqu\xe9',timestamp:new Date(Date.now()-864e5),courseId:"physics-eng"},{id:"3",type:"gain",amount:1,reason:"Connexion quotidienne - Bonus fid\xe9lit\xe9",timestamp:new Date(Date.now()-108e5)}]),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!1),m=(0,e.useCallback)((a,d,e)=>{if(b<a)return!1;c(b=>b-a);let g={id:Date.now().toString(),type:"spend",amount:a,reason:d,timestamp:new Date,courseId:e};h(a=>[g,...a]),j({type:"spend",amount:a});let i=b-a;return i<=5&&i>0&&setTimeout(()=>{f(!0)},2e3),setTimeout(()=>j(null),1500),!0},[b]),n=(0,e.useCallback)((a,b)=>{c(b=>b+a);let d={id:Date.now().toString(),type:"gain",amount:a,reason:b,timestamp:new Date};h(a=>[d,...a]),j({type:"gain",amount:a}),setTimeout(()=>j(null),1500)},[]),o=(0,e.useCallback)(()=>{let a=[];return b>=3?a.push("Avec tes 3+ cr\xe9dits, tu peux d\xe9bloquer une s\xe9rie compl\xe8te en Sciences pour construire une base solide."):b>=2?a.push("Tes 2 cr\xe9dits te permettent de choisir 2 cours compl\xe9mentaires pour renforcer tes comp\xe9tences."):1===b?a.push("Avec ton cr\xe9dit restant, concentre-toi sur le cours qui t'apportera le plus de valeur imm\xe9diate."):a.push("Termine tes cours actuels pour gagner de nouveaux cr\xe9dits et d\xe9bloquer plus de contenu !"),g.filter(a=>"spend"===a.type).slice(0,3).length>0&&a.push("Bas\xe9 sur tes derniers choix, nous recommandons de continuer dans la m\xeame th\xe9matique pour approfondir tes connaissances."),a},[b,g]);return{credits:b,movements:g,showAnimation:i,showModal:k,setShowModal:l,showLowCreditWarning:d,setShowLowCreditWarning:f,spendCredits:m,gainCredits:n,getSuggestions:o,canAfford:a=>b>=a}})(12);!function(a=0){let[b,c]=(0,e.useState)(()=>({id:`wallet-${Date.now()}`,userId:"user-123",balance:a,totalDeposited:a,totalSpent:0,createdAt:new Date,lastActivity:new Date,transactions:a>0?[{id:`tx-initial-${Date.now()}`,walletId:`wallet-${Date.now()}`,type:"deposit",amount:a,description:"Solde initial",createdAt:new Date}]:[]})),d=(0,e.useCallback)(a=>b.balance>=a,[b.balance]);(0,e.useCallback)(async a=>{if(!d(a.price))return console.warn("Solde insuffisant pour cet achat"),!1;try{await new Promise(a=>setTimeout(a,1e3));let d={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,walletId:b.id,type:"purchase",amount:-a.price,description:`Achat: ${a.title}`,relatedItemType:a.type,relatedItemId:a.id,createdAt:new Date,metadata:{originalPrice:a.originalPrice,savings:a.savings}};return c(b=>({...b,balance:b.balance-a.price,totalSpent:b.totalSpent+a.price,lastActivity:new Date,transactions:[d,...b.transactions]})),console.log(`âœ… Paiement de ${a.price}â‚¬ trait\xe9 avec succ\xe8s pour "${a.title}"`),!0}catch(a){return console.error("Erreur lors du traitement du paiement:",a),!1}},[b,d]),(0,e.useCallback)((a,d=0)=>{let e=d/100*a,f=a+e,g=[{id:`tx-deposit-${Date.now()}`,walletId:b.id,type:"deposit",amount:a,description:`Rechargement de ${a}â‚¬`,createdAt:new Date}];e>0&&g.push({id:`tx-bonus-${Date.now()}`,walletId:b.id,type:"bonus",amount:e,description:`Bonus de rechargement (+${d}%)`,createdAt:new Date,metadata:{bonusPercentage:d}}),c(b=>({...b,balance:b.balance+f,totalDeposited:b.totalDeposited+a,lastActivity:new Date,transactions:[...g,...b.transactions]})),console.log(`ðŸ’° ${f}â‚¬ ajout\xe9s au portefeuille (${a}â‚¬ + ${e}â‚¬ bonus)`)},[b]),(0,e.useCallback)((a=10)=>b.transactions.sort((a,b)=>b.createdAt.getTime()-a.createdAt.getTime()).slice(0,a),[b.transactions]),(0,e.useCallback)(()=>b.balance,[b.balance]),(0,e.useCallback)(()=>b.totalSpent,[b.totalSpent]),(0,e.useCallback)(()=>b.totalDeposited,[b.totalDeposited])}(150);let cT=function(a){let[b,c]=(0,e.useState)({hasCompletedTour:!1,isTourActive:!1,shouldShowTour:!1});return{...b,startTour:()=>{c(a=>({...a,isTourActive:!0,shouldShowTour:!0}))},completeTour:()=>{a&&localStorage.setItem(`onboarding_completed_${a}`,"true"),c({hasCompletedTour:!0,isTourActive:!1,shouldShowTour:!1}),console.log("\uD83C\uDF89 Tour guid\xe9 termin\xe9 avec succ\xe8s !")},skipTour:()=>{a&&localStorage.setItem(`onboarding_completed_${a}`,"true"),c(a=>({...a,isTourActive:!1,shouldShowTour:!1})),console.log("Tour guid\xe9 ignor\xe9")},resetTour:()=>{a&&localStorage.removeItem(`onboarding_completed_${a}`),c({hasCompletedTour:!1,isTourActive:!1,shouldShowTour:!0})}}}(n?.id||V.user?.id),[cV,cX]=(0,e.useState)(!1),[cY,cZ]=(0,e.useState)(!1),[c$,c0]=(0,e.useState)(!1),[c1,c2]=(0,e.useState)(""),[c3,c5]=(0,e.useState)(!0),[c6,c7]=(0,e.useState)({hours:71,minutes:59,seconds:59}),[c8,c9]=(0,e.useState)(!1),[da,db]=(0,e.useState)(!1),[dc,dd]=(0,e.useState)(()=>36e3),[de,df]=(0,e.useState)(!1),[dh,di]=(0,e.useState)(null),[dj,dk]=(0,e.useState)(()=>!1),[dl,dm]=(0,e.useState)(()=>!1),[dn,dp]=(0,e.useState)(!1),dr=Math.floor(dc/3600),ds=Math.floor(dc%3600/60),dt=dc<=7200,du=(0,e.useMemo)(()=>{let a=V.suggestedCourses.filter(a=>a&&a.course&&a.course.id).map(a=>a.course);return console.log("\uD83C\uDFAF SMART SORT: coursesToSort:",a.map(a=>({id:a.id,title:a.title}))),function(a){let b=a.map(a=>{var b,c;let d=(b=a.id)&&"string"==typeof b?Math.abs(b.split("").reduce((a,b)=>(a=(a<<5)-a+b.charCodeAt(0))&a,0))%185+15:(console.error("\uD83D\uDEA8 generateStudentCount: courseId is invalid:",b),50),e=a.createdAt?(Date.now()-a.createdAt.getTime())/864e5<=eh.NEW_COURSE_THRESHOLD_DAYS:["course-thermodynamique","course-quantique","course-relativite"].includes(a.id),f=["course-equilibres","course-gauss","course-forces"].includes(a.id);return{...a,studentCount:d,isNew:e,isRecommended:f,trendBadge:(c={...a,studentCount:d,isNew:e,isRecommended:f}).studentCount&&c.studentCount>=eh.POPULAR_THRESHOLD?"popular":c.isRecommended?"recommended":c.isNew?"new":null}}),c=b.filter(a=>a.studentCount>=eh.POPULAR_THRESHOLD),d=b.filter(a=>a.studentCount<eh.POPULAR_THRESHOLD),e=c.sort((a,b)=>{if(a.isRecommended&&!b.isRecommended)return -1;if(!a.isRecommended&&b.isRecommended)return 1;let c=(a.studentCount||0)+25*!!a.isNew;return(b.studentCount||0)+25*!!b.isNew-c}),f=d.sort((a,b)=>a.isNew&&!b.isNew?-1:!a.isNew&&b.isNew?1:a.isRecommended&&!b.isRecommended?-1:!a.isRecommended&&b.isRecommended?1:(b.studentCount||0)-(a.studentCount||0)),g=Math.min(eh.FAIR_VISIBILITY_SLOTS,f.length),h=[];for(let a=0;a<g;a++){let a=Math.floor(Math.random()*Math.min(f.length,5)),b=f.splice(a,1)[0];b&&h.push(b)}return[...e,...h,...f].slice(0,eh.MAX_DISPLAY)}(a)},[V.suggestedCourses]);(0,e.useMemo)(()=>{let a;return a=[...du],!af.subjects.includes("all")&&af.subjects.length>0&&(a=a.filter(a=>af.subjects.includes(er(a)))),af.trends.length>0&&(a=a.filter(a=>!!(af.trends.includes("popular")&&"popular"===a.trendBadge||af.trends.includes("new")&&"new"===a.trendBadge||af.trends.includes("recommended")&&"recommended"===a.trendBadge))),af.social.length>0&&(a=a.filter(a=>{let b=es(a),c=a.studentCount||0;return!!(af.social.includes("buddies")&&b||af.social.includes("most-followed")&&c>=100||af.social.includes("not-followed")&&c<50)})),a.sort((a,b)=>{let c=0;switch(af.sortBy){case"students":c=(b.studentCount||0)-(a.studentCount||0);break;case"lessons":c=(b.totalLessons||0)-(a.totalLessons||0);break;case"date":c=b.id.localeCompare(a.id);break;case"name":c=a.title.localeCompare(b.title);break;default:c=0}return"desc"===af.sortOrder?c:-c}),a},[du,af]),(0,e.useMemo)(()=>(function(a){let b={};return eq.subjects.forEach(c=>{"all"===c.id?b[c.id]=a.length:b[c.id]=a.filter(a=>er(a)===c.id).length}),eq.trends.forEach(c=>{b[c.id]=a.filter(a=>a.trendBadge===c.id).length}),b.buddies=a.filter(a=>es(a)).length,b["most-followed"]=a.filter(a=>(a.studentCount||0)>=100).length,b["not-followed"]=a.filter(a=>50>(a.studentCount||0)).length,b})(du),[du]);let dv=()=>{console.log("\uD83D\uDD10 V\xe9rification d'identit\xe9 d\xe9clench\xe9e depuis le profil"),$.Z.triggerVerification(),bC(!0),bm(!1)},dw=b=>{console.log("\uD83D\uDED2 ACHAT: Post-processing apr\xe8s achat",b.type,b.itemId),"lesson"===b.type?bi("lesson_unlock",1,b.itemId):"course"===b.type?bi("course_complete",1,b.itemId):"pack"===b.type&&bi("pack_complete",1,b.itemId),O&&(O(b.type,b.itemId,b.price),console.log("\uD83D\uDD11 PURCHASE: Inform\xe9 le parent de l'achat:",b.type,b.itemId)),b$(a=>a+1),console.log("\uD83D\uDCB0 WALLET: Header forc\xe9 \xe0 se mettre \xe0 jour apr\xe8s achat"),(a=>{console.log("\uD83C\uDFAF PACK COMPLETION: V\xe9rification de la compl\xe9tion apr\xe8s achat",a.type,a.itemId);try{let b,c=(0,ac.S6)();b="lesson"===a.type?a.itemId.startsWith("lesson-")?a.itemId:`lesson-${a.itemId}`:a.itemId.startsWith(a.type)?a.itemId:`${a.type}-${a.itemId}`;let d=new Set([...Array.from(bN),b]);if(console.log("\uD83D\uDD0D PACK COMPLETION: purchaseKey cr\xe9\xe9:",b),console.log("\uD83D\uDD0D PACK COMPLETION: updatedPurchasedItems:",Array.from(d)),"pack"===a.type){let b=c.find(b=>b.id===a.itemId);if(b){console.log(`ðŸŽ¯ PACK COMPLETION: V\xe9rification du pack achet\xe9 ${b.id} (${b.title})`);let a=b.courses.map(a=>{let b=e4(a);return{...b,lessons:(0,ac.fj)(a,b?.title||"")}});dZ.Q.isPackCompleted(a,d,b.id)?(console.log(`ðŸŽ‰ PACK COMPLETION: Pack ${b.id} compl\xe9t\xe9 !`),dZ.Q.getUserProgressionBonusHistory(V.user?.id||"user-default").bonuses.find(a=>a.packId===b.id)?console.log(`ðŸŽ PACK COMPLETION: Bonus d\xe9j\xe0 existant pour ${b.title}`):(console.log(`ðŸŽ PACK COMPLETION: Nouveau bonus de progression pour ${b.title}`),dZ.Q.createProgressionBonus(V.user?.id||"user-default",b.id,b.title,100),console.log(`ðŸ’Ž PACK COMPLETION: Bonus de progression de 100â‚¬ cr\xe9\xe9 pour "${b.title}" (sera utilis\xe9 lors de la prochaine recharge)`),by({packId:b.id,packTitle:b.title}),console.log(`ðŸŽ‰ PACK COMPLETION: C\xe9l\xe9bration programm\xe9e pour ${b.title}`))):console.log(`â³ PACK COMPLETION: Pack ${b.id} pas encore compl\xe9t\xe9`)}}else c.forEach(a=>{console.log(`ðŸŽ¯ PACK COMPLETION: V\xe9rification du pack ${a.id} (${a.title})`);let b=a.courses.map(a=>{let b=e4(a);return{...b,lessons:(0,ac.fj)(a,b?.title||"")}});dZ.Q.isPackCompleted(b,d,a.id)?(console.log(`ðŸŽ‰ PACK COMPLETION: Pack ${a.id} compl\xe9t\xe9 !`),dZ.Q.getUserProgressionBonusHistory(V.user?.id||"user-default").bonuses.find(b=>b.packId===a.id)?console.log(`ðŸŽ PACK COMPLETION: Bonus d\xe9j\xe0 existant pour ${a.title}`):(console.log(`ðŸŽ PACK COMPLETION: Nouveau bonus de progression pour ${a.title}`),by({packId:a.id,packTitle:a.title}),console.log(`ðŸŽ‰ PACK COMPLETION: C\xe9l\xe9bration programm\xe9e pour ${a.title}`))):console.log(`â³ PACK COMPLETION: Pack ${a.id} pas encore compl\xe9t\xe9`)})}catch(a){console.error("âŒ PACK COMPLETION: Erreur lors de la v\xe9rification:",a)}})(b),Promise.resolve().then(c.bind(c,93768)).then(({NotificationService:a})=>{a.notifyPaymentSuccess(b.price,b.title),ak&&("lesson"===b.type?a.notifyCourseUnlocked(ak,"lesson"):"course"===b.type?a.notifyCourseUnlocked(ak,"course"):"pack"===b.type&&a.notifyCourseUnlocked(ak,"pack"))});let d=dg.getInstance();if("lesson"===b.type&&ak?d.addPersonalAchievement(`as d\xe9bloqu\xe9 une nouvelle le\xe7on en ${ak.title}`):"course"===b.type&&ak?d.addPersonalAchievement(`as compl\xe9t\xe9 le cours ${ak.title} !`):"pack"===b.type&&d.addPersonalAchievement(`as compl\xe9t\xe9 un pack complet !`),"pack"===b.type){let a=(0,ac.S6)().find(a=>a.id===b.itemId);a&&(console.log("\uD83D\uDD11 D\xc9BLOCAGE PACK: D\xe9blocage des cours du pack:",a.courses),bk(b=>{let c={...b};return a.courses.forEach(a=>{if(!c[a]){let b=(0,ac.tE)(a);if(0===b.length){let c=(0,ac.S6)().find(b=>b.courses.includes(a))?`Cours ${a.replace("course-","")}`:`Cours ${a}`;b=(0,ac.fj)(a,c),console.log("\uD83D\uDD11 D\xc9BLOCAGE PACK: Le\xe7ons g\xe9n\xe9r\xe9es automatiquement pour",a,b.length)}c[a]=b,console.log("\uD83D\uDD11 D\xc9BLOCAGE PACK: Le\xe7ons charg\xe9es pour",a,b.length)}c[a]=c[a].map(a=>({...a,isOwned:!0})),console.log("\uD83D\uDD11 D\xc9BLOCAGE PACK: Le\xe7ons d\xe9bloqu\xe9es pour",a,c[a].length)}),c}))}else ak&&bj[ak.id]&&(console.log("\uD83D\uDD11 D\xc9BLOCAGE: Mise \xe0 jour courseLessons pour",ak.id),bk(a=>{let c,d=a[ak.id]||[];return"lesson"===b.type?(c=d.map(a=>a.id===b.itemId?{...a,isOwned:!0}:a),console.log("\uD83D\uDD11 D\xc9BLOCAGE: Le\xe7on d\xe9bloqu\xe9e:",b.itemId)):"course"===b.type?console.log("\uD83D\uDD11 D\xc9BLOCAGE: TOUTES les le\xe7ons du cours d\xe9bloqu\xe9es:",(c=d.map(a=>({...a,isOwned:!0}))).length):c=d,{...a,[ak.id]:c}}));if(("course"===b.type||"pack"===b.type)&&(console.log("\uD83D\uDD11 D\xc9BLOCAGE: Mise \xe0 jour des cours primaires avec isOwned=true"),X(a=>a.map(a=>{let c=!1;if("course"===b.type)c=a.id===b.itemId;else if("pack"===b.type){let d=(0,ac.S6)().find(a=>a.id===b.itemId);c=!!d&&d.courses.includes(a.id)}if(c){let b={...a,isOwned:!0,lessons:a.lessons?.map(a=>({...a,isOwned:!0}))||[]};return console.log("\uD83D\uDD11 D\xc9BLOCAGE: Cours primaire mis \xe0 jour:",b.id,"isOwned:",b.isOwned),b}return console.log("\uD83D\uDD11 D\xc9BLOCAGE: Cours non concern\xe9:",a.id,"isOwned reste:",a.isOwned),a}))),console.log("\uD83D\uDD04 SYNC: D\xe9but synchronisation avec Mes Cours favoris"),"lesson"===b.type){if(console.log("\uD83D\uDD04 SYNC: Achat d'une le\xe7on seule, ajout du cours parent aux favoris"),ak&&!W.find(a=>a.id===ak.id)){let a={...ak,isPrimary:!0,isOwned:!1};X(b=>[a,...b]);let b=JSON.parse(localStorage.getItem("favorites")||"[]");if(!b.includes(ak.id)){let a=[...b,ak.id];localStorage.setItem("favorites",JSON.stringify(a)),console.log("\uD83D\uDCBE SYNC: Cours ajout\xe9 dans localStorage.favorites:",ak.id)}console.log("âœ… SYNC: Cours parent ajout\xe9 aux favoris:",ak.title)}}else if("course"===b.type){console.log("\uD83D\uDD04 SYNC: Achat d'un cours complet, mise \xe0 jour favoris");let a=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.id===b.itemId);if(a){let c={...a,isPrimary:!0,isOwned:!0};X(d=>{let e,f=d.findIndex(a=>a.id===b.itemId);if(f>=0){let b=[...d];b[f]=c,console.log("âœ… SYNC: Cours existant mis \xe0 jour dans favoris:",a.title),e=b}else console.log("âœ… SYNC: Nouveau cours ajout\xe9 aux favoris:",a.title),e=[c,...d];let g=e.filter(a=>a.isPrimary).map(a=>a.id);return localStorage.setItem("favoriteCourses",JSON.stringify(g)),console.log("\uD83D\uDD04 SYNC: localStorage mis \xe0 jour avec favoris:",g),setTimeout(()=>{console.log("\uD83D\uDD04 SYNC: D\xe9clenchement \xe9v\xe9nement favoritesChanged"),window.dispatchEvent(new CustomEvent("favoritesChanged"))},0),e})}else console.log("âŒ SYNC: Cours non trouv\xe9 pour itemId:",b.itemId)}else if("pack"===b.type){console.log("\uD83D\uDD04 SYNC: Achat d'un pack complet, ajout de tous les cours");let a=(0,ac.S6)().find(a=>a.id===b.itemId);if(a&&a.courses){console.log("\uD83D\uDD04 SYNC: Pack trouv\xe9:",a.title,"avec cours:",a.courses);let b=[...W,...V.suggestedCourses.map(a=>a.course)],c=a.courses.map(a=>b.find(b=>b.id===a)).filter(Boolean).map(a=>({...a,isPrimary:!0,isOwned:!0}));console.log("\uD83D\uDD04 SYNC: Cours du pack \xe0 ajouter:",c.map(a=>a.title)),X(a=>{let b=new Set(a.map(a=>a.id)),d=[...c.filter(a=>!b.has(a.id)),...a.map(a=>c.find(b=>b.id===a.id)?{...a,isOwned:!0}:a)],e=d.filter(a=>a.isPrimary).map(a=>a.id);return localStorage.setItem("favoriteCourses",JSON.stringify(e)),console.log("\uD83D\uDD04 SYNC: localStorage mis \xe0 jour avec favoris pack:",e),setTimeout(()=>{console.log("\uD83D\uDD04 SYNC: D\xe9clenchement \xe9v\xe9nement favoritesChanged pour pack"),window.dispatchEvent(new CustomEvent("favoritesChanged"))},0),d}),console.log("âœ… SYNC: Pack - Tous les cours ajout\xe9s aux favoris:",c.map(a=>a.title))}else if(console.log("âš ï¸ SYNC: Pack non trouv\xe9 pour:",b.itemId),ak){let a={...ak,isPrimary:!0,isOwned:!0};X(b=>{let c=b.findIndex(a=>a.id===ak.id);if(!(c>=0))return[a,...b];{let d=[...b];return d[c]=a,d}}),console.log("âœ… SYNC: Pack - Cours actuel ajout\xe9 aux favoris (fallback):",ak.title)}}if(a.onPurchase&&a.onPurchase(b.type,b.itemId,b.price),"course"===b.type||"pack"===b.type){if(console.log("\uD83C\uDFAF ONBOARDING: D\xe9clenchement planification pour",b.type),"course"===b.type){let a=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.id===b.itemId);a&&a.id!==ak?.id&&(console.log("\uD83D\uDD04 SYNC: Redirection vers le cours achet\xe9:",a.title,"(\xe9tait:",ak?.title,")"),al(a))}let a="Cours complet",c=b.itemId;if("pack"===b.type){let c=(0,ac.S6)().find(a=>a.id===b.itemId);c?console.log("\uD83C\uDFAF ONBOARDING: Pack trouv\xe9 pour planification:",a=c.title,"avec",c.courses.length,"cours"):a="Pack Electrostatique"}else{let c=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.id===b.itemId);c?console.log("\uD83C\uDFAF ONBOARDING: Cours trouv\xe9 par itemId:",a=c.title,"(",b.itemId,")"):ak?(console.log("\uD83C\uDFAF ONBOARDING: Fallback selectedCourse:",a=ak.title),console.log("\uD83C\uDFAF ONBOARDING: selectedCourse.id:",ak.id,"vs option.itemId:",b.itemId)):(console.log("\uD83C\uDFAF ONBOARDING: Aucun cours trouv\xe9, utilisation nom g\xe9n\xe9rique"),a="Cours achet\xe9")}console.log("\uD83C\uDFAF ONBOARDING: D\xc9CLENCHEMENT FINAL pour:",a,"ID:",c),setTimeout(()=>{var b=a;if(console.log("\uD83C\uDFAF ONBOARDING: D\xe9clenchement planification pour",b),console.log("\uD83C\uDFAF ONBOARDING: pendingPackCelebration:",bx),c){let a=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.id===c);a&&(b4(a),console.log("\uD83C\uDFAF ONBOARDING: Cours cibl\xe9 pour planification:",a.title))}bx?(console.log("\uD83C\uDF89 PACK COMPLETION: C\xe9l\xe9bration en attente d\xe9tect\xe9e, d\xe9clenchement avant planification"),console.log("\uD83C\uDF89 PACK COMPLETION: C\xe9l\xe9bration pour:",bx.packTitle,"ID:",bx.packId),console.log("\uD83C\uDF89 PACK COMPLETION: courseName actuel:",b),bw(bx),bu(!0),console.log("\uD83C\uDF89 PACK COMPLETION: Modal de c\xe9l\xe9bration ouverte, showPackCompletionModal:",!0),by(null),setTimeout(()=>{console.log("\uD83C\uDFAF ONBOARDING: Ex\xe9cution du d\xe9clenchement OBLIGATOIRE pour",b,"(apr\xe8s c\xe9l\xe9bration)"),b2(b),b0(!0),console.log("\uD83C\uDFAF ONBOARDING: \xc9tats mis \xe0 jour - courseName:",b,"show:",!0)},1e3)):setTimeout(()=>{console.log("\uD83C\uDFAF ONBOARDING: Ex\xe9cution du d\xe9clenchement OBLIGATOIRE pour",b),b2(b),b0(!0),console.log("\uD83C\uDFAF ONBOARDING: \xc9tats mis \xe0 jour - courseName:",b,"show:",!0)},300)},200)}else console.log("\uD83C\uDFAF ONBOARDING: Pas un achat de cours complet, pas d'onboarding");bA(!1),bs(!1),cC({lesson:"\uD83C\uDF89 Le\xe7on d\xe9bloqu\xe9e et ajout\xe9e \xe0 vos cours favoris !",course:"\uD83C\uDF89 Cours complet d\xe9bloqu\xe9 et ajout\xe9 \xe0 vos favoris !",pack:"\uD83C\uDF89 Pack complet d\xe9bloqu\xe9 ! Tous les cours sont dans vos favoris !"}[b.type]||"\uD83C\uDF89 Contenu d\xe9bloqu\xe9 avec succ\xe8s !"),setTimeout(()=>cC(null),5e3)};(0,F.FR)((0,F.MS)(F.AN),(0,F.MS)(F.uN,{coordinateGetter:G.JR}));let dx=a=>{al(a),ax(a.lessons||(0,ac.fj)(a.id)),av(!0)},dy=()=>{ci(!1),cg(null)},dz=()=>{cH(!1),cE(null)},dA=(a,b)=>{let c=b.map(a=>V.suggestedCourses.find(b=>b.course.id===a)?.course).filter(Boolean);if(0===c.length)return;cq(b=>[...b,a]),cn(a=>[...a,...b]);let d=c.map(a=>({...a,isPrimary:!0,packBadge:"Inclus dans Pack"}));X(a=>[...d,...a]),cC(`ðŸš€ Fantastique ! Tu viens de d\xe9bloquer un pack complet avec ${c.length} cours. Ton parcours d'apprentissage s'enrichit consid\xe9rablement !`),setTimeout(()=>cC(null),5e3)};V.progress.reduce((a,b)=>a+b.timeSpent,0),W.length>0&&(W.reduce((a,b)=>a+b.progress,0),W.length),V.progress.length>0&&V.progress.map(a=>a.facultyRanking);let[dB,dC]=(0,e.useState)(()=>"courses"),[dD,dE]=(0,e.useState)("header"),[dF,dG]=(0,e.useState)(null),dH=(a,b)=>{console.log("\uD83D\uDE80 navigateToSectionWithContext:",a,b),av(!1),dG(b||null),dC(a)},dI=a=>{dG(null),dC(a)},dJ=()=>{if(dF){console.log("\uD83D\uDD19 handleReturnToTrack: trackContext=",dF);let a=[...W,...V.suggestedCourses.map(a=>a.course)];console.log("\uD83D\uDD19 Tous les cours IDs:",a.map(a=>a.id));let b=a.find(a=>a.id===dF.trackId);b||(b=a.find(a=>a.title.toLowerCase().includes(dF.trackTitle.toLowerCase())||dF.trackTitle.toLowerCase().includes(a.title.toLowerCase())),console.log("\uD83D\uDD19 Course trouv\xe9 par titre:",b?.id)),b?(console.log("\uD83D\uDD19 Retour vers Learning Track:",b.id,b.title),dG(null),al(b),ax(bj[b.id]||(0,ac.fj)(b.id)),av(!0)):(console.warn("\uD83D\uDD19 Cours non trouv\xe9, retour au dashboard"),dG(null)),dC("courses")}},[dK,dM]=(0,e.useState)(!1),dN=[{id:"courses",label:"Mon parcours",icon:m.A,hasAccess:!0},{id:"planning",label:"Planification",icon:o.A,hasAccess:!0,isPremium:!1,hasNotification:!1},{id:"study-rooms",label:"Study Rooms",icon:p.A,hasAccess:!0},{id:"community",label:"Social Club",icon:q.A,hasAccess:!0},{id:"training",label:"Training Club",icon:r.A,hasAccess:!0}];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`
          .overflow-x-auto::-webkit-scrollbar {
            display: none;
          }
        `}}),ak&&aq?(0,d.jsx)(c_,{course:ak,lessons:bj[ak.id]||ak.lessons||[],onSelectLesson:a=>{ar(!1),console.log("Le\xe7on s\xe9lectionn\xe9e:",a)},onClose:()=>{ar(!1),al(null)},purchasedItems:bN}):ak&&as?(0,d.jsx)(dQ,{course:ak,isOpen:!0,onClose:()=>{at(!1),aA(void 0),av(!0)},onNavigateToSection:dC,showSettings:bl,onToggleSettings:()=>bm(!bl),purchasedItems:bN,onPurchase:dw,user:n||V.user,lessons:bj[ak.id]||aw,onLessonsUpdate:a=>{bk(b=>({...b,[ak.id]:a}))},userXPProfile:a5,initialLessonId:az}):(0,d.jsxs)("div",{id:"dashboard-container",className:"min-h-screen pt-[72px] md:pt-[85px] relative overflow-x-clip overflow-y-visible",children:["default"!==cd?(0,d.jsx)("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:`url(/course-backgrounds/${cd}.svg)`,backgroundSize:"cover",backgroundPosition:"center"}}):(0,d.jsx)("div",{className:"fixed inset-0 bg-white z-0"}),"default"!==cd&&(0,d.jsx)("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-[1px] z-0"}),(0,d.jsxs)("div",{className:`relative z-10 transition-all duration-300 ease-in-out ${aB?"mr-[480px] md:mr-[480px] lg:mr-[450px] xl:mr-[520px] 2xl:mr-[580px]":"mr-0"}`,children:["header"===dD&&(0,d.jsx)(dL,{activeSection:dB,onNavigate:a=>dI(a),userName:n?.name||V.user?.name||"Utilisateur",userAvatar:n?.avatar||V.user?.avatar,userLevel:a5?.level||1,userXP:a5?.currentXP||0,isSubscribed:bN&&bN.size>0||!1,isIdentityVerified:!1,onOpenGuestPass:()=>c0(!0),onFinishSignup:()=>{a4("membership-plans"),a2(!0)},onOpenProfile:()=>dC("profile"),onOpenSettings:()=>bm(!0),onLogout:P,onStartTour:()=>cT.startTour(),onOpenParentReports:()=>cZ(!0),onOpenHelpCenter:()=>window.open("https://wa.me/32477025622","_blank"),onVerifyIdentity:dv,themeColor:"#00c2ff"}),(0,d.jsx)("header",{className:`bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-40 ${"header"===dD?"hidden":""}`,children:(0,d.jsx)("div",{className:"px-3 md:px-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between relative h-[72px] md:h-[85px]",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0",children:[(0,d.jsx)("button",{onClick:()=>cl(!0),className:"cursor-target w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:(0,d.jsx)(s.A,{size:20})}),(0,d.jsx)("button",{onClick:()=>{dC("courses"),al(null),a$(!1),c0(!1)},className:"relative h-[60px] w-[160px] md:h-[75px] md:w-[200px] cursor-pointer hover:opacity-90 transition-opacity",children:(0,d.jsx)(j.default,{src:"/brand/sms-logo-version-sur-fond-blanc-rgb.svg",alt:"SMS",fill:!0,className:"object-contain object-left",priority:!0})})]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-4 absolute left-1/2 transform -translate-x-1/2",children:[a5&&(0,d.jsx)(eS,{profile:a5,onClick:()=>{aE("progression"),aC(!0)}}),(0,d.jsx)("div",{"data-tour":"social-feed",children:(0,d.jsx)(eR,{onClick:()=>{aE("now"),aC(!0)},className:"text-gray-600 hover:text-gray-900"})}),(0,d.jsx)(eQ,{userId:n?.id||"current_user",onNavigateToCommunity:()=>dC("community"),onNavigateToSection:dC})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:`hidden md:flex items-center gap-3 px-6 py-3 rounded-full border-2 transition-colors ${dt?"bg-orange-50 border-orange-400":"bg-gray-100 border-gray-300"}`,children:[(0,d.jsx)(t.A,{size:22,className:dt?"text-orange-600":"text-gray-700"}),(0,d.jsxs)("span",{className:`text-xl font-bold tabular-nums tracking-tight ${dt?"text-orange-600":"text-gray-900"}`,children:[String(dr).padStart(2,"0"),":",String(ds).padStart(2,"0"),":",String(dc%60).padStart(2,"0")]})]}),(0,d.jsx)("button",{onClick:()=>{a4("membership-plans"),a2(!0)},className:"hidden md:block px-5 py-2.5 bg-[#00c2ff] hover:bg-[#3ab5dc] text-white font-medium rounded-full transition-colors",children:"D\xe9bloquer"}),(0,d.jsxs)("button",{onClick:()=>c0(!0),className:"hidden md:flex items-center gap-2 px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-full font-medium transition-colors",children:[(0,d.jsx)(u.A,{size:16}),(0,d.jsx)("span",{children:"Cadeau"})]}),(0,d.jsxs)("div",{className:"relative",ref:bP,children:[(0,d.jsxs)("button",{onClick:()=>bm(!bl),className:"relative w-12 h-12 bg-black rounded-full flex items-center justify-center text-white text-lg font-bold hover:bg-gray-800 transition-colors",children:[V.user.name.charAt(0),(0,d.jsx)("span",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${"available"===bn?"bg-green-500":"busy"===bn?"bg-orange-500":"focus"===bn?"bg-red-500":"bg-gray-400"}`})]}),(0,d.jsx)(i.N,{children:bl&&(0,d.jsxs)(h.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-12 right-0 bg-white rounded-2xl shadow-xl border border-gray-200 p-4 md:p-6 w-80 md:w-80 z-50 max-w-[calc(100vw-1rem)] md:max-w-none",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white font-bold",children:V.user.name.charAt(0)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:V.user.name}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:V.user.year})]})]}),(0,d.jsx)("button",{onClick:()=>bm(!1),className:"w-6 h-6 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:(0,d.jsx)(v.A,{size:14,className:"text-gray-400"})})]}),(0,d.jsx)("hr",{className:"border-gray-100 mb-4"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(U.a,{className:"w-full"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center gap-2",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${"available"===bn?"bg-green-500":"busy"===bn?"bg-orange-500":"focus"===bn?"bg-red-500":"bg-gray-400"}`}),"Statut social"]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{id:"available",label:"Disponible",icon:"\uD83D\uDFE2",desc:"Visible et joignable"},{id:"busy",label:"Occup\xe9",icon:"\uD83D\uDFE0",desc:"Pas de duels"},{id:"focus",label:"Focus",icon:"\uD83D\uDD34",desc:"Mode concentration"},{id:"invisible",label:"Invisible",icon:"âš«",desc:"Hors ligne"}].map(a=>(0,d.jsx)("button",{onClick:()=>bo(a.id),className:`p-2 rounded-xl text-left transition-all ${bn===a.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs",children:a.icon}),(0,d.jsx)("span",{className:"text-xs font-medium",children:a.label})]})},a.id))}),(0,d.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["available"===bn&&"Tu peux recevoir des demandes de duel, invitations et notifications.","busy"===bn&&"Les demandes de duel sont bloqu\xe9es. Study rooms et notifications actives.","focus"===bn&&"Toutes les interactions sociales sont d\xe9sactiv\xe9es. Concentration maximale.","invisible"===bn&&"Tu apparais hors ligne. Aucune interaction sociale possible."]})]}),(0,d.jsx)("hr",{className:"border-gray-100"}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Mon profil"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Modifier mes informations"})]}),(0,d.jsx)("button",{onClick:()=>{bm(!1),window.location.href="/profil"},className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"Voir profil"})]}),(0,d.jsx)("hr",{className:"border-gray-100"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[(0,d.jsx)(w.A,{size:14}),"Param\xe8tres"]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Mode sombre"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Interface en th\xe8me sombre"})]}),(0,d.jsx)("div",{className:"w-10 h-6 bg-gray-200 rounded-full relative cursor-pointer",children:(0,d.jsx)("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 left-1 transition-transform"})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Alertes et rappels"})]}),(0,d.jsx)("div",{className:"w-10 h-6 bg-blue-500 rounded-full relative cursor-pointer",children:(0,d.jsx)("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 right-1 transition-transform"})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Sons"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Effets sonores"})]}),(0,d.jsx)("div",{className:"w-10 h-6 bg-blue-500 rounded-full relative cursor-pointer",children:(0,d.jsx)("div",{className:"w-4 h-4 bg-white rounded-full absolute top-1 right-1 transition-transform"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Fond d'\xe9cran"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:bQ.find(a=>a.id===cd)?.name||"Par d\xe9faut"})]}),(0,d.jsx)("button",{onClick:()=>bq(!bp),className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:bp?"Fermer":"Choisir"})]}),(0,d.jsx)(i.N,{children:bp&&(0,d.jsx)(h.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3 space-y-2 overflow-hidden",children:bQ.map(a=>(0,d.jsx)(h.P.button,{onClick:()=>{ce(a.id),bq(!1)},className:`w-full text-left p-3 rounded-lg border-2 transition-all ${cd===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:a.description})]}),cd===a.id&&(0,d.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},a.id))})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Langue"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Fran\xe7ais"})]}),(0,d.jsx)("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"Modifier"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(x.A,{size:14}),"Visite guid\xe9e"]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"D\xe9couvrir la plateforme"})]}),(0,d.jsx)("button",{onClick:()=>{bm(!1),cT.startTour()},className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"D\xe9marrer"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(y.A,{size:14}),"S\xe9curit\xe9 du compte"]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"V\xe9rifiez votre identit\xe9 en 2 minutes"})]}),(0,d.jsx)("button",{onClick:dv,className:"text-sm text-indigo-600 font-medium hover:text-indigo-700",children:"S\xe9curiser"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(z.A,{size:14}),"Rapports Parents"]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"R\xe9sum\xe9s hebdomadaires optionnels"})]}),(0,d.jsx)("button",{onClick:()=>{bm(!1),cZ(!0)},className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"Configurer"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Centre d'aide"}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"FAQ et support"})]}),(0,d.jsx)("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"Ouvrir"})]})]})]}),(0,d.jsx)("hr",{className:"border-gray-100"}),(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsx)("button",{onClick:()=>{P&&(bm(!1),P())},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Se d\xe9connecter"})})]})]})})]})]})]})})}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsxs)("nav",{className:`${"header"===dD?"hidden":"hidden md:flex"} w-64 bg-white border-r border-gray-200 flex-col fixed left-0 top-[72px] md:top-[85px] h-[calc(100vh-85px)] z-30`,children:[(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"space-y-2",children:dN.map(a=>{let b=a.icon,c=!a.hasAccess,e=dB===a.id;return(0,d.jsxs)("button",{"data-tour":a.id,onClick:()=>{"whatsapp"===a.id?window.open("https://wa.me/33123456789","_blank"):a.hasAccess?dI(a.id):a.isPremium&&alert(bW.plannerAccess.accessMessage)},className:`cursor-target w-full flex items-center gap-3 p-3 rounded-lg transition-all relative group ${"whatsapp"===a.id?"bg-green-500 text-white hover:bg-green-600":e?"bg-black text-white":c?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"} ${c?"opacity-60":""}`,disabled:c&&!a.isPremium,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(b,{size:20}),a.hasNotification&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),(0,d.jsx)("span",{className:"font-medium",style:{fontSize:"14px"},children:a.label}),a.isPremium&&(0,d.jsxs)("div",{className:"ml-auto flex items-center gap-1",children:[!a.hasAccess&&(0,d.jsx)("div",{className:"w-5 h-5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2z"})})}),a.hasAccess&&(0,d.jsx)("div",{className:"w-5 h-5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.isPremium&&!a.hasAccess&&(0,d.jsxs)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap",children:["Fonctionnalit\xe9 premium",(0,d.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 w-0 h-0 border-r-4 border-r-gray-900 border-y-4 border-y-transparent"})]})]},a.id)})})}),(0,d.jsx)("div",{className:"mt-auto mb-[220px] border-t border-gray-100",children:(0,d.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-6 hover:bg-gray-50 transition-colors text-left",onClick:()=>a$(!0),children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center",children:(0,d.jsx)(A.A,{size:18,className:"text-white"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",style:{fontSize:"14px"},children:"Mastery Boosters"}),(0,d.jsx)("p",{className:"text-gray-500 truncate",style:{fontSize:"14px"},children:"Booste ton apprent..."})]}),(0,d.jsx)(B.A,{size:16,className:"text-gray-400"})]})})]}),(0,d.jsxs)("main",{className:`flex-1 ${"header"===dD?"md:ml-0 md:pt-[40px]":"md:ml-64"} pt-0 pb-0 min-w-0`,children:[(0,d.jsx)(i.N,{children:c3&&"courses"===dB&&!ak&&!as&&!aq&&(0,d.jsx)(h.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-[#00c2ff] overflow-hidden",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3 sm:gap-6 py-4 sm:py-5 px-4",style:{fontSize:"16px"},children:[(0,d.jsx)("span",{className:"text-white font-bold tracking-wide uppercase whitespace-nowrap text-xs sm:text-[16px]",children:"OFFRE NOUVELLE ANN\xc9E"}),(0,d.jsx)("span",{className:"hidden sm:inline text-white/90 font-medium uppercase text-[16px]",children:"SUR CHAQUE MASTERY PROGRAM"}),(0,d.jsx)("span",{className:"px-3 py-1.5 bg-white rounded-full text-[#00c2ff] font-bold",children:"-60%"}),(0,d.jsx)("span",{className:"hidden md:inline text-white/90 font-medium uppercase",children:"EXPIRE DANS"}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-white font-bold tabular-nums",children:[(0,d.jsx)("span",{children:String(Math.floor(c6.hours/24)).padStart(2,"0")}),(0,d.jsx)("span",{className:"text-white/80 text-xs font-normal",children:"j"}),(0,d.jsx)("span",{children:String(c6.hours%24).padStart(2,"0")}),(0,d.jsx)("span",{className:"text-white/80 text-xs font-normal",children:"h"}),(0,d.jsx)("span",{children:String(c6.minutes).padStart(2,"0")}),(0,d.jsx)("span",{className:"text-white/80 text-xs font-normal",children:"m"}),(0,d.jsx)("span",{children:String(c6.seconds).padStart(2,"0")}),(0,d.jsx)("span",{className:"text-white/80 text-xs font-normal",children:"s"})]}),(0,d.jsx)("button",{onClick:()=>c5(!1),className:"ml-2 text-white/60 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:16})})]})})}),"planning"===dB||b5?(0,d.jsxs)("div",{className:"h-[calc(100vh-85px)] flex flex-col overflow-hidden",children:[dF&&(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-4 md:px-6 lg:px-8 py-4 md:py-6 flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("button",{onClick:dJ,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,d.jsx)(C.A,{size:20}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Retour"})]}),(0,d.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,d.jsxs)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(24px, 5vw, 40px)"},children:["Planification",(0,d.jsxs)("span",{className:"text-[#00c2ff] ml-3",children:["â€¢ ",dF.trackTitle]})]})]})}),(0,d.jsx)("div",{className:dF?"flex-1 overflow-hidden":"h-full",children:(0,d.jsx)(eL,{plannerAccess:bW.plannerAccess,onGeneratePlan:a=>{if(console.log("\uD83C\uDFAF G\xe9n\xe9ration/mise \xe0 jour du planning avec les pr\xe9f\xe9rences:",a),bW.canCreatePlan){let b=bW.createOrUpdatePlan(a,b3||void 0);if(console.log("\uD83D\uDCC5 Planning trait\xe9:",b),bW.hasExistingPlan&&b3){let a=b3.title,c=b.sessions.filter(a=>a.courseId===b3.id).length;alert(`âœ… Ton planning a \xe9t\xe9 actualis\xe9 avec ${c} nouvelles sessions du cours "${a}". Tes sessions existantes sont conserv\xe9es ! ðŸš€`)}else alert("âœ¨ Planning g\xe9n\xe9r\xe9 avec succ\xe8s ! \uD83D\uDE80");return b}throw Error("Acc\xe8s au planificateur refus\xe9")},onWhatsAppContact:()=>{let a=encodeURIComponent(bW.generateWhatsAppMessage()),b=`https://wa.me/33123456789?text=${a}`;window.open(b,"_blank")},onUpgrade:()=>{console.log("\uD83D\uDE80 Demande d'upgrade pour acc\xe9der au planificateur"),alert("Redirection vers les packs complets - Fonctionnalit\xe9 en d\xe9veloppement")},onRestartOnboarding:()=>{console.log("\uD83C\uDFAF ONBOARDING: Relance manuelle de l'onboarding"),bV(!1),bS(!1),b0(!0),b2("Planification")},buddy:bX,onAddBuddy:a=>{let b={...a,id:`buddy-${Date.now()}`,userId:n?.id||"1"};bY(b),console.log("\uD83D\uDC65 Buddy ajout\xe9:",b),alert(`Buddy "${a.buddyName}" ajout\xe9 avec succ\xe8s ! ðŸ‘¥`)},onUpdateBuddy:a=>{bY(a),console.log("\uD83D\uDC65 Buddy mis \xe0 jour:",a)},onRemoveBuddy:()=>{bX&&(console.log("\uD83D\uDC65 Buddy supprim\xe9:",bX.buddyName),bY(null),alert(`Buddy "${bX.buddyName}" supprim\xe9 !`))},onSendBuddyNotification:(a,b)=>{if(!bX||!bX.isActive)return void alert("Aucun buddy actif configur\xe9 !");let c={"missed-session":`ðŸ“š Ton buddy a manqu\xe9 sa session "${b}". Un petit encouragement ? ðŸ’ª`,"progress-update":`ðŸŽ‰ Ton buddy fait des progr\xe8s fantastiques ! Continue \xe0 l'encourager !`}[a];if("whatsapp"===bX.contactMethod){let a=encodeURIComponent(`Salut ${bX.buddyName} ! ${c}`),b=`https://wa.me/${bX.buddyContact.replace(/[^\d]/g,"")}?text=${a}`;window.open(b,"_blank")}else if("email"===bX.contactMethod){let b=`mailto:${bX.buddyContact}?subject=${encodeURIComponent("missed-session"===a?"Session manqu\xe9e":"Progr\xe8s excellent")}&body=${encodeURIComponent(c)}`;window.open(b)}else{let a=`sms:${bX.buddyContact}?body=${encodeURIComponent(c)}`;window.open(a)}bY({...bX,lastNotificationSent:new Date}),console.log(`ðŸ“± Notification buddy envoy\xe9e (${bX.contactMethod}):`,c),alert(`Notification envoy\xe9e \xe0 ${bX.buddyName} via ${bX.contactMethod.toUpperCase()} ! ðŸ“±`)},favoriteCourses:W.filter(a=>a.isPrimary).map(a=>({id:a.id,title:a.title,examDate:a.examDate,progress:a.progress})),focusedCourse:dF?W.find(a=>a.id===dF.trackId)||W.find(a=>a.title.toLowerCase().includes(dF.trackTitle.toLowerCase())||dF.trackTitle.toLowerCase().includes(a.title.toLowerCase()))||{id:dF.trackId,title:dF.trackTitle}:b3,onNavigateToCourse:a=>{let b={"ondes-mecaniques":"Ondes m\xe9caniques","suites-limites":"Suites et Limites","equilibres-chimiques":"\xc9quilibres Chimiques","forces-mouvement":"Forces et Mouvement"},c=W.find(b=>b.id===a);!c&&b[a]&&(c=W.find(c=>c.title.toLowerCase().includes(b[a].toLowerCase())||b[a].toLowerCase().includes(c.title.toLowerCase()))),!c&&W.length>0&&(c=W[0],console.log("\uD83D\uDCDA Fallback: Utilisation du premier cours disponible pour la d\xe9mo")),c?(dC("courses"),b6(!1),al(c),at(!0)):console.error("Cours non trouv\xe9:",a)},hideHeader:!!dF},dF?`planning-${dF.trackId}`:"planning-general")})]}):"study-rooms"===dB?(0,d.jsxs)("div",{className:"h-[calc(100vh-85px)] flex flex-col overflow-hidden",children:[dF&&(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-4 md:px-6 lg:px-8 py-4 md:py-6 flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("button",{onClick:dJ,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,d.jsx)(C.A,{size:20}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Retour"})]}),(0,d.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,d.jsxs)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(24px, 5vw, 40px)"},children:["Study Rooms",(0,d.jsxs)("span",{className:"text-[#00c2ff] ml-3",children:["â€¢ ",dF.trackTitle]})]})]})}),(0,d.jsx)("div",{className:dF?"flex-1 overflow-y-auto":"h-full overflow-y-auto",children:(0,d.jsx)(cU,{userId:n?.id||V.user?.id||"user-1",userName:n?.name||V.user?.name||"\xc9tudiant",purchasedItems:bN,onNavigateToUpgrade:a=>{console.log("Navigation vers upgrade pour:",a),dC("unlock")},onNavigateToCourseReplay:(a,b)=>{console.log("\uD83D\uDCFA Navigation vers le replay:",b,"du cours:",a);let c=W.find(b=>b.id===a);c&&(al(c),dC("courses"))},userCourses:W,isAdmin:!1,initialProgramFilter:dF?.trackTitle,hideHeader:!!dF})})]}):"community"===dB?dF?(0,d.jsx)("div",{className:"h-[calc(100vh-85px)] overflow-hidden",children:(0,d.jsx)(cw.l,{isOpen:!0,onClose:()=>{},trackId:dF.trackId,trackTitle:dF.trackTitle,embedded:!0,skipIntro:!1,onBack:dJ})}):(0,d.jsxs)("div",{className:"h-[calc(100vh-85px)] overflow-hidden flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-4 md:px-6 lg:px-8 py-4 md:py-6 flex-shrink-0",children:(0,d.jsx)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(32px, 8vw, 64px)"},children:"Social Club"})}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden px-4 md:px-6 lg:px-8 py-4 md:py-6",children:[(0,d.jsx)("div",{className:"md:hidden flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-3 scrollbar-hide",children:[[{id:"buddies",label:"Buddies"},{id:"circles",label:"Cercles"},{id:"qa",label:"Chat"}].map(a=>(0,d.jsx)("button",{onClick:()=>aG(a.id),className:`flex-shrink-0 px-5 py-3 rounded-xl border transition-all min-h-[48px] ${aF===a.id?"bg-gray-900 border-gray-900":"bg-white border-gray-200"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight whitespace-nowrap",style:{fontFamily:"var(--font-parafina)",fontSize:"18px",color:aF===a.id?"#00c2ff":"#111827"},children:a.label})},a.id)),(0,d.jsxs)("button",{onClick:()=>be(!0),className:"flex-shrink-0 px-5 py-3 bg-gray-900 text-white rounded-xl font-semibold flex items-center gap-2 min-h-[48px]",children:[(0,d.jsx)(D.A,{size:16}),(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Inviter"})]})]})}),(0,d.jsxs)("div",{className:"hidden md:block w-72 flex-shrink-0 space-y-2 overflow-y-auto",children:[(0,d.jsx)("button",{onClick:()=>aG("buddies"),className:`w-full p-4 rounded-xl border transition-all text-left ${"buddies"===aF?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"buddies"===aF?"#00c2ff":"#111827"},children:"Buddies"})}),(0,d.jsx)("button",{onClick:()=>aG("circles"),className:`w-full p-4 rounded-xl border transition-all text-left ${"circles"===aF?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"circles"===aF?"#00c2ff":"#111827"},children:"Cercles"})}),(0,d.jsx)("button",{onClick:()=>aG("qa"),className:`w-full p-4 rounded-xl border transition-all text-left ${"qa"===aF?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"qa"===aF?"#00c2ff":"#111827"},children:"Chat"})}),(0,d.jsxs)("div",{className:"pt-5 border-t border-gray-100 mt-3",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-400 uppercase tracking-wide mb-3",children:"Ton r\xe9seau"}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900",children:"12"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Buddies"})]}),(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900",children:"3"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Circles"})]}),(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-green-600",children:"5"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"En ligne"})]})]})]}),(0,d.jsx)("div",{className:"pt-4",children:(0,d.jsxs)("button",{onClick:()=>be(!0),className:"w-full px-4 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-all flex items-center justify-center gap-2",children:[(0,d.jsx)(D.A,{size:16}),"Inviter un buddy"]})})]}),(0,d.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,d.jsx)(cs,{onOpenMessaging:a=>{aI(a),dC("messaging")},userId:n?.id||V.user?.id||"user-1",initialTab:aF,hideHeader:!0})})]})]}):"messaging"===dB?(0,d.jsx)("div",{className:"h-[calc(100vh-85px)]",children:(0,d.jsx)(cF,{defaultContactId:aH})}):"training"===dB?(0,d.jsxs)("div",{className:"h-[calc(100vh-85px)] overflow-hidden flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-4 md:px-6 lg:px-8 py-4 md:py-6 flex-shrink-0",children:dF?(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("button",{onClick:dJ,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,d.jsx)(C.A,{size:20}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Retour"})]}),(0,d.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,d.jsxs)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(24px, 5vw, 40px)"},children:["Training Club",(0,d.jsxs)("span",{className:"text-[#00c2ff] ml-3",children:["â€¢ ",dF.trackTitle]})]})]}):(0,d.jsx)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"clamp(32px, 8vw, 64px)"},children:"Training Club"})}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden px-4 md:px-6 lg:px-8 py-4 md:py-6",children:[(0,d.jsx)("div",{className:"md:hidden flex-shrink-0",children:(0,d.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-3 scrollbar-hide",children:[{id:"main",label:"Flash"},{id:"solo-quiz",label:"R\xe9vision"},{id:"duel",label:"Examen"},{id:"duel-mode",label:"Duel"}].map(a=>(0,d.jsx)("button",{onClick:()=>aQ(a.id),className:`flex-shrink-0 px-5 py-3 rounded-xl border transition-all min-h-[48px] ${aP===a.id?"bg-gray-900 border-gray-900":"bg-white border-gray-200"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight whitespace-nowrap",style:{fontFamily:"var(--font-parafina)",fontSize:"18px",color:aP===a.id?"#00c2ff":"#111827"},children:a.label})},a.id))})}),(0,d.jsxs)("div",{className:"hidden md:block w-72 flex-shrink-0 space-y-2 overflow-y-auto",children:[(0,d.jsx)("button",{onClick:()=>aQ("main"),className:`w-full p-4 rounded-xl border transition-all text-left ${"main"===aP?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"main"===aP?"#00c2ff":"#111827"},children:"Flash"})}),(0,d.jsx)("button",{onClick:()=>aQ("solo-quiz"),className:`w-full p-4 rounded-xl border transition-all text-left ${"solo-quiz"===aP?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"solo-quiz"===aP?"#00c2ff":"#111827"},children:"R\xe9vision"})}),(0,d.jsx)("button",{onClick:()=>aQ("duel"),className:`w-full p-4 rounded-xl border transition-all text-left ${"duel"===aP?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"duel"===aP?"#00c2ff":"#111827"},children:"Examen"})}),(0,d.jsx)("button",{onClick:()=>aQ("duel-mode"),className:`w-full p-4 rounded-xl border transition-all text-left ${"duel-mode"===aP?"bg-gray-900 border-gray-900":"bg-white border-gray-200 hover:border-gray-300"}`,children:(0,d.jsx)("span",{className:"font-bold uppercase tracking-tight",style:{fontFamily:"var(--font-parafina)",fontSize:"28px",color:"duel-mode"===aP?"#00c2ff":"#111827"},children:"Duel"})}),(0,d.jsxs)("div",{className:"pt-5 border-t border-gray-100 mt-5",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-400 uppercase tracking-wide mb-3",children:"Tes stats"}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900",children:"24"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Quiz"})]}),(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900",children:"78%"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"R\xe9ussite"})]}),(0,d.jsxs)("div",{className:"text-center p-2.5 bg-gray-50 rounded-xl",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-gray-900",children:"5"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Victoires"})]})]})]})]}),(0,d.jsxs)("div",{className:"flex-1 bg-white rounded-2xl border border-gray-200 p-4 md:p-6 overflow-y-auto",children:["main"===aP&&(0,d.jsx)("div",{className:"h-full overflow-hidden -m-6",children:(0,d.jsx)(e5,{trackContext:dF})}),"solo-quiz"===aP&&(0,d.jsx)("div",{className:"h-full overflow-hidden -m-6",children:(0,d.jsx)(e6,{trackContext:dF})}),"duel"===aP&&(0,d.jsx)("div",{className:"h-full flex flex-col overflow-hidden",children:(0,d.jsx)("div",{className:"h-full overflow-y-auto -m-6",children:(0,d.jsx)(e8,{trackContext:dF})})}),"duel-mode"===aP&&(0,d.jsx)("div",{className:"h-full flex flex-col overflow-hidden",children:(0,d.jsx)("div",{className:"h-full overflow-y-auto -m-6",children:(0,d.jsx)(e7,{trackTitle:"Ondes m\xe9caniques"})})})]})]})]}):"unlock"===dB?(0,d.jsx)("div",{className:"p-8",children:(0,d.jsx)(aM,{data:l,userBalance:(n?.wallet||V.user?.wallet)?.balance||150,onBalanceChange:b=>{if(a.onUpdateUser){let c=n?.wallet||V.user?.wallet;if(c){let d={...V.user,wallet:{...c,balance:b,lastActivity:new Date}};a.onUpdateUser(d)}}},onCourseUnlock:a=>{let b=V.suggestedCourses.find(b=>b.course.id===a)?.course;b&&(cE(b),cH(!0))},onPackUnlock:dA,ownedCourses:cm,ownedPacks:cp,onOpenCourseViewer:a=>{let b=e4(a);b&&(al(b),at(!0))}})}):ak&&au?(0,d.jsx)("div",{className:"h-[calc(100vh-85px)] overflow-y-auto",children:(0,d.jsx)(dR.D,{course:ak,lessons:aw,onClose:()=>{av(!1),al(null),ax([])},onStartLesson:a=>{aA(a.id),av(!1),at(!0)},purchasedItems:bN,embedded:!0,onNavigateToSection:a=>{av(!1),dC(a)},onNavigateToSectionWithContext:(a,b)=>{av(!1),dH(a,b)}})}):"programs"===dB?(0,d.jsxs)("div",{className:"h-[calc(100vh-85px)] overflow-hidden flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-4 md:px-6 lg:px-8 py-4 md:py-6 flex-shrink-0",children:(0,d.jsxs)("h1",{className:"font-bold text-gray-900 uppercase tracking-wide",style:{fontFamily:"var(--font-parafina)",fontSize:"64px",lineHeight:"1.1"},children:["D\xe9bloque un acc\xe8s \xe0 vie.",(0,d.jsx)("br",{}),"G\xe9n\xe8re autant de parcours que n\xe9cessaire."]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,d.jsx)(e3,{hideHeader:!0,ownedProgramIds:Array.from(bN||[]).filter(a=>["physics","mathematics","chemistry","biology","economics","accounting","statistics"].includes(a)),onPurchase:a=>{let b=new URLSearchParams;b.set("programs",a.join(",")),window.location.href=`/payment?${b.toString()}`},onOpenProgram:a=>{dC("courses")}})})]}):"courses"===dB?(0,d.jsxs)("div",{className:"px-4 md:px-6 lg:px-8 pt-2 pb-6 overflow-visible",children:[!1,!1,(0,d.jsx)(eg,{onCourseClick:dx,onToggleFavorite:(a,b)=>{f(a,b),I&&I(a)},onNavigateToSectionWithContext:dH}),!1]}):(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Section en d\xe9veloppement"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Cette section sera bient\xf4t disponible !"})]})})]})]}),(0,d.jsx)(i.N,{children:cj&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-40 lg:hidden",onClick:()=>cl(!1)}),(0,d.jsx)(h.P.div,{initial:{x:-320},animate:{x:0},exit:{x:-320},className:"fixed left-0 top-0 bottom-0 w-80 bg-white z-50 lg:hidden",children:(0,d.jsxs)("div",{className:"p-6 flex flex-col h-full",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("button",{onClick:()=>{dC("courses"),al(null),cl(!1)},className:"relative h-[50px] w-[130px] cursor-pointer hover:opacity-90 transition-opacity",children:(0,d.jsx)(j.default,{src:"/brand/sms-logo-version-sur-fond-blanc-rgb.svg",alt:"SMS",fill:!0,className:"object-contain object-left"})}),(0,d.jsx)("button",{onClick:()=>cl(!1),children:(0,d.jsx)(v.A,{size:20})})]}),(0,d.jsx)("div",{className:"space-y-2 flex-1 overflow-y-auto",children:dN.map(a=>{let b=a.icon,c=!a.hasAccess,e=dB===a.id;return(0,d.jsxs)("button",{onClick:()=>{"whatsapp"===a.id?(window.open("https://wa.me/33123456789","_blank"),cl(!1)):a.hasAccess?(dI(a.id),cl(!1)):a.isPremium&&alert(bW.plannerAccess.accessMessage)},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-all relative ${"whatsapp"===a.id?"bg-green-500 text-white hover:bg-green-600":e?"bg-black text-white":c?"text-gray-400 cursor-not-allowed opacity-60":"text-gray-700 hover:bg-gray-100"}`,disabled:c&&!a.isPremium,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(b,{size:20}),a.hasNotification&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),(0,d.jsx)("span",{className:"font-medium",style:{fontSize:"14px"},children:a.label}),a.isPremium&&(0,d.jsxs)("div",{className:"ml-auto",children:[!a.hasAccess&&(0,d.jsx)("div",{className:"w-4 h-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2z"})})}),a.hasAccess&&(0,d.jsx)("div",{className:"w-4 h-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]},a.id)})}),(0,d.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-100 flex-shrink-0",children:(0,d.jsxs)("button",{className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors text-left rounded-lg",onClick:()=>{a$(!0),cl(!1)},children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-xl flex items-center justify-center",children:(0,d.jsx)(A.A,{size:18,className:"text-white"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",style:{fontSize:"14px"},children:"Mastery Boosters"}),(0,d.jsx)("p",{className:"text-gray-500 truncate",style:{fontSize:"12px"},children:"Booste ton apprentissage"})]}),(0,d.jsx)(B.A,{size:16,className:"text-gray-400"})]})})]})})]})}),(0,d.jsx)(Q,{course:cf,isOpen:ch,onClose:dy,onEnroll:K,onNavigateToUnlock:()=>{dy(),dC("unlock")},onShowUpsell:a=>{dy();let b=V.suggestedCourses.find(b=>b.course.id===a)?.course;b&&(bM({id:a,title:b.title}),bA(!0))},onNavigateToCourse:a=>{dy();let b=V.suggestedCourses.find(b=>b.course.id===a)?.course;b&&(al(b),at(!0))}}),(0,d.jsx)(ab,{isOpen:cL,onClose:()=>cM(!1),credits:cI,movements:cJ,suggestions:cR()}),cu&&(0,d.jsx)(ab,{isOpen:cu,credits:cI,movements:cJ,suggestions:cR(),onClose:()=>cv(!1)}),cr&&(0,d.jsx)(aj,{onClose:()=>ct(!1),onPurchase:(a,b)=>{cA({type:a,name:b.name,price:"pack"===a?b.price:b.bundlePrice,credits:b.credits,bonusCredits:b.bonusCredits||0,features:"pack"===a?b.features:b.items.map(a=>a.name)}),ct(!1),cy(!0)}}),cx&&cz&&(0,d.jsx)(cW,{item:cz,onClose:()=>cy(!1),onConfirm:a=>{let b=a.reduce((a,b)=>a+(b.credits||0)+(b.bonusCredits||0),0);b>0&&cQ(b,"Achat de pack de cr\xe9dits"),cy(!1),cA(null)}}),cN&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-gradient-to-r from-orange-500 to-red-500 text-white p-6 rounded-2xl shadow-2xl max-w-sm z-50",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"text-3xl",children:"\uD83E\uDDE0"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Capital cognitif faible !"}),(0,d.jsx)("p",{className:"text-sm text-white/90 mb-4",children:"Ton capital cognitif diminue \uD83E\uDDE0. Recharge-le pour continuer ton parcours en toute s\xe9r\xe9nit\xe9."}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>{cO(!1),ct(!0)},className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Recharger"}),(0,d.jsx)("button",{onClick:()=>cO(!1),className:"px-4 py-2 bg-white/20 text-white rounded-lg font-medium hover:bg-white/30 transition-colors",children:"Plus tard"})]})]}),(0,d.jsx)("button",{onClick:()=>cO(!1),className:"text-white/70 hover:text-white",children:(0,d.jsx)(v.A,{size:20})})]})}),cB&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 left-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white p-6 rounded-2xl shadow-2xl max-w-md z-50",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"text-2xl",children:"\uD83C\uDF89"}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("p",{className:"text-sm font-medium",children:cB})}),(0,d.jsx)("button",{onClick:()=>cC(null),className:"text-white/70 hover:text-white",children:(0,d.jsx)(v.A,{size:20})})]})}),cD&&(0,d.jsx)(aN,{isVisible:cG,onClose:dz,selectedCourse:cD,recommendedPack:ay(cD).recommendedPack,alternativePack:ay(cD).alternativePack,onSelectCourse:()=>{cD&&((a=>{let b=V.suggestedCourses.find(b=>b.course.id===a)?.course;if(b&&cP(b.creditCost||1,`Cours "${b.title}" d\xe9bloqu\xe9`,a)){cn(b=>[...b,a]);let c={...b,isPrimary:!0};X(a=>[c,...a]),cC(`ðŸŽ‰ Bravo ! Tu viens de d\xe9bloquer "${b.title}". Ce parcours est con\xe7u pour t'accompagner jusqu'\xe0 ton examen final.`),setTimeout(()=>cC(null),5e3),cm.length+1===3&&setTimeout(()=>{cQ(1,"Bonus progression - 3 cours d\xe9bloqu\xe9s !")},2e3)}})(cD.id),dz())},onSelectPack:a=>{dA(a,[]),dz()},canAffordCourse:cS(cD.creditCost||1),canAffordPack:cS(ay(cD).recommendedPack.creditCost),canAffordAlternative:!!ay(cD).alternativePack&&cS(ay(cD).alternativePack.creditCost)})]})]}),br&&(n?.wallet||V.user?.wallet)&&(0,d.jsx)(R.q,{currentBalance:T.F.getTotalBalance(V.user?.id||"user-default").total,onTopUp:(b,d)=>{let e=b+d,f=n?.wallet||V.user?.wallet;if(f&&a.onUpdateUser){let g=f.balance,h={...n||V.user,wallet:{...f,balance:g+e,totalDeposited:f.totalDeposited+e,lastActivity:new Date,transactions:[...f.transactions,{id:`tx-${Date.now()}-deposit`,walletId:f.id,type:"deposit",amount:b,description:"Rechargement portefeuille",createdAt:new Date,metadata:{paymentMethod:"card"}},...d>0?[{id:`tx-${Date.now()}-bonus`,walletId:f.id,type:"bonus",amount:d,description:"Bonus de rechargement",createdAt:new Date,metadata:{bonusPercentage:Math.round(d/b*100),originalAmount:b}}]:[]]}};a.onUpdateUser(h),Promise.resolve().then(c.bind(c,93768)).then(({NotificationService:a})=>{a.notifyWalletTopUp(e)})}bs(!1)},onCancel:()=>bs(!1),userId:V.user?.id||"user-default",source:"header"}),bB&&(0,d.jsx)(Y,{isOpen:bB,onClose:()=>bC(!1),onUploadComplete:a=>{console.log("\uD83D\uDCC4 Document d'identit\xe9 upload\xe9:",a.name),$.Z.uploadDocument(a),bC(!1)}}),bz&&bL&&(0,d.jsx)(S.U,{isOpen:bz,onClose:()=>bA(!1),purchaseOptions:bL.id.startsWith("pack-")?(a=>{let b=(0,ac.S6)().find(b=>b.id===a);return b?[{type:"pack",itemId:b.id,title:b.title,description:b.description,price:1200,features:["Vid\xe9os FullHD","Quiz d'auto-\xe9valuation","Toutes les le\xe7ons du cours","Acc\xe8s aux Study Rooms","Garantie de r\xe9ussite","Support prioritaire","Acc\xe8s au groupe WhatsApp du cours","Acc\xe8s \xe0 la communaut\xe9","Planificateur inclus",`Tous les cours de ${b.title.toLowerCase()}`,"Slides PDF disponibles pour tous les cours du pack"],badge:"Pack Premium"}]:[{type:"pack",itemId:"pack-electromagnetisme",title:"Pack \xc9lectrostatique",description:"Formation compl\xe8te en \xe9lectrostatique",price:1200,features:["Vid\xe9os FullHD","Quiz d'auto-\xe9valuation","Toutes les le\xe7ons du cours","Acc\xe8s aux Study Rooms","Garantie de r\xe9ussite","Support prioritaire","Acc\xe8s au groupe WhatsApp du cours","Acc\xe8s \xe0 la communaut\xe9","Planificateur inclus","Tous les cours d'\xe9lectrostatique","Slides PDF disponibles pour tous les cours du pack"],badge:"Pack Premium"}]})(bL.id):(0,ac.ZB)(bL.id),onPurchase:dw}),(0,d.jsx)(ck,{isOpen:bH,onClose:()=>{bI(!1),bK(null)},room:bJ,currentUserId:n?.id||"1"}),(0,d.jsx)(eM,{isOpen:b_,onClose:()=>b0(!1),onStartPlanning:()=>{console.log("\uD83C\uDFAF ONBOARDING: Utilisateur a choisi de planifier maintenant"),console.log("\uD83C\uDFAF ONBOARDING: activeSection actuel:",dB),console.log("\uD83C\uDFAF ONBOARDING: onboardingCourseName:",b1);let a=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.title===b1);a&&(console.log("\uD83C\uDFAF ONBOARDING: Cours trouv\xe9 pour planification:",a.title,"Exam date:",a.examDate),b4(a)),bS(!0),bV(!1),b0(!1),ak&&al(null),setTimeout(()=>{console.log("\uD83C\uDFAF ONBOARDING: Tentative setActiveSection(planning)"),dM(!0),dC("planning"),b6(!0),console.log("\uD83C\uDFAF ONBOARDING: setActiveSection(planning) ex\xe9cut\xe9"),setTimeout(()=>{dM(!1),console.log("\uD83C\uDFAF ONBOARDING: Navigation d\xe9verrouill\xe9e")},1e3)},200),console.log("\uD83C\uDFAF ONBOARDING: Redirection vers planning demand\xe9e")},onPostpone:()=>{console.log("\uD83C\uDFAF ONBOARDING: Utilisateur a choisi de reporter"),bV(!0),bS(!1),b0(!1)},courseName:b1,showCelebration:!!bx,packTitle:bx?.packTitle}),(0,d.jsx)(eX,{userId:n?.id||V.user?.id||"current-user",userName:n?.name||V.user?.name||"\xc9tudiant",isOpen:cV,onClose:()=>cX(!1),onComplete:()=>{cX(!1),console.log("\uD83C\uDF89 Buddy Onboarding termin\xe9 ! R\xe9seau d'\xe9tude activ\xe9.")}}),(0,d.jsx)(e0,{userId:n?.id||V.user?.id||"current-user",userName:n?.name||V.user?.name||"\xc9tudiant",isOpen:cY,onClose:()=>cZ(!1)}),(0,d.jsx)(dq,{isOpen:aB,onClose:()=>aC(!1),onNavigate:(a,b)=>{switch(console.log(`ðŸŽ¯ Navigation Social Feed: ${a} â†’ ${b||"no-id"}`),aC(!1),a){case"course":let c=[...W,...V.suggestedCourses.map(a=>a.course)].find(a=>a.id===b);c&&dx(c);break;case"competition":aG("competitions"),dC("community");break;case"circle":aG("circles"),dC("community");break;case"message":dC("messaging"),aI(b||"");break;case"xp-event":bc(!0);break;case"study-room":dC("study-rooms");break;case"buddy":aG("buddies"),dC("community");break;case"community":aG("badges"),dC("community");break;default:console.warn(`Type de lien non g\xe9r\xe9: ${a}`)}},initialTab:aD}),bf?.show&&(0,d.jsx)(eT,{xpGained:bf.xpGained,action:bf.action,newLevel:bf.newLevel,newBadges:bf.newBadges,onComplete:()=>bg(null)}),!1,(0,d.jsx)(i.N,{children:a7&&a5&&(0,d.jsx)(eU,{profile:a5,userName:n?.name||V.user?.name||"\xc9tudiant",onClose:()=>a8(!1)})}),"courses"===dB&&bb&&(0,d.jsx)("div",{className:"fixed bottom-6 right-6 z-40 max-w-md",children:(0,d.jsx)(eW,{events:[],onDismiss:a=>{console.log("\xc9v\xe9nement ferm\xe9:",a),bc(!1)}})}),(0,d.jsx)(ep,{isOpen:a1,onComplete:()=>{localStorage.setItem("sms_onboarding_completed","true"),a2(!1)},initialPhase:a3}),(0,d.jsx)(i.N,{children:c$&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:()=>c0(!1),children:(0,d.jsxs)(h.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-3xl p-10 max-w-lg w-full mx-4 shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsxs)("div",{className:"bg-gray-900 rounded-2xl px-8 py-5 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-3",children:(0,d.jsx)(j.default,{src:"/brand/onboarding-logo.svg",alt:"SMS",width:48,height:48})}),(0,d.jsx)("span",{className:"text-white font-bold tracking-wider uppercase",style:{fontSize:"14px"},children:"Pass Invit\xe9 14 jours"})]})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"Apprendre, c'est mieux \xe0 plusieurs"}),(0,d.jsxs)("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",style:{fontSize:"15px"},children:["Partage ton pass exclusif avec tes amis. S'ils s'inscrivent dans les 14 jours, tu gagnes ",(0,d.jsx)("span",{className:"font-bold text-gray-900",children:"+2h de contenu gratuit"})," ajout\xe9es \xe0 ton compteur !"]}),(0,d.jsx)("div",{className:"mb-5",children:(0,d.jsx)("input",{type:"text",value:c1,onChange:a=>c2(a.target.value),placeholder:"Emails s\xe9par\xe9s par des virgules",className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-gray-900 transition-colors",style:{fontSize:"15px"}})}),(0,d.jsx)("button",{onClick:()=>{c1.trim()&&(alert(`âœ‰ï¸ Invitations envoy\xe9es \xe0 : ${c1}

Tu recevras +2h pour chaque ami qui s'inscrit dans les 14 jours !`),c2(""),c0(!1))},className:"w-full py-4 bg-[#00c2ff] hover:bg-[#3bb5dc] text-white font-bold rounded-xl transition-colors mb-4",style:{fontSize:"16px"},children:"Envoyer les invitations"}),(0,d.jsx)("button",{onClick:()=>c0(!1),className:"w-full text-center text-gray-900 font-semibold hover:text-gray-600 transition-colors",style:{fontSize:"15px"},children:"Passer pour l'instant"}),(0,d.jsx)("p",{className:"text-center text-gray-400 mt-4 underline cursor-pointer hover:text-gray-600",style:{fontSize:"14px"},children:"Conditions du Pass Invit\xe9"})]})})}),(0,d.jsx)(dS.A,{isOpen:aJ,onClose:()=>aK(!1),trackTitle:ak?.title||"Ondes m\xe9caniques"}),(0,d.jsx)(dT.$,{isOpen:aL,onClose:()=>aO(!1),trackTitle:ak?.title||"Ondes m\xe9caniques"}),(0,d.jsx)(dY,{isOpen:aZ,onClose:()=>a$(!1),onUnlock:(a,b)=>{console.log(`Paiement pour ${a} - ${b}â‚¬`),confirm(`D\xe9bloquer "${a}" pour ${b}â‚¬ ?`)&&a0(b=>[...b,a])},unlockedBoosters:a_}),(0,d.jsx)(bU.N,{isOpen:bd,onClose:()=>be(!1),userId:n?.id||V.user?.id||"user-1"}),(0,d.jsx)(i.N,{children:dh&&(0,d.jsx)(h.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 z-[9998] max-w-md",children:(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 relative overflow-hidden",children:[(0,d.jsx)("div",{className:`absolute top-0 left-0 right-0 h-1 ${"50"===dh?"bg-[#00c2ff]":"bg-orange-500"}`}),(0,d.jsx)("button",{onClick:()=>di(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(v.A,{size:18})}),(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${"50"===dh?"bg-[#00c2ff]/10":"bg-orange-100"}`,children:(0,d.jsx)("span",{className:"text-2xl",children:"50"===dh?"\uD83C\uDF89":"â°"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 mb-1",children:"50"===dh?"Tu as d\xe9j\xe0 consomm\xe9 5h de contenu !":"Plus que 2h de contenu gratuit !"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"50"===dh?"Tu kiffes ? D\xe9bloque l'acc\xe8s illimit\xe9 et continue sans interruption.":"Passe \xe0 l'acc\xe8s illimit\xe9 maintenant et profite de -40% !"}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:()=>{di(null),a4("membership-plans"),a2(!0)},className:"px-4 py-2 bg-[#00c2ff] hover:bg-[#3ab5dc] text-white text-sm font-semibold rounded-full transition-colors",children:"D\xe9bloquer -40%"}),(0,d.jsx)("button",{onClick:()=>di(null),className:"px-4 py-2 text-gray-600 hover:text-gray-900 text-sm font-medium transition-colors",children:"Continuer gratuitement"})]})]})]})]})})}),(0,d.jsx)(i.N,{children:dn&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70",children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-3xl p-8 max-w-md w-full mx-4 text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,d.jsx)(t.A,{size:32,className:"text-orange-600"})}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Tes 10h offertes sont termin\xe9es"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"On t'offre la fin de cette le\xe7on ! Ensuite, d\xe9bloque l'acc\xe8s illimit\xe9 pour continuer ta progression."}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("button",{onClick:()=>{dp(!1),a4("membership-plans"),a2(!0)},className:"w-full py-4 bg-[#00c2ff] hover:bg-[#3ab5dc] text-white font-bold rounded-full transition-colors flex items-center justify-center gap-2",children:["D\xe9bloquer l'acc\xe8s illimit\xe9",(0,d.jsx)(ArrowRight,{size:18})]}),(0,d.jsx)("button",{onClick:()=>{dp(!1),dd(300)},className:"w-full py-3 text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Terminer cette le\xe7on d'abord"})]})]})})}),(0,d.jsx)(i.N,{children:de&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/80",children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-[#1a1a1a] rounded-3xl p-10 max-w-lg w-full mx-4 text-center",children:[(0,d.jsx)("div",{className:"w-20 h-20 bg-[#00c2ff]/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,d.jsx)(E.A,{size:40,className:"text-[#00c2ff]"})}),(0,d.jsx)("h3",{className:"text-3xl font-normal mb-4",style:{fontFamily:"var(--font-parafina)",color:"#FFFFFF"},children:"Continue ton parcours"}),(0,d.jsx)("p",{className:"text-white/70 mb-8",children:"Tu as utilis\xe9 tes 10h de d\xe9couverte. D\xe9bloque l'acc\xe8s \xe0 vie et g\xe9n\xe8re des parcours illimit\xe9s !"}),(0,d.jsxs)("button",{onClick:()=>{df(!1),a4("membership-plans"),a2(!0)},className:"w-full py-4 bg-[#00c2ff] hover:bg-[#3ab5dc] text-white font-bold rounded-full transition-colors flex items-center justify-center gap-2 mb-4",children:["D\xe9bloquer mes programmes",(0,d.jsx)(ArrowRight,{size:18})]}),(0,d.jsx)("p",{className:"text-xs text-white/50",children:"Paiement unique â€¢ Acc\xe8s \xe0 vie â€¢ Parcours illimit\xe9s"})]})})}),(0,d.jsx)(i.N,{children:c8&&(0,d.jsx)(h.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70",onClick:()=>c9(!1),children:(0,d.jsxs)(h.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:a=>a.stopPropagation(),className:"bg-[#1a1a1a] rounded-3xl p-12 max-w-lg w-full mx-4 relative",children:[(0,d.jsx)("button",{onClick:()=>c9(!1),className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:(0,d.jsx)(v.A,{size:20})}),(0,d.jsxs)("div",{className:"text-center px-4",children:[(0,d.jsx)("h2",{className:"text-3xl md:text-4xl font-normal mb-5 leading-tight whitespace-nowrap",style:{fontFamily:"var(--font-parafina)",color:"#FFFFFF"},children:"D\xe9bloque une offre exclusive"}),(0,d.jsxs)("p",{className:"text-xl md:text-2xl font-semibold mb-8 whitespace-nowrap",children:[(0,d.jsx)("span",{className:"text-[#00c2ff] font-bold",children:"-60%"}),(0,d.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.85)"},children:" sur tous les Mastery Programs"})]}),(0,d.jsx)("div",{className:"flex justify-center gap-3 mb-8",children:[{value:c6.hours,label:"Heures"},{value:c6.minutes,label:"Minutes"},{value:c6.seconds,label:"Secondes"}].map((a,b)=>(0,d.jsxs)("div",{className:"bg-white/5 rounded-xl px-5 py-3 min-w-[80px]",children:[(0,d.jsx)("div",{className:"text-2xl font-bold text-white tabular-nums",children:String(a.value).padStart(2,"0")}),(0,d.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:a.label})]},b))}),(0,d.jsx)("button",{onClick:()=>{c9(!1),a4("membership-plans"),a2(!0)},className:"w-full bg-[#00c2ff] hover:bg-[#00b0e8] text-white font-semibold py-4 px-10 rounded-full transition-all mb-4",style:{fontSize:"16px"},children:"Profiter de l'offre"}),(0,d.jsx)("button",{onClick:()=>c9(!1),className:"w-full border border-white/30 hover:border-white/50 text-white/70 hover:text-white font-medium py-4 px-10 rounded-full transition-all",style:{fontSize:"16px"},children:"Non merci"})]})]})})})]})}var fa=c(3991),fb=c.n(fa);let fc=(0,_.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);function fd(){return(0,d.jsx)(h.P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:1},className:"fixed bottom-6 right-6 z-[999]",children:(0,d.jsxs)(fb(),{href:"/",onClick:a=>{a.preventDefault();let b=new CustomEvent("showDashboard");window.dispatchEvent(b)},className:"flex items-center gap-2 bg-gray-900 text-white px-5 py-3 rounded-full shadow-2xl hover:bg-black transition-all hover:scale-105 active:scale-95 font-bold text-sm group",children:[(0,d.jsx)(fc,{size:18,className:"group-hover:rotate-12 transition-transform"}),(0,d.jsx)("span",{children:"Post Diagnostic"})]})})}function fe(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)(null);return a?(0,d.jsx)(e9,{initialDiagnosticData:c,showOnboardingOnMount:!!c}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.R,{onEnterApp:()=>{b(!0)},onDiagnosticComplete:a=>{console.log("\uD83D\uDCCB Diagnostic completed:",a),f(a),b(!0)}}),(0,d.jsx)(fd,{})]})}},81100:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},85586:(a,b,c)=>{"use strict";c.d(b,{d:()=>h});var d=c(28083),e=c(38301),f=c(22577),g=c(62312);function h(a){let b=(0,g.M)(()=>(0,d.OQ)(a)),{isStatic:c}=(0,e.useContext)(f.Q);if(c){let[,b]=(0,e.useState)(a)}return b}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},93768:(a,b,c)=>{"use strict";c.r(b),c.d(b,{NotificationService:()=>h,useNotifications:()=>i});var d=function(a){return a.REMINDER="reminder",a.ACHIEVEMENT="achievement",a.UPDATE="update",a.SOCIAL="social",a.COURSE="course",a.PLANNING="planning",a.PAYMENT="payment",a.PROGRESS="progress",a.SYSTEM="system",a}({}),e=function(a){return a.COURSES="courses",a.PLANNING="planning",a.PROGRESS="progress",a.COMMUNITY="community",a.WALLET="wallet",a.ACHIEVEMENTS="achievements",a.REMINDERS="reminders",a.SYSTEM="system",a}({}),f=c(38301),g=c.n(f);class h{static{this.notifications=[]}static{this.listeners=[]}static addNotification(a){let b=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={...a,id:b,createdAt:new Date,priority:a.priority||"normal"};return this.notifications.unshift(c),this.notifications.length>100&&(this.notifications=this.notifications.slice(0,100)),this.notifyListeners(),b}static markAsRead(a){let b=this.notifications.find(b=>b.id===a);b&&(b.isRead=!0,this.notifyListeners())}static markAllAsRead(){this.notifications.forEach(a=>a.isRead=!0),this.notifyListeners()}static removeNotification(a){this.notifications=this.notifications.filter(b=>b.id!==a),this.notifyListeners()}static clearExpiredNotifications(){let a=new Date;this.notifications=this.notifications.filter(b=>!b.expiresAt||b.expiresAt>a)}static getState(){return this.clearExpiredNotifications(),{notifications:[...this.notifications],unreadCount:this.notifications.filter(a=>!a.isRead).length,isLoading:!1,lastUpdated:new Date}}static subscribe(a){return this.listeners.push(a),()=>{this.listeners=this.listeners.filter(b=>b!==a)}}static notifyListeners(){let a=this.getState();this.listeners.forEach(b=>b(a))}static notifyCourseUnlocked(a,b){let c={lesson:`Tu as d\xe9bloqu\xe9 une nouvelle le\xe7on du cours "${a.title}".`,course:`Le cours "${a.title}" est maintenant enti\xe8rement accessible !`,pack:`Tous les cours du pack incluant "${a.title}" sont d\xe9bloqu\xe9s !`};return this.addNotification({userId:"current-user",title:{lesson:"\uD83C\uDFAF Nouvelle le\xe7on d\xe9bloqu\xe9e !",course:"\uD83D\uDCDA Cours complet d\xe9bloqu\xe9 !",pack:"\uD83C\uDF81 Pack complet d\xe9bloqu\xe9 !"}[b],message:c[b],type:d.COURSE,category:e.COURSES,isRead:!1,actionUrl:`/course/${a.id}`,actionData:{courseId:a.id,type:b},icon:"\uD83D\uDCDA",priority:"pack"===b?"high":"normal"})}static notifySessionReminder(a,b){return this.addNotification({userId:"current-user",title:"â° Session de r\xe9vision bient\xf4t !",message:`Ta session "${a.sessionTitle}" commence dans ${b} minutes.`,type:d.REMINDER,category:e.PLANNING,isRead:!1,actionUrl:"/planning",actionData:{sessionId:a.id},icon:"\uD83D\uDCC5",priority:"high",expiresAt:new Date(Date.now()+18e5)})}static notifySessionMissed(a){return this.addNotification({userId:"current-user",title:"\uD83D\uDE14 Session manqu\xe9e",message:`Tu as manqu\xe9 ta session "${a.sessionTitle}". Veux-tu la reprogrammer ?`,type:d.PLANNING,category:e.PLANNING,isRead:!1,actionUrl:"/planning",actionData:{sessionId:a.id,action:"reschedule"},icon:"\uD83D\uDCC5",priority:"normal"})}static notifyPlannerConfigNeeded(){return this.addNotification({userId:"current-user",title:"âš¡ Planification non configur\xe9e",message:"Tu as d\xe9bloqu\xe9 le planificateur ! Configure ton planning pour maximiser tes r\xe9visions.",type:d.REMINDER,category:e.PLANNING,isRead:!1,actionUrl:"/planning",actionData:{action:"configure"},icon:"\uD83D\uDCC5",priority:"normal"})}static notifyProgressMilestone(a,b){let c={25:{emoji:"\uD83D\uDE80",title:"Bon d\xe9part !",message:"Tu as compl\xe9t\xe9 25% du cours"},50:{emoji:"\uD83D\uDCAA",title:"\xc0 mi-parcours !",message:"Tu as atteint 50% du cours"},75:{emoji:"\uD83C\uDFC3â€â™‚ï¸",title:"Presque au bout !",message:"75% du cours termin\xe9, continue !"},100:{emoji:"\uD83C\uDF89",title:"Cours termin\xe9 !",message:"F\xe9licitations, tu as termin\xe9 le cours"}},f=c[b]||c[25];return this.addNotification({userId:"current-user",title:`${f.emoji} ${f.title}`,message:`${f.message} "${a}" !`,type:d.PROGRESS,category:e.PROGRESS,isRead:!1,actionUrl:`/course/${a}`,actionData:{courseName:a,percentage:b},icon:f.emoji,priority:100===b?"high":"normal"})}static notifyBadgeUnlocked(a){return this.addNotification({userId:"current-user",title:"\uD83C\uDFC6 Nouveau badge d\xe9bloqu\xe9 !",message:`Tu as gagn\xe9 le badge "${a.name}" : ${a.description}`,type:d.ACHIEVEMENT,category:e.ACHIEVEMENTS,isRead:!1,actionUrl:"/planning",actionData:{badgeId:a.id},icon:a.icon,priority:"high"})}static notifyStudyRoomOpened(a,b=0){let c=b>0?`La Study Room "${a}" est ouverte avec ${b} ami(s) pr\xe9sent(s) !`:`La Study Room "${a}" est maintenant ouverte.`;return this.addNotification({userId:"current-user",title:"\uD83C\uDF93 Study Room ouverte !",message:c,type:d.SOCIAL,category:e.COMMUNITY,isRead:!1,actionUrl:"/community",actionData:{roomName:a,friendsCount:b},icon:"\uD83D\uDC65",priority:b>0?"high":"normal"})}static notifyFriendsInStudyRoom(a,b){let c=1===b.length?b[0]:`${b.slice(0,-1).join(", ")} et ${b[b.length-1]}`;return this.addNotification({userId:"current-user",title:"\uD83D\uDC4B Amis pr\xe9sents !",message:`${c} ${1===b.length?"est":"sont"} dans la Study Room "${a}".`,type:d.SOCIAL,category:e.COMMUNITY,isRead:!1,actionUrl:"/community",actionData:{roomName:a,friends:b},icon:"\uD83D\uDC65",priority:"normal"})}static notifyPaymentSuccess(a,b){return this.addNotification({userId:"current-user",title:"âœ… Paiement r\xe9ussi !",message:`Achat de "${b}" pour ${a}â‚¬ confirm\xe9. Ton contenu est maintenant accessible !`,type:d.PAYMENT,category:e.WALLET,isRead:!1,actionUrl:"/wallet",actionData:{amount:a,item:b},icon:"\uD83D\uDCB3",priority:"normal"})}static notifyWalletTopUp(a){return this.addNotification({userId:"current-user",title:"\uD83D\uDCB0 Recharge r\xe9ussie !",message:`Ton portefeuille a \xe9t\xe9 recharg\xe9 de ${a}â‚¬.`,type:d.PAYMENT,category:e.WALLET,isRead:!1,actionUrl:"/wallet",actionData:{amount:a},icon:"\uD83D\uDCB0",priority:"normal"})}static notifyInsufficientFunds(a,b){let c=a-b;return this.addNotification({userId:"current-user",title:"âš ï¸ Solde insuffisant",message:`Il te manque ${c.toFixed(2)}â‚¬ pour cette transaction. Recharge ton portefeuille !`,type:d.PAYMENT,category:e.WALLET,isRead:!1,actionUrl:"/wallet",actionData:{required:a,current:b,missing:c},icon:"âš ï¸",priority:"high"})}static notifyStreakAchievement(a){let b=Object.entries({3:"\uD83D\uDD25",7:"\uD83D\uDCAA",14:"\uD83C\uDFC6",30:"\uD83D\uDC51"}).reverse().find(([b])=>a>=parseInt(b))?.[1]||"â­";return this.addNotification({userId:"current-user",title:`${b} S\xe9rie de ${a} jours !`,message:`Incroyable ! Tu as \xe9tudi\xe9 ${a} jours d'affil\xe9e. Continue comme \xe7a !`,type:d.ACHIEVEMENT,category:e.ACHIEVEMENTS,isRead:!1,actionUrl:"/planning",actionData:{streakDays:a},icon:b,priority:a>=7?"high":"normal"})}static notifySystemUpdate(a,b){return this.addNotification({userId:"current-user",title:"\uD83C\uDD95 Mise \xe0 jour disponible !",message:`Nouvelle version ${a} : ${b.slice(0,2).join(", ")}${b.length>2?"...":""}`,type:d.SYSTEM,category:e.SYSTEM,isRead:!1,actionUrl:"/updates",actionData:{version:a,features:b},icon:"\uD83D\uDD14",priority:"low"})}static getNotificationsByCategory(a){return this.notifications.filter(b=>b.category===a)}static getUnreadNotifications(){return this.notifications.filter(a=>!a.isRead)}static getHighPriorityNotifications(){return this.notifications.filter(a=>"high"===a.priority&&!a.isRead)}static generateTestNotifications(){this.notifications=[],this.notifyCourseUnlocked({id:"1",title:"Loi de Gauss"},"course"),this.notifyCourseUnlocked({id:"2",title:"\xc9lectrostatique"},"pack"),this.notifySessionReminder({id:"session-1",sessionTitle:"R\xe9vision Loi de Gauss",courseName:"\xc9lectrostatique"},15),this.notifyPlannerConfigNeeded(),this.notifyProgressMilestone("Suites et Limites",50),this.notifyProgressMilestone("Analyse Complexe",100),this.notifyStudyRoomOpened("\xc9lectrostatique",3),this.notifyFriendsInStudyRoom("Math\xe9matiques",["Marie","Thomas"]),this.notifyWalletTopUp(100),this.notifyInsufficientFunds(70,45),this.notifyStreakAchievement(7),this.notifyBadgeUnlocked({id:"disciplined",name:"Disciplin\xe9",description:"7 jours cons\xe9cutifs de r\xe9visions",icon:"\uD83D\uDCAA"}),this.notifySystemUpdate("2.1.0",["Nouvelles notifications","Planificateur am\xe9lior\xe9","Study Rooms"])}}function i(){let[a,b]=g().useState(h.getState());return g().useEffect(()=>h.subscribe(b),[]),{...a,markAsRead:h.markAsRead,markAllAsRead:h.markAllAsRead,removeNotification:h.removeNotification,generateTestNotifications:h.generateTestNotifications}}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[327,438,515,983,991,163,571,550,803,246,902,381,587],()=>b(b.s=54013));module.exports=c})();