{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/elbekkaliyass/Desktop/testWindsurf/dashYassine/science-made-simple-next/Science-Made-Simple-Kiro/src/components/IntegratedCourseViewer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  ArrowLeft,\n  Play,\n  CheckCircle,\n  Lock,\n  Clock,\n  Target,\n  BookOpen,\n  User,\n  MessageCircle,\n  Zap,\n  Trophy,\n  X,\n  Star,\n  Award,\n  Sparkles,\n  Settings,\n  Image as ImageIcon,\n  Palette,\n  Menu,\n  Search,\n  Bell,\n  Brain,\n  Home,\n  Calendar,\n  Users,\n  BarChart3,\n  Globe,\n  ChevronDown\n} from 'lucide-react';\nimport { Course, Lesson } from '@/types';\nimport { VideoWithQuiz } from './VideoWithQuiz';\n// import { VideoQuizPlayer } from './VideoQuizPlayer'; // Temporairement désactivé\nimport { LessonQA } from './LessonQA';\n\ninterface IntegratedCourseViewerProps {\n  course: Course | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onNavigateToSection?: (section: string) => void;\n  showSettings?: boolean;\n  onToggleSettings?: () => void;\n}\n\n// Fonds d'écran prédéfinis\nconst backgroundOptions = [\n  {\n    id: 'pastel-gradient',\n    name: 'Dégradé Pastel',\n    style: 'bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50',\n    preview: 'linear-gradient(135deg, #dbeafe 0%, #f3e8ff 50%, #fdf2f8 100%)'\n  },\n  {\n    id: 'science-lab',\n    name: 'Ambiance Science',\n    style: 'bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50',\n    preview: 'linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #e0f7fa 100%)'\n  },\n  {\n    id: 'nature-green',\n    name: 'Nature Zen',\n    style: 'bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50',\n    preview: 'linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 50%, #f0fdfa 100%)'\n  },\n  {\n    id: 'warm-sunset',\n    name: 'Coucher de Soleil',\n    style: 'bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50',\n    preview: 'linear-gradient(135deg, #fff7ed 0%, #fffbeb 50%, #fefce8 100%)'\n  },\n  {\n    id: 'minimal-gray',\n    name: 'Minimaliste',\n    style: 'bg-gradient-to-br from-gray-50 via-slate-50 to-zinc-50',\n    preview: 'linear-gradient(135deg, #f9fafb 0%, #f8fafc 50%, #fafafa 100%)'\n  },\n  {\n    id: 'deep-focus',\n    name: 'Concentration',\n    style: 'bg-gradient-to-br from-indigo-50 via-slate-50 to-gray-50',\n    preview: 'linear-gradient(135deg, #eef2ff 0%, #f8fafc 50%, #f9fafb 100%)'\n  }\n];\n\n// Générateur de chemin sinueux optimisé\nconst generateCoursePath = (lessons: Lesson[]) => {\n  const path: { x: number; y: number }[] = [];\n  const mapWidth = 1000;\n  const mapHeight = 400;\n  const startX = 80;\n  const startY = mapHeight / 2;\n  \n  lessons.forEach((_, index) => {\n    const progress = index / (lessons.length - 1);\n    \n    // Chemin en S fluide\n    const baseX = startX + progress * (mapWidth - 160);\n    const waveAmplitude = 60;\n    const waveFrequency = 2;\n    \n    const x = baseX;\n    const y = startY + Math.sin(progress * Math.PI * waveFrequency) * waveAmplitude;\n    \n    path.push({ x, y });\n  });\n  \n  return path;\n};\n\n// Composant Node optimisé\nconst CourseNode: React.FC<{\n  lesson: Lesson;\n  position: { x: number; y: number };\n  isSelected: boolean;\n  onClick: () => void;\n  index: number;\n}> = ({ lesson, position, isSelected, onClick, index }) => {\n  const getNodeState = () => {\n    if (lesson.isCompleted) return 'completed';\n    if (lesson.isInProgress) return 'inProgress';\n    if (lesson.isAccessible) return 'available';\n    return 'locked';\n  };\n  \n  const state = getNodeState();\n  \n  const getDifficultyColor = () => {\n    switch (lesson.difficulty) {\n      case 'easy': return 'bg-green-400';\n      case 'medium': return 'bg-yellow-400';\n      case 'hard': return 'bg-red-400';\n    }\n  };\n  \n  const getNodeStyle = () => {\n    switch (state) {\n      case 'completed':\n        return 'bg-white border-2 border-green-300 shadow-lg text-green-600';\n      case 'inProgress':\n        return 'bg-white border-2 border-blue-300 shadow-lg text-blue-600';\n      case 'available':\n        return 'bg-white border-2 border-gray-300 shadow-md text-gray-700 hover:border-gray-400';\n      case 'locked':\n        return 'bg-gray-100 border-2 border-gray-200 text-gray-400';\n    }\n  };\n  \n  const getIcon = () => {\n    switch (state) {\n      case 'completed': return <CheckCircle size={20} />;\n      case 'inProgress': return <Play size={20} />;\n      case 'available': return <div className=\"w-3 h-3 bg-current rounded-full\" />;\n      case 'locked': return <Lock size={16} />;\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"absolute\"\n      style={{ \n        left: position.x - 30, \n        top: position.y - 30,\n        zIndex: isSelected ? 30 : 20\n      }}\n      whileHover={{ scale: state !== 'locked' ? 1.05 : 1 }}\n      whileTap={{ scale: state !== 'locked' ? 0.95 : 1 }}\n    >\n      {/* Lueur pour leçon en cours */}\n      {state === 'inProgress' && (\n        <motion.div\n          className=\"absolute inset-0 rounded-2xl bg-blue-200/40 blur-lg\"\n          animate={{ \n            scale: [1, 1.3, 1],\n            opacity: [0.4, 0.7, 0.4]\n          }}\n          transition={{ \n            duration: 2,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n        />\n      )}\n      \n      {/* Node principal */}\n      <motion.button\n        onClick={onClick}\n        disabled={state === 'locked'}\n        className={`\n          relative w-16 h-16 rounded-2xl flex items-center justify-center\n          transition-all duration-300 cursor-pointer\n          ${getNodeStyle()}\n          ${isSelected ? 'ring-4 ring-blue-200' : ''}\n        `}\n        animate={isSelected ? { scale: 1.1 } : { scale: 1 }}\n      >\n        {getIcon()}\n        \n        {/* Numéro */}\n        <div className=\"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs font-bold text-gray-700\">\n          {lesson.order}\n        </div>\n        \n        {/* Badge XP */}\n        {state !== 'locked' && (\n          <div className=\"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-1.5 py-0.5 rounded-full font-bold\">\n            +{lesson.xpReward}\n          </div>\n        )}\n        \n        {/* Badge difficulté */}\n        <div className={`absolute -bottom-2 -left-2 w-2.5 h-2.5 ${getDifficultyColor()} rounded-full`} />\n        \n        {/* Étincelles pour complétées */}\n        {state === 'completed' && (\n          <motion.div\n            className=\"absolute -top-1 -right-1\"\n            animate={{ rotate: [0, 180, 360] }}\n            transition={{ duration: 3, repeat: Infinity, ease: \"linear\" }}\n          >\n            <Sparkles className=\"text-yellow-400\" size={12} />\n          </motion.div>\n        )}\n      </motion.button>\n    </motion.div>\n  );\n};\n\n// Composant chemin\nconst CoursePath: React.FC<{ \n  path: { x: number; y: number }[];\n  lessons: Lesson[];\n}> = ({ path, lessons }) => {\n  const pathString = path.reduce((acc, point, index) => {\n    if (index === 0) return `M ${point.x} ${point.y}`;\n    const prevPoint = path[index - 1];\n    const controlX = (prevPoint.x + point.x) / 2;\n    const controlY = prevPoint.y;\n    return `${acc} Q ${controlX} ${controlY} ${point.x} ${point.y}`;\n  }, '');\n\n  return (\n    <svg className=\"absolute inset-0 w-full h-full pointer-events-none\" style={{ zIndex: 1 }}>\n      {/* Chemin de base */}\n      <path\n        d={pathString}\n        stroke=\"#e5e7eb\"\n        strokeWidth=\"4\"\n        fill=\"none\"\n        strokeLinecap=\"round\"\n      />\n      \n      {/* Chemin progressif */}\n      {lessons.map((lesson, index) => {\n        if (index === 0 || !lesson.isCompleted) return null;\n        \n        const segmentPath = path.slice(0, index + 1).reduce((acc, point, segmentIndex) => {\n          if (segmentIndex === 0) return `M ${point.x} ${point.y}`;\n          const prevPoint = path[segmentIndex - 1];\n          const controlX = (prevPoint.x + point.x) / 2;\n          const controlY = prevPoint.y;\n          return `${acc} Q ${controlX} ${controlY} ${point.x} ${point.y}`;\n        }, '');\n        \n        return (\n          <motion.path\n            key={`progress-${index}`}\n            d={segmentPath}\n            stroke=\"url(#courseGradient)\"\n            strokeWidth=\"4\"\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            initial={{ pathLength: 0 }}\n            animate={{ pathLength: 1 }}\n            transition={{ duration: 0.8, delay: index * 0.1 }}\n          />\n        );\n      })}\n      \n      {/* Gradient de progression */}\n      <defs>\n        <linearGradient id=\"courseGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"#10b981\" />\n          <stop offset=\"50%\" stopColor=\"#3b82f6\" />\n          <stop offset=\"100%\" stopColor=\"#8b5cf6\" />\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n};\n\n// Sélecteur de fond d'écran\nconst BackgroundSelector: React.FC<{\n  selectedBackground: string;\n  onSelect: (bgId: string) => void;\n  isOpen: boolean;\n  onToggle: () => void;\n}> = ({ selectedBackground, onSelect, isOpen, onToggle }) => {\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={onToggle}\n        className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n        title=\"Personnaliser le fond\"\n      >\n        <Palette size={20} className=\"text-gray-600\" />\n      </button>\n      \n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n            className=\"absolute top-12 right-0 bg-white rounded-2xl shadow-xl border border-gray-200 p-4 w-80 z-50\"\n          >\n            <h3 className=\"font-bold text-gray-900 mb-4\">Personnaliser le fond</h3>\n            <div className=\"grid grid-cols-3 gap-3\">\n              {backgroundOptions.map((bg) => (\n                <button\n                  key={bg.id}\n                  onClick={() => onSelect(bg.id)}\n                  className={`relative h-16 rounded-xl border-2 overflow-hidden transition-all ${\n                    selectedBackground === bg.id \n                      ? 'border-blue-500 ring-2 ring-blue-200' \n                      : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                  style={{ background: bg.preview }}\n                >\n                  {selectedBackground === bg.id && (\n                    <div className=\"absolute inset-0 bg-blue-500/20 flex items-center justify-center\">\n                      <CheckCircle className=\"text-blue-600\" size={20} />\n                    </div>\n                  )}\n                </button>\n              ))}\n            </div>\n            <div className=\"mt-3 text-center\">\n              <span className=\"text-sm text-gray-600\">\n                {backgroundOptions.find(bg => bg.id === selectedBackground)?.name}\n              </span>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\n// Bloc de détail de leçon enrichi\nconst LessonDetailBlock: React.FC<{\n  lesson: Lesson | null;\n  onStartLesson: () => void;\n  onClose: () => void;\n}> = ({ lesson, onStartLesson, onClose }) => {\n  if (!lesson) return null;\n  \n  const getStatusInfo = () => {\n    if (lesson.isCompleted) return { \n      text: 'Terminée', \n      color: 'bg-green-50 text-green-700 border-green-200',\n      icon: CheckCircle,\n      description: 'Vous avez terminé cette leçon avec succès'\n    };\n    if (lesson.isInProgress) return { \n      text: 'En cours', \n      color: 'bg-blue-50 text-blue-700 border-blue-200',\n      icon: Play,\n      description: 'Continuez là où vous vous êtes arrêté'\n    };\n    return { \n      text: 'À découvrir', \n      color: 'bg-gray-50 text-gray-700 border-gray-200',\n      icon: Star,\n      description: 'Nouvelle leçon à explorer'\n    };\n  };\n  \n  const getDifficultyInfo = () => {\n    switch (lesson.difficulty) {\n      case 'easy': return { \n        text: 'Facile', \n        color: 'bg-green-100 text-green-800',\n        description: 'Parfait pour débuter',\n        estimatedTime: '10-15 min'\n      };\n      case 'medium': return { \n        text: 'Intermédiaire', \n        color: 'bg-yellow-100 text-yellow-800',\n        description: 'Demande un peu de concentration',\n        estimatedTime: '20-25 min'\n      };\n      case 'hard': return { \n        text: 'Avancé', \n        color: 'bg-red-100 text-red-800',\n        description: 'Niveau expert requis',\n        estimatedTime: '30-45 min'\n      };\n    }\n  };\n\n  const status = getStatusInfo();\n  const difficulty = getDifficultyInfo();\n  const StatusIcon = status.icon;\n\n  // Calcul du pourcentage de progression si en cours\n  const progressPercentage = lesson.isInProgress ? Math.floor(Math.random() * 60) + 20 : 0;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      transition={{ duration: 0.3, ease: \"easeOut\" }}\n      className=\"bg-white border border-gray-200 rounded-2xl shadow-xl overflow-hidden\"\n    >\n      {/* Header avec gradient */}\n      <div className=\"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm\">\n                <StatusIcon size={18} className={lesson.isCompleted ? 'text-green-600' : lesson.isInProgress ? 'text-blue-600' : 'text-gray-600'} />\n              </div>\n              <div>\n                <h3 className=\"text-xl font-bold text-gray-900\">{lesson.title}</h3>\n                <p className=\"text-sm text-gray-600\">Étape {lesson.order} • {status.description}</p>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all\"\n          >\n            <X size={16} className=\"text-gray-400\" />\n          </button>\n        </div>\n\n        {/* Badges de statut */}\n        <div className=\"flex items-center gap-3\">\n          <span className={`px-3 py-1 rounded-full text-sm font-medium border ${status.color}`}>\n            {status.text}\n          </span>\n          <span className={`px-3 py-1 rounded-full text-sm font-medium ${difficulty?.color || 'bg-gray-100 text-gray-800'}`}>\n            {difficulty?.text || 'Non défini'}\n          </span>\n          {lesson.isInProgress && (\n            <span className=\"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800\">\n              {progressPercentage}% terminé\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Contenu principal */}\n      <div className=\"p-6\">\n        {/* Description */}\n        <div className=\"mb-6\">\n          <p className=\"text-gray-700 leading-relaxed text-base\">{lesson.description}</p>\n        </div>\n\n        {/* Progression si en cours */}\n        {lesson.isInProgress && (\n          <div className=\"mb-6\">\n            <div className=\"flex items-center justify-between text-sm text-gray-600 mb-2\">\n              <span>Progression</span>\n              <span>{progressPercentage}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <motion.div \n                className=\"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full\"\n                initial={{ width: 0 }}\n                animate={{ width: `${progressPercentage}%` }}\n                transition={{ duration: 1 }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Objectifs */}\n        {lesson.objectives && lesson.objectives.length > 0 && (\n          <div className=\"mb-6\">\n            <h4 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n              <Target size={16} className=\"text-blue-600\" />\n              Ce que vous allez apprendre\n            </h4>\n            <ul className=\"space-y-2\">\n              {lesson.objectives.map((objective, index) => (\n                <li key={index} className=\"flex items-start gap-3\">\n                  <div className=\"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2 flex-shrink-0\" />\n                  <span className=\"text-gray-700 text-sm\">{objective}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Métriques détaillées */}\n        <div className=\"bg-gray-50 rounded-xl p-4 mb-6\">\n          <h4 className=\"font-semibold text-gray-900 mb-3\">Informations détaillées</h4>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center gap-1 text-gray-600 mb-1\">\n                <Clock size={14} />\n                <span className=\"text-xs font-medium\">Durée</span>\n              </div>\n              <div className=\"text-sm font-bold text-gray-900\">{lesson.duration} min</div>\n              <div className=\"text-xs text-gray-500\">{difficulty?.estimatedTime}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center gap-1 text-purple-600 mb-1\">\n                <Zap size={14} />\n                <span className=\"text-xs font-medium\">Récompense</span>\n              </div>\n              <div className=\"text-sm font-bold text-gray-900\">+{lesson.xpReward} XP</div>\n              <div className=\"text-xs text-gray-500\">Points d'expérience</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center gap-1 text-orange-600 mb-1\">\n                <Star size={14} />\n                <span className=\"text-xs font-medium\">Niveau</span>\n              </div>\n              <div className=\"text-sm font-bold text-gray-900\">{difficulty?.text || 'Non défini'}</div>\n              <div className=\"text-xs text-gray-500\">{difficulty?.description || ''}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center gap-1 text-green-600 mb-1\">\n                <BookOpen size={14} />\n                <span className=\"text-xs font-medium\">Type</span>\n              </div>\n              <div className=\"text-sm font-bold text-gray-900\">\n                {lesson.type === 'video' ? 'Vidéo' : lesson.type === 'exercise' ? 'Exercice' : 'Quiz'}\n              </div>\n              <div className=\"text-xs text-gray-500\">Format du contenu</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Prérequis si disponibles */}\n        {lesson.prerequisites && lesson.prerequisites.length > 0 && (\n          <div className=\"mb-6\">\n            <h4 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n              <Award size={16} className=\"text-orange-600\" />\n              Prérequis recommandés\n            </h4>\n            <ul className=\"space-y-2\">\n              {lesson.prerequisites.map((prerequisite, index) => (\n                <li key={index} className=\"flex items-start gap-3\">\n                  <div className=\"w-1.5 h-1.5 bg-orange-600 rounded-full mt-2 flex-shrink-0\" />\n                  <span className=\"text-gray-700 text-sm\">{prerequisite}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Bouton d'action */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-gray-500\">\n            {lesson.isAccessible ? \n              \"Prêt à commencer cette leçon ?\" : \n              \"Terminez les leçons précédentes pour débloquer\"\n            }\n          </div>\n          \n          {lesson.isAccessible ? (\n            <button\n              onClick={onStartLesson}\n              className=\"bg-gradient-to-r from-gray-900 to-gray-800 text-white px-8 py-3 rounded-xl font-medium hover:from-gray-800 hover:to-gray-700 transition-all flex items-center gap-3 shadow-lg hover:shadow-xl\"\n            >\n              <Play size={18} />\n              <span>\n                {lesson.isCompleted ? 'Revoir la leçon' : \n                 lesson.isInProgress ? 'Continuer' : \n                 'Commencer la leçon'}\n              </span>\n            </button>\n          ) : (\n            <button\n              disabled\n              className=\"bg-gray-200 text-gray-500 px-8 py-3 rounded-xl font-medium flex items-center gap-3 cursor-not-allowed\"\n            >\n              <Lock size={18} />\n              <span>Verrouillé</span>\n            </button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport function IntegratedCourseViewer({ \n  course, \n  isOpen, \n  onClose, \n  onNavigateToSection, \n  showSettings = false, \n  onToggleSettings \n}: IntegratedCourseViewerProps) {\n  const [currentView, setCurrentView] = useState<'map' | 'lesson'>('map');\n  const [selectedLesson, setSelectedLesson] = useState<Lesson | null>(null);\n  const [selectedLessonForDetail, setSelectedLessonForDetail] = useState<Lesson | null>(null);\n  const [lessons, setLessons] = useState<Lesson[]>([]);\n  const [coursePath, setCoursePath] = useState<{ x: number; y: number }[]>([]);\n  const [selectedBackground, setSelectedBackground] = useState('pastel-gradient');\n  const [showBackgroundSelector, setShowBackgroundSelector] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showQA, setShowQA] = useState(false);\n\n  // Navigation items - identiques au dashboard principal\n  const navigationItems = [\n    { id: 'dashboard', label: 'Tableau de bord', icon: Home },\n    { id: 'courses', label: 'Mes cours', icon: BookOpen },\n    { id: 'unlock', label: 'Débloquer', icon: Brain },\n    { id: 'planning', label: 'Planification', icon: Calendar },\n    { id: 'community', label: 'Communauté', icon: Users },\n  ];\n\n  // Mock data\n  useEffect(() => {\n    if (course) {\n      const mockLessons: Lesson[] = [\n        {\n          id: '1',\n          courseId: course.id,\n          title: 'Les fondamentaux essentiels',\n          description: 'Découvrez les concepts de base qui forment le socle solide de votre apprentissage. Cette leçon introductive vous permettra de maîtriser les notions clés avant d\\'aborder des sujets plus complexes.',\n          duration: 15,\n          type: 'video',\n          order: 1,\n          isCompleted: true,\n          isAccessible: true,\n          hasPreview: true,\n          videoUrl: 'https://example.com/video1.mp4',\n          documents: [],\n          xpReward: 25,\n          difficulty: 'easy',\n          objectives: [\n            'Comprendre les concepts fondamentaux du sujet',\n            'Identifier les éléments clés à retenir',\n            'Établir une base solide pour la suite du cours',\n            'Acquérir le vocabulaire technique essentiel'\n          ],\n          prerequisites: [],\n          isInProgress: false\n        },\n        {\n          id: '2',\n          courseId: course.id,\n          title: 'Techniques avancées',\n          description: 'Approfondissez vos connaissances avec des techniques pratiques et des méthodes éprouvées. Cette leçon vous donnera les outils nécessaires pour exceller dans votre domaine d\\'étude.',\n          duration: 22,\n          type: 'video',\n          order: 2,\n          isCompleted: false,\n          isAccessible: true,\n          hasPreview: true,\n          videoUrl: 'https://example.com/video2.mp4',\n          documents: [],\n          xpReward: 35,\n          difficulty: 'medium',\n          objectives: [\n            'Maîtriser les techniques avancées du domaine',\n            'Appliquer des méthodes professionnelles',\n            'Résoudre des problèmes complexes',\n            'Développer votre esprit critique et analytique'\n          ],\n          prerequisites: [\n            'Avoir terminé \"Les fondamentaux essentiels\"',\n            'Comprendre les bases théoriques du sujet'\n          ],\n          isInProgress: true\n        },\n        {\n          id: '3',\n          courseId: course.id,\n          title: 'Mise en pratique avancée',\n          description: 'Mettez en application tout ce que vous avez appris à travers des exercices concrets et des cas d\\'usage réels. Cette leçon pratique consolidera vos acquis théoriques.',\n          duration: 28,\n          type: 'exercise',\n          order: 3,\n          isCompleted: false,\n          isAccessible: false,\n          hasPreview: false,\n          documents: [],\n          xpReward: 40,\n          difficulty: 'medium',\n          objectives: [\n            'Appliquer les connaissances dans des situations réelles',\n            'Développer votre autonomie et votre créativité',\n            'Résoudre des exercices pratiques variés',\n            'Consolider vos acquis par la pratique'\n          ],\n          prerequisites: [\n            'Avoir terminé les 2 premières leçons',\n            'Maîtriser les techniques de base'\n          ],\n          isInProgress: false\n        },\n        {\n          id: '4',\n          courseId: course.id,\n          title: 'Projet de synthèse',\n          description: 'Réalisez un projet complet qui intègre toutes les compétences acquises. Cette leçon projet vous permettra de démontrer votre maîtrise globale du sujet.',\n          duration: 35,\n          type: 'exercise',\n          order: 4,\n          isCompleted: false,\n          isAccessible: false,\n          hasPreview: false,\n          documents: [],\n          xpReward: 50,\n          difficulty: 'hard',\n          objectives: [\n            'Concevoir et réaliser un projet complet',\n            'Intégrer toutes les compétences acquises',\n            'Démontrer votre autonomie et créativité',\n            'Présenter et défendre votre travail'\n          ],\n          prerequisites: [\n            'Avoir terminé toutes les leçons précédentes',\n            'Maîtriser l\\'ensemble des concepts du cours'\n          ],\n          isInProgress: false\n        },\n        {\n          id: '5',\n          courseId: course.id,\n          title: 'Évaluation finale',\n          description: 'Démontrez votre maîtrise complète du cours avec une évaluation finale comprehensive. Cette évaluation validera officiellement vos compétences nouvellement acquises.',\n          duration: 25,\n          type: 'quiz',\n          order: 5,\n          isCompleted: false,\n          isAccessible: false,\n          hasPreview: false,\n          documents: [],\n          xpReward: 60,\n          difficulty: 'hard',\n          objectives: [\n            'Valider l\\'ensemble de vos connaissances',\n            'Obtenir votre certification de cours',\n            'Démontrer votre niveau de maîtrise',\n            'Identifier vos points forts et axes d\\'amélioration'\n          ],\n          prerequisites: [\n            'Avoir terminé l\\'intégralité du parcours',\n            'Avoir validé le projet de synthèse'\n          ],\n          isInProgress: false\n        }\n      ];\n      \n      setLessons(mockLessons);\n      setCoursePath(generateCoursePath(mockLessons));\n    }\n  }, [course]);\n\n  if (!course) return null;\n\n  const handleNodeClick = (lesson: Lesson) => {\n    if (lesson.isAccessible || lesson.isCompleted) {\n      setSelectedLessonForDetail(selectedLessonForDetail?.id === lesson.id ? null : lesson);\n    }\n  };\n\n  const handleStartLesson = () => {\n    if (selectedLessonForDetail) {\n      setSelectedLesson(selectedLessonForDetail);\n      setCurrentView('lesson');\n      setSelectedLessonForDetail(null);\n    }\n  };\n\n  const handleBackToMap = () => {\n    setCurrentView('map');\n    setSelectedLesson(null);\n    setShowQA(false);\n  };\n\n  const completedLessons = lessons.filter(l => l.isCompleted).length;\n  const totalXP = lessons.filter(l => l.isCompleted).reduce((acc, l) => acc + (l.xpReward || 0), 0);\n  const totalPossibleXP = lessons.reduce((acc, l) => acc + (l.xpReward || 0), 0);\n  const currentLevel = Math.floor(totalXP / 100) + 1;\n  const progressPercentage = (completedLessons / lessons.length) * 100;\n  const selectedBg = backgroundOptions.find(bg => bg.id === selectedBackground);\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 z-[9999] bg-gray-50 flex flex-col overflow-y-auto\"\n          style={{ \n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            zIndex: 9999\n          }}\n        >\n          {currentView === 'map' ? (\n            /* Vue Map Intégrée */\n            <>\n              {/* Header identique à la landing */}\n              <header className=\"bg-white border-b border-gray-200 flex-shrink-0 z-40\">\n                <div className=\"px-6 py-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <button \n                        onClick={() => setSidebarOpen(true)}\n                        className=\"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors lg:hidden\"\n                      >\n                        <Menu size={20} />\n                      </button>\n                      \n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-black rounded-lg flex items-center justify-center\">\n                          <Brain className=\"text-white\" size={16} />\n                        </div>\n                        <div>\n                          <h1 className=\"text-lg font-bold text-gray-900\">Science Made Simple</h1>\n                          <p className=\"text-xs text-gray-500\">{course.title}</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"hidden md:flex items-center gap-4\">\n                        <div className=\"relative\">\n                          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n                          <input\n                            type=\"text\"\n                            placeholder=\"Rechercher...\"\n                            className=\"pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent w-64\"\n                          />\n                        </div>\n                        \n                        <BackgroundSelector\n                          selectedBackground={selectedBackground}\n                          onSelect={setSelectedBackground}\n                          isOpen={showBackgroundSelector}\n                          onToggle={() => setShowBackgroundSelector(!showBackgroundSelector)}\n                        />\n                        \n                        <button\n                          onClick={onClose}\n                          className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                        >\n                          <ArrowLeft size={20} className=\"text-gray-600\" />\n                        </button>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"bg-gray-900 text-white px-4 py-2 rounded-lg font-medium\">\n                          +{totalXP} XP\n                        </div>\n                        <Bell size={20} className=\"text-gray-400\" />\n                        \n                        {/* Widget Paramètres */}\n                        <button\n                          onClick={onToggleSettings}\n                          className=\"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                          title=\"Paramètres\"\n                        >\n                          <Settings size={20} />\n                        </button>\n                        \n                        <div className=\"w-8 h-8 bg-gray-200 rounded-full\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </header>\n\n              {/* Contenu avec sidebar */}\n              <div className=\"flex flex-1 overflow-hidden\">\n                {/* Sidebar identique au dashboard */}\n                <aside className={`w-64 bg-white border-r border-gray-200 overflow-y-auto transition-transform duration-300 lg:translate-x-0 ${\n                  sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n                } fixed lg:relative top-0 left-0 h-full z-30`}>\n                  <div className=\"p-6\">\n                    <div className=\"space-y-2\">\n                      {navigationItems.map((item) => (\n                        <button\n                          key={item.id}\n                          onClick={() => {\n                            onClose(); // Fermer le viewer\n                            onNavigateToSection?.(item.id); // Naviguer vers la section\n                          }}\n                          className=\"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg transition-colors text-gray-700 hover:text-gray-900 hover:bg-gray-100\"\n                        >\n                          <item.icon size={20} />\n                          <span className=\"font-medium\">{item.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </aside>\n\n                {/* Overlay mobile */}\n                {sidebarOpen && (\n                  <div \n                    className=\"lg:hidden fixed inset-0 bg-black/50 z-20\"\n                    onClick={() => setSidebarOpen(false)}\n                  />\n                )}\n\n                {/* Contenu principal */}\n                <main className=\"flex-1 overflow-y-auto\">\n                  {/* KPIs de progression */}\n                  <div className=\"p-6 bg-white border-b border-gray-200\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h2 className=\"text-2xl font-bold text-gray-900\">{course.title}</h2>\n                        <p className=\"text-gray-600\">Votre parcours d'apprentissage</p>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-8\">\n                        <div className=\"text-center\">\n                          <div className=\"text-2xl font-bold text-gray-900\">Niveau {currentLevel}</div>\n                          <div className=\"text-sm text-gray-600\">{totalXP} / {totalPossibleXP} XP</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-2xl font-bold text-gray-900\">{completedLessons}/{lessons.length}</div>\n                          <div className=\"text-sm text-gray-600\">Étapes</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-2xl font-bold text-purple-600\">{Math.round(progressPercentage)}%</div>\n                          <div className=\"text-sm text-gray-600\">Progression</div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Barre de progression XP */}\n                    <div className=\"mt-6\">\n                      <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                        <motion.div \n                          className=\"h-full bg-gradient-to-r from-purple-500 to-blue-500 rounded-full\"\n                          initial={{ width: 0 }}\n                          animate={{ width: `${(totalXP / totalPossibleXP) * 100}%` }}\n                          transition={{ duration: 1, ease: \"easeOut\" }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Bloc map avec fond personnalisable */}\n                  <div className={`relative min-h-[500px] ${selectedBg?.style}`}>\n                    <div className=\"relative p-8\">\n                      {/* Chemin et nodes */}\n                      <CoursePath path={coursePath} lessons={lessons} />\n                      \n                      {lessons.map((lesson, index) => (\n                        <CourseNode\n                          key={lesson.id}\n                          lesson={lesson}\n                          position={coursePath[index]}\n                          isSelected={selectedLessonForDetail?.id === lesson.id}\n                          onClick={() => handleNodeClick(lesson)}\n                          index={index}\n                        />\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Bloc de détail sous la map */}\n                  <div className=\"p-6\">\n                    <AnimatePresence>\n                      {selectedLessonForDetail && (\n                        <LessonDetailBlock\n                          lesson={selectedLessonForDetail}\n                          onStartLesson={handleStartLesson}\n                          onClose={() => setSelectedLessonForDetail(null)}\n                        />\n                      )}\n                    </AnimatePresence>\n                  </div>\n                </main>\n              </div>\n            </>\n          ) : selectedLesson ? (\n            /* Vue Leçon avec structure cohérente */\n            <>\n              {/* Header identique à la landing */}\n              <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n                <div className=\"px-6 py-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <button \n                        onClick={() => setSidebarOpen(true)}\n                        className=\"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors lg:hidden\"\n                      >\n                        <Menu size={20} />\n                      </button>\n                      \n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-black rounded-lg flex items-center justify-center\">\n                          <Brain className=\"text-white\" size={16} />\n                        </div>\n                        <div>\n                          <h1 className=\"text-lg font-bold text-gray-900\">Science Made Simple</h1>\n                          <p className=\"text-xs text-gray-500\">{selectedLesson.title}</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"hidden md:flex items-center gap-4\">\n                        <button\n                          onClick={handleBackToMap}\n                          className=\"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\n                        >\n                          <ArrowLeft size={16} />\n                          Retour au parcours\n                        </button>\n                        \n                        <div className=\"text-sm text-gray-600\">\n                          Étape {selectedLesson.order} • {selectedLesson.duration} min\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"bg-purple-100 text-purple-800 px-3 py-1 rounded-lg font-medium text-sm\">\n                          +{selectedLesson.xpReward} XP\n                        </div>\n                        <Bell size={20} className=\"text-gray-400\" />\n                        \n                        {/* Widget Paramètres */}\n                        <button\n                          onClick={onToggleSettings}\n                          className=\"relative p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                          title=\"Paramètres\"\n                        >\n                          <Settings size={20} />\n                        </button>\n                        \n                        <div className=\"w-8 h-8 bg-gray-200 rounded-full\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </header>\n\n              {/* Contenu avec sidebar */}\n              <div className=\"flex flex-1 overflow-hidden\">\n                {/* Sidebar identique au dashboard */}\n                <aside className={`w-64 bg-white border-r border-gray-200 overflow-y-auto transition-transform duration-300 lg:translate-x-0 ${\n                  sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n                } fixed lg:relative top-0 left-0 h-full z-30`}>\n                  <div className=\"p-6\">\n                    <div className=\"space-y-2\">\n                      {navigationItems.map((item) => (\n                        <button\n                          key={item.id}\n                          onClick={() => {\n                            onClose(); // Fermer le viewer\n                            onNavigateToSection?.(item.id); // Naviguer vers la section\n                          }}\n                          className=\"w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg transition-colors text-gray-700 hover:text-gray-900 hover:bg-gray-100\"\n                        >\n                          <item.icon size={20} />\n                          <span className=\"font-medium\">{item.label}</span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </aside>\n\n                {/* Overlay mobile */}\n                {sidebarOpen && (\n                  <div \n                    className=\"lg:hidden fixed inset-0 bg-black/50 z-20\"\n                    onClick={() => setSidebarOpen(false)}\n                  />\n                )}\n\n                {/* Contenu principal leçon */}\n                <main className=\"flex-1 overflow-y-auto\">\n                  <div className=\"p-6\">\n                    {/* En-tête de leçon */}\n                    <div className=\"mb-6\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div>\n                          <h2 className=\"text-2xl font-bold text-gray-900\">{selectedLesson.title}</h2>\n                          <p className=\"text-gray-600\">Étape {selectedLesson.order} de votre parcours d'apprentissage</p>\n                        </div>\n                        <button\n                          onClick={handleBackToMap}\n                          className=\"lg:hidden flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\n                        >\n                          <ArrowLeft size={16} />\n                          Retour\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* Lecteur vidéo avec quiz intégré */}\n                    <div className=\"mb-6\">\n                      <VideoWithQuiz \n                        videoUrl={selectedLesson.videoUrl}\n                        questions={[]} // Utilise les questions par défaut du composant\n                        onQuizComplete={(score) => {\n                          console.log(`Quiz terminé avec un score de ${score}`);\n                          // Marquer la leçon comme terminée si score suffisant\n                          if (score >= 0.7) { // 70% minimum\n                            console.log('Leçon terminée avec succès !');\n                          }\n                        }}\n                      />\n                    </div>\n\n                    {/* Onglets */}\n                    <div className=\"bg-white border border-gray-200 rounded-2xl overflow-hidden flex flex-col\">\n                      <div className=\"flex border-b border-gray-200 flex-shrink-0\">\n                        <button\n                          onClick={() => setShowQA(false)}\n                          className={`flex-1 py-4 px-6 text-center font-medium transition-colors ${\n                            !showQA\n                              ? 'text-gray-900 border-b-2 border-gray-900'\n                              : 'text-gray-600 hover:text-gray-900'\n                          }`}\n                        >\n                          Contenu & Objectifs\n                        </button>\n                        <button\n                          onClick={() => setShowQA(true)}\n                          className={`flex-1 py-4 px-6 text-center font-medium transition-colors ${\n                            showQA\n                              ? 'text-gray-900 border-b-2 border-gray-900'\n                              : 'text-gray-600 hover:text-gray-900'\n                          }`}\n                        >\n                          Q&A Communauté\n                        </button>\n                      </div>\n\n                      <div className=\"flex-1 overflow-hidden\" style={{ minHeight: '500px', maxHeight: 'calc(100vh - 400px)' }}>\n                        {!showQA ? (\n                          <div className=\"p-6 h-full overflow-y-auto\">\n                            <div className=\"space-y-6\">\n                              {/* Description */}\n                              <div>\n                                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n                                  <BookOpen size={18} className=\"text-blue-600\" />\n                                  Description de la leçon\n                                </h3>\n                                <p className=\"text-gray-700 leading-relaxed\">{selectedLesson.description}</p>\n                              </div>\n                              \n                              {/* Objectifs */}\n                              {selectedLesson.objectives && (\n                                <div>\n                                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n                                    <Target size={18} className=\"text-green-600\" />\n                                    Ce que vous allez apprendre\n                                  </h3>\n                                  <ul className=\"space-y-3\">\n                                    {selectedLesson.objectives.map((objective, index) => (\n                                      <li key={index} className=\"flex items-start gap-3\">\n                                        <div className=\"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold mt-0.5\">\n                                          {index + 1}\n                                        </div>\n                                        <span className=\"text-gray-700\">{objective}</span>\n                                      </li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              )}\n\n                              {/* Prérequis */}\n                              {selectedLesson.prerequisites && selectedLesson.prerequisites.length > 0 && (\n                                <div>\n                                  <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\n                                    <Award size={18} className=\"text-orange-600\" />\n                                    Prérequis\n                                  </h3>\n                                  <ul className=\"space-y-2\">\n                                    {selectedLesson.prerequisites.map((prerequisite, index) => (\n                                      <li key={index} className=\"flex items-start gap-3\">\n                                        <div className=\"w-2 h-2 bg-orange-600 rounded-full mt-2 flex-shrink-0\" />\n                                        <span className=\"text-gray-700 text-sm\">{prerequisite}</span>\n                                      </li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"h-full overflow-y-auto\">\n                            <LessonQA\n                              lessonId={selectedLesson.id}\n                              currentVideoTime={0}\n                              onSeekToQuestion={(timestamp) => {\n                                console.log(`Aller à ${timestamp} secondes`);\n                              }}\n                              isInstructor={false}\n                            />\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </main>\n              </div>\n            </>\n          ) : null}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AACA,mFAAmF;AACnF;AArCA;;;;;;;AAgDA,2BAA2B;AAC3B,MAAM,oBAAoB;IACxB;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,SAAS;IACX;CACD;AAED,wCAAwC;AACxC,MAAM,qBAAqB,CAAC;IAC1B,MAAM,OAAmC,EAAE;IAC3C,MAAM,WAAW;IACjB,MAAM,YAAY;IAClB,MAAM,SAAS;IACf,MAAM,SAAS,YAAY;IAE3B,QAAQ,OAAO,CAAC,CAAC,GAAG;QAClB,MAAM,WAAW,QAAQ,CAAC,QAAQ,MAAM,GAAG,CAAC;QAE5C,qBAAqB;QACrB,MAAM,QAAQ,SAAS,WAAW,CAAC,WAAW,GAAG;QACjD,MAAM,gBAAgB;QACtB,MAAM,gBAAgB;QAEtB,MAAM,IAAI;QACV,MAAM,IAAI,SAAS,KAAK,GAAG,CAAC,WAAW,KAAK,EAAE,GAAG,iBAAiB;QAElE,KAAK,IAAI,CAAC;YAAE;YAAG;QAAE;IACnB;IAEA,OAAO;AACT;AAEA,0BAA0B;AAC1B,MAAM,aAMD,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE;IACpD,MAAM,eAAe;QACnB,IAAI,OAAO,WAAW,EAAE,OAAO;QAC/B,IAAI,OAAO,YAAY,EAAE,OAAO;QAChC,IAAI,OAAO,YAAY,EAAE,OAAO;QAChC,OAAO;IACT;IAEA,MAAM,QAAQ;IAEd,MAAM,qBAAqB;QACzB,OAAQ,OAAO,UAAU;YACvB,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAQ,OAAO;QACtB;IACF;IAEA,MAAM,eAAe;QACnB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;QACX;IACF;IAEA,MAAM,UAAU;QACd,OAAQ;YACN,KAAK;gBAAa,qBAAO,mRAAC,+QAAW;oBAAC,MAAM;;;;;;YAC5C,KAAK;gBAAc,qBAAO,mRAAC,+OAAI;oBAAC,MAAM;;;;;;YACtC,KAAK;gBAAa,qBAAO,mRAAC;oBAAI,WAAU;;;;;;YACxC,KAAK;gBAAU,qBAAO,mRAAC,+OAAI;oBAAC,MAAM;;;;;;QACpC;IACF;IAEA,qBACE,mRAAC,yOAAM,CAAC,GAAG;QACT,WAAU;QACV,OAAO;YACL,MAAM,SAAS,CAAC,GAAG;YACnB,KAAK,SAAS,CAAC,GAAG;YAClB,QAAQ,aAAa,KAAK;QAC5B;QACA,YAAY;YAAE,OAAO,UAAU,WAAW,OAAO;QAAE;QACnD,UAAU;YAAE,OAAO,UAAU,WAAW,OAAO;QAAE;;YAGhD,UAAU,8BACT,mRAAC,yOAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBACP,OAAO;wBAAC;wBAAG;wBAAK;qBAAE;oBAClB,SAAS;wBAAC;wBAAK;wBAAK;qBAAI;gBAC1B;gBACA,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;;;;;;0BAKJ,mRAAC,yOAAM,CAAC,MAAM;gBACZ,SAAS;gBACT,UAAU,UAAU;gBACpB,WAAW,CAAC;;;UAGV,EAAE,eAAe;UACjB,EAAE,aAAa,yBAAyB,GAAG;QAC7C,CAAC;gBACD,SAAS,aAAa;oBAAE,OAAO;gBAAI,IAAI;oBAAE,OAAO;gBAAE;;oBAEjD;kCAGD,mRAAC;wBAAI,WAAU;kCACZ,OAAO,KAAK;;;;;;oBAId,UAAU,0BACT,mRAAC;wBAAI,WAAU;;4BAAiG;4BAC5G,OAAO,QAAQ;;;;;;;kCAKrB,mRAAC;wBAAI,WAAW,CAAC,uCAAuC,EAAE,qBAAqB,aAAa,CAAC;;;;;;oBAG5F,UAAU,6BACT,mRAAC,yOAAM,CAAC,GAAG;wBACT,WAAU;wBACV,SAAS;4BAAE,QAAQ;gCAAC;gCAAG;gCAAK;6BAAI;wBAAC;wBACjC,YAAY;4BAAE,UAAU;4BAAG,QAAQ;4BAAU,MAAM;wBAAS;kCAE5D,cAAA,mRAAC,2PAAQ;4BAAC,WAAU;4BAAkB,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAMxD;AAEA,mBAAmB;AACnB,MAAM,aAGD,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE;IACrB,MAAM,aAAa,KAAK,MAAM,CAAC,CAAC,KAAK,OAAO;QAC1C,IAAI,UAAU,GAAG,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;QACjD,MAAM,YAAY,IAAI,CAAC,QAAQ,EAAE;QACjC,MAAM,WAAW,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,IAAI;QAC3C,MAAM,WAAW,UAAU,CAAC;QAC5B,OAAO,GAAG,IAAI,GAAG,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;IACjE,GAAG;IAEH,qBACE,mRAAC;QAAI,WAAU;QAAqD,OAAO;YAAE,QAAQ;QAAE;;0BAErF,mRAAC;gBACC,GAAG;gBACH,QAAO;gBACP,aAAY;gBACZ,MAAK;gBACL,eAAc;;;;;;YAIf,QAAQ,GAAG,CAAC,CAAC,QAAQ;gBACpB,IAAI,UAAU,KAAK,CAAC,OAAO,WAAW,EAAE,OAAO;gBAE/C,MAAM,cAAc,KAAK,KAAK,CAAC,GAAG,QAAQ,GAAG,MAAM,CAAC,CAAC,KAAK,OAAO;oBAC/D,IAAI,iBAAiB,GAAG,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;oBACxD,MAAM,YAAY,IAAI,CAAC,eAAe,EAAE;oBACxC,MAAM,WAAW,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,IAAI;oBAC3C,MAAM,WAAW,UAAU,CAAC;oBAC5B,OAAO,GAAG,IAAI,GAAG,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;gBACjE,GAAG;gBAEH,qBACE,mRAAC,yOAAM,CAAC,IAAI;oBAEV,GAAG;oBACH,QAAO;oBACP,aAAY;oBACZ,MAAK;oBACL,eAAc;oBACd,SAAS;wBAAE,YAAY;oBAAE;oBACzB,SAAS;wBAAE,YAAY;oBAAE;oBACzB,YAAY;wBAAE,UAAU;wBAAK,OAAO,QAAQ;oBAAI;mBAR3C,CAAC,SAAS,EAAE,OAAO;;;;;YAW9B;0BAGA,mRAAC;0BACC,cAAA,mRAAC;oBAAe,IAAG;oBAAiB,IAAG;oBAAK,IAAG;oBAAK,IAAG;oBAAO,IAAG;;sCAC/D,mRAAC;4BAAK,QAAO;4BAAK,WAAU;;;;;;sCAC5B,mRAAC;4BAAK,QAAO;4BAAM,WAAU;;;;;;sCAC7B,mRAAC;4BAAK,QAAO;4BAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKxC;AAEA,4BAA4B;AAC5B,MAAM,qBAKD,CAAC,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE;IACtD,qBACE,mRAAC;QAAI,WAAU;;0BACb,mRAAC;gBACC,SAAS;gBACT,WAAU;gBACV,OAAM;0BAEN,cAAA,mRAAC,wPAAO;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;0BAG/B,mRAAC,iPAAe;0BACb,wBACC,mRAAC,yOAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAI,OAAO;oBAAK;oBAC1C,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,OAAO;oBAAE;oBACtC,MAAM;wBAAE,SAAS;wBAAG,GAAG;wBAAI,OAAO;oBAAK;oBACvC,WAAU;;sCAEV,mRAAC;4BAAG,WAAU;sCAA+B;;;;;;sCAC7C,mRAAC;4BAAI,WAAU;sCACZ,kBAAkB,GAAG,CAAC,CAAC,mBACtB,mRAAC;oCAEC,SAAS,IAAM,SAAS,GAAG,EAAE;oCAC7B,WAAW,CAAC,iEAAiE,EAC3E,uBAAuB,GAAG,EAAE,GACxB,yCACA,yCACJ;oCACF,OAAO;wCAAE,YAAY,GAAG,OAAO;oCAAC;8CAE/B,uBAAuB,GAAG,EAAE,kBAC3B,mRAAC;wCAAI,WAAU;kDACb,cAAA,mRAAC,+QAAW;4CAAC,WAAU;4CAAgB,MAAM;;;;;;;;;;;mCAX5C,GAAG,EAAE;;;;;;;;;;sCAiBhB,mRAAC;4BAAI,WAAU;sCACb,cAAA,mRAAC;gCAAK,WAAU;0CACb,kBAAkB,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7E;AAEA,kCAAkC;AAClC,MAAM,oBAID,CAAC,EAAE,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE;IACtC,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,gBAAgB;QACpB,IAAI,OAAO,WAAW,EAAE,OAAO;YAC7B,MAAM;YACN,OAAO;YACP,MAAM,+QAAW;YACjB,aAAa;QACf;QACA,IAAI,OAAO,YAAY,EAAE,OAAO;YAC9B,MAAM;YACN,OAAO;YACP,MAAM,+OAAI;YACV,aAAa;QACf;QACA,OAAO;YACL,MAAM;YACN,OAAO;YACP,MAAM,+OAAI;YACV,aAAa;QACf;IACF;IAEA,MAAM,oBAAoB;QACxB,OAAQ,OAAO,UAAU;YACvB,KAAK;gBAAQ,OAAO;oBAClB,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,eAAe;gBACjB;YACA,KAAK;gBAAU,OAAO;oBACpB,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,eAAe;gBACjB;YACA,KAAK;gBAAQ,OAAO;oBAClB,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,eAAe;gBACjB;QACF;IACF;IAEA,MAAM,SAAS;IACf,MAAM,aAAa;IACnB,MAAM,aAAa,OAAO,IAAI;IAE9B,mDAAmD;IACnD,MAAM,qBAAqB,OAAO,YAAY,GAAG,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,KAAK;IAEvF,qBACE,mRAAC,yOAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,MAAM;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC3B,YAAY;YAAE,UAAU;YAAK,MAAM;QAAU;QAC7C,WAAU;;0BAGV,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAI,WAAU;0CACb,cAAA,mRAAC;oCAAI,WAAU;;sDACb,mRAAC;4CAAI,WAAU;sDACb,cAAA,mRAAC;gDAAW,MAAM;gDAAI,WAAW,OAAO,WAAW,GAAG,mBAAmB,OAAO,YAAY,GAAG,kBAAkB;;;;;;;;;;;sDAEnH,mRAAC;;8DACC,mRAAC;oDAAG,WAAU;8DAAmC,OAAO,KAAK;;;;;;8DAC7D,mRAAC;oDAAE,WAAU;;wDAAwB;wDAAO,OAAO,KAAK;wDAAC;wDAAI,OAAO,WAAW;;;;;;;;;;;;;;;;;;;;;;;;0CAIrF,mRAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,mRAAC,sOAAC;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAK3B,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAK,WAAW,CAAC,kDAAkD,EAAE,OAAO,KAAK,EAAE;0CACjF,OAAO,IAAI;;;;;;0CAEd,mRAAC;gCAAK,WAAW,CAAC,2CAA2C,EAAE,YAAY,SAAS,6BAA6B;0CAC9G,YAAY,QAAQ;;;;;;4BAEtB,OAAO,YAAY,kBAClB,mRAAC;gCAAK,WAAU;;oCACb;oCAAmB;;;;;;;;;;;;;;;;;;;0BAO5B,mRAAC;gBAAI,WAAU;;kCAEb,mRAAC;wBAAI,WAAU;kCACb,cAAA,mRAAC;4BAAE,WAAU;sCAA2C,OAAO,WAAW;;;;;;;;;;;oBAI3E,OAAO,YAAY,kBAClB,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAI,WAAU;;kDACb,mRAAC;kDAAK;;;;;;kDACN,mRAAC;;4CAAM;4CAAmB;;;;;;;;;;;;;0CAE5B,mRAAC;gCAAI,WAAU;0CACb,cAAA,mRAAC,yOAAM,CAAC,GAAG;oCACT,WAAU;oCACV,SAAS;wCAAE,OAAO;oCAAE;oCACpB,SAAS;wCAAE,OAAO,GAAG,mBAAmB,CAAC,CAAC;oCAAC;oCAC3C,YAAY;wCAAE,UAAU;oCAAE;;;;;;;;;;;;;;;;;oBAOjC,OAAO,UAAU,IAAI,OAAO,UAAU,CAAC,MAAM,GAAG,mBAC/C,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAG,WAAU;;kDACZ,mRAAC,qPAAM;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAkB;;;;;;;0CAGhD,mRAAC;gCAAG,WAAU;0CACX,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC,WAAW,sBACjC,mRAAC;wCAAe,WAAU;;0DACxB,mRAAC;gDAAI,WAAU;;;;;;0DACf,mRAAC;gDAAK,WAAU;0DAAyB;;;;;;;uCAFlC;;;;;;;;;;;;;;;;kCAUjB,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,mRAAC;gCAAI,WAAU;;kDACb,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC,kPAAK;wDAAC,MAAM;;;;;;kEACb,mRAAC;wDAAK,WAAU;kEAAsB;;;;;;;;;;;;0DAExC,mRAAC;gDAAI,WAAU;;oDAAmC,OAAO,QAAQ;oDAAC;;;;;;;0DAClE,mRAAC;gDAAI,WAAU;0DAAyB,YAAY;;;;;;;;;;;;kDAEtD,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC,4OAAG;wDAAC,MAAM;;;;;;kEACX,mRAAC;wDAAK,WAAU;kEAAsB;;;;;;;;;;;;0DAExC,mRAAC;gDAAI,WAAU;;oDAAkC;oDAAE,OAAO,QAAQ;oDAAC;;;;;;;0DACnE,mRAAC;gDAAI,WAAU;0DAAwB;;;;;;;;;;;;kDAEzC,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC,+OAAI;wDAAC,MAAM;;;;;;kEACZ,mRAAC;wDAAK,WAAU;kEAAsB;;;;;;;;;;;;0DAExC,mRAAC;gDAAI,WAAU;0DAAmC,YAAY,QAAQ;;;;;;0DACtE,mRAAC;gDAAI,WAAU;0DAAyB,YAAY,eAAe;;;;;;;;;;;;kDAErE,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC,+PAAQ;wDAAC,MAAM;;;;;;kEAChB,mRAAC;wDAAK,WAAU;kEAAsB;;;;;;;;;;;;0DAExC,mRAAC;gDAAI,WAAU;0DACZ,OAAO,IAAI,KAAK,UAAU,UAAU,OAAO,IAAI,KAAK,aAAa,aAAa;;;;;;0DAEjF,mRAAC;gDAAI,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;;;;;;oBAM5C,OAAO,aAAa,IAAI,OAAO,aAAa,CAAC,MAAM,GAAG,mBACrD,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAG,WAAU;;kDACZ,mRAAC,kPAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAoB;;;;;;;0CAGjD,mRAAC;gCAAG,WAAU;0CACX,OAAO,aAAa,CAAC,GAAG,CAAC,CAAC,cAAc,sBACvC,mRAAC;wCAAe,WAAU;;0DACxB,mRAAC;gDAAI,WAAU;;;;;;0DACf,mRAAC;gDAAK,WAAU;0DAAyB;;;;;;;uCAFlC;;;;;;;;;;;;;;;;kCAUjB,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAI,WAAU;0CACZ,OAAO,YAAY,GAClB,mCACA;;;;;;4BAIH,OAAO,YAAY,iBAClB,mRAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,mRAAC,+OAAI;wCAAC,MAAM;;;;;;kDACZ,mRAAC;kDACE,OAAO,WAAW,GAAG,oBACrB,OAAO,YAAY,GAAG,cACtB;;;;;;;;;;;yFAIL,mRAAC;gCACC,QAAQ;gCACR,WAAU;;kDAEV,mRAAC,+OAAI;wCAAC,MAAM;;;;;;kDACZ,mRAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;AAEO,SAAS,uBAAuB,EACrC,MAAM,EACN,MAAM,EACN,OAAO,EACP,mBAAmB,EACnB,eAAe,KAAK,EACpB,gBAAgB,EACY;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sPAAQ,EAAmB;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,sPAAQ,EAAgB;IACpE,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,sPAAQ,EAAgB;IACtF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sPAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,sPAAQ,EAA6B,EAAE;IAC3E,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,sPAAQ,EAAC;IAC7D,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,sPAAQ,EAAC;IACrE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,sPAAQ,EAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sPAAQ,EAAC;IAErC,uDAAuD;IACvD,MAAM,kBAAkB;QACtB;YAAE,IAAI;YAAa,OAAO;YAAmB,MAAM,gPAAI;QAAC;QACxD;YAAE,IAAI;YAAW,OAAO;YAAa,MAAM,+PAAQ;QAAC;QACpD;YAAE,IAAI;YAAU,OAAO;YAAa,MAAM,kPAAK;QAAC;QAChD;YAAE,IAAI;YAAY,OAAO;YAAiB,MAAM,2PAAQ;QAAC;QACzD;YAAE,IAAI;YAAa,OAAO;YAAc,MAAM,kPAAK;QAAC;KACrD;IAED,YAAY;IACZ,IAAA,uPAAS,EAAC;QACR,IAAI,QAAQ;YACV,MAAM,cAAwB;gBAC5B;oBACE,IAAI;oBACJ,UAAU,OAAO,EAAE;oBACnB,OAAO;oBACP,aAAa;oBACb,UAAU;oBACV,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,UAAU;oBACV,WAAW,EAAE;oBACb,UAAU;oBACV,YAAY;oBACZ,YAAY;wBACV;wBACA;wBACA;wBACA;qBACD;oBACD,eAAe,EAAE;oBACjB,cAAc;gBAChB;gBACA;oBACE,IAAI;oBACJ,UAAU,OAAO,EAAE;oBACnB,OAAO;oBACP,aAAa;oBACb,UAAU;oBACV,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,UAAU;oBACV,WAAW,EAAE;oBACb,UAAU;oBACV,YAAY;oBACZ,YAAY;wBACV;wBACA;wBACA;wBACA;qBACD;oBACD,eAAe;wBACb;wBACA;qBACD;oBACD,cAAc;gBAChB;gBACA;oBACE,IAAI;oBACJ,UAAU,OAAO,EAAE;oBACnB,OAAO;oBACP,aAAa;oBACb,UAAU;oBACV,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,WAAW,EAAE;oBACb,UAAU;oBACV,YAAY;oBACZ,YAAY;wBACV;wBACA;wBACA;wBACA;qBACD;oBACD,eAAe;wBACb;wBACA;qBACD;oBACD,cAAc;gBAChB;gBACA;oBACE,IAAI;oBACJ,UAAU,OAAO,EAAE;oBACnB,OAAO;oBACP,aAAa;oBACb,UAAU;oBACV,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,WAAW,EAAE;oBACb,UAAU;oBACV,YAAY;oBACZ,YAAY;wBACV;wBACA;wBACA;wBACA;qBACD;oBACD,eAAe;wBACb;wBACA;qBACD;oBACD,cAAc;gBAChB;gBACA;oBACE,IAAI;oBACJ,UAAU,OAAO,EAAE;oBACnB,OAAO;oBACP,aAAa;oBACb,UAAU;oBACV,MAAM;oBACN,OAAO;oBACP,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,WAAW,EAAE;oBACb,UAAU;oBACV,YAAY;oBACZ,YAAY;wBACV;wBACA;wBACA;wBACA;qBACD;oBACD,eAAe;wBACb;wBACA;qBACD;oBACD,cAAc;gBAChB;aACD;YAED,WAAW;YACX,cAAc,mBAAmB;QACnC;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,kBAAkB,CAAC;QACvB,IAAI,OAAO,YAAY,IAAI,OAAO,WAAW,EAAE;YAC7C,2BAA2B,yBAAyB,OAAO,OAAO,EAAE,GAAG,OAAO;QAChF;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,yBAAyB;YAC3B,kBAAkB;YAClB,eAAe;YACf,2BAA2B;QAC7B;IACF;IAEA,MAAM,kBAAkB;QACtB,eAAe;QACf,kBAAkB;QAClB,UAAU;IACZ;IAEA,MAAM,mBAAmB,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,EAAE,MAAM;IAClE,MAAM,UAAU,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG;IAC/F,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG;IAC5E,MAAM,eAAe,KAAK,KAAK,CAAC,UAAU,OAAO;IACjD,MAAM,qBAAqB,AAAC,mBAAmB,QAAQ,MAAM,GAAI;IACjE,MAAM,aAAa,kBAAkB,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK;IAE1D,qBACE,mRAAC,iPAAe;kBACb,wBACC,mRAAC,yOAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,WAAU;YACV,OAAO;gBACL,UAAU;gBACV,KAAK;gBACL,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,QAAQ;YACV;sBAEC,gBAAgB,QACf,oBAAoB,iBACpB;;kCAEE,mRAAC;wBAAO,WAAU;kCAChB,cAAA,mRAAC;4BAAI,WAAU;sCACb,cAAA,mRAAC;gCAAI,WAAU;;kDACb,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDACC,SAAS,IAAM,eAAe;gDAC9B,WAAU;0DAEV,cAAA,mRAAC,+OAAI;oDAAC,MAAM;;;;;;;;;;;0DAGd,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDAAI,WAAU;kEACb,cAAA,mRAAC,kPAAK;4DAAC,WAAU;4DAAa,MAAM;;;;;;;;;;;kEAEtC,mRAAC;;0EACC,mRAAC;gEAAG,WAAU;0EAAkC;;;;;;0EAChD,mRAAC;gEAAE,WAAU;0EAAyB,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;;kDAKxD,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDAAI,WAAU;;0EACb,mRAAC,qPAAM;gEAAC,WAAU;gEAAmE,MAAM;;;;;;0EAC3F,mRAAC;gEACC,MAAK;gEACL,aAAY;gEACZ,WAAU;;;;;;;;;;;;kEAId,mRAAC;wDACC,oBAAoB;wDACpB,UAAU;wDACV,QAAQ;wDACR,UAAU,IAAM,0BAA0B,CAAC;;;;;;kEAG7C,mRAAC;wDACC,SAAS;wDACT,WAAU;kEAEV,cAAA,mRAAC,kQAAS;4DAAC,MAAM;4DAAI,WAAU;;;;;;;;;;;;;;;;;0DAInC,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDAAI,WAAU;;4DAA0D;4DACrE;4DAAQ;;;;;;;kEAEZ,mRAAC,+OAAI;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEAG1B,mRAAC;wDACC,SAAS;wDACT,WAAU;wDACV,OAAM;kEAEN,cAAA,mRAAC,2PAAQ;4DAAC,MAAM;;;;;;;;;;;kEAGlB,mRAAC;wDAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQzB,mRAAC;wBAAI,WAAU;;0CAEb,mRAAC;gCAAM,WAAW,CAAC,0GAA0G,EAC3H,cAAc,kBAAkB,oBACjC,2CAA2C,CAAC;0CAC3C,cAAA,mRAAC;oCAAI,WAAU;8CACb,cAAA,mRAAC;wCAAI,WAAU;kDACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,mRAAC;gDAEC,SAAS;oDACP,WAAW,mBAAmB;oDAC9B,sBAAsB,KAAK,EAAE,GAAG,2BAA2B;gDAC7D;gDACA,WAAU;;kEAEV,mRAAC,KAAK,IAAI;wDAAC,MAAM;;;;;;kEACjB,mRAAC;wDAAK,WAAU;kEAAe,KAAK,KAAK;;;;;;;+CARpC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;4BAgBrB,6BACC,mRAAC;gCACC,WAAU;gCACV,SAAS,IAAM,eAAe;;;;;;0CAKlC,mRAAC;gCAAK,WAAU;;kDAEd,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;;0EACC,mRAAC;gEAAG,WAAU;0EAAoC,OAAO,KAAK;;;;;;0EAC9D,mRAAC;gEAAE,WAAU;0EAAgB;;;;;;;;;;;;kEAG/B,mRAAC;wDAAI,WAAU;;0EACb,mRAAC;gEAAI,WAAU;;kFACb,mRAAC;wEAAI,WAAU;;4EAAmC;4EAAQ;;;;;;;kFAC1D,mRAAC;wEAAI,WAAU;;4EAAyB;4EAAQ;4EAAI;4EAAgB;;;;;;;;;;;;;0EAEtE,mRAAC;gEAAI,WAAU;;kFACb,mRAAC;wEAAI,WAAU;;4EAAoC;4EAAiB;4EAAE,QAAQ,MAAM;;;;;;;kFACpF,mRAAC;wEAAI,WAAU;kFAAwB;;;;;;;;;;;;0EAEzC,mRAAC;gEAAI,WAAU;;kFACb,mRAAC;wEAAI,WAAU;;4EAAsC,KAAK,KAAK,CAAC;4EAAoB;;;;;;;kFACpF,mRAAC;wEAAI,WAAU;kFAAwB;;;;;;;;;;;;;;;;;;;;;;;;0DAM7C,mRAAC;gDAAI,WAAU;0DACb,cAAA,mRAAC;oDAAI,WAAU;8DACb,cAAA,mRAAC,yOAAM,CAAC,GAAG;wDACT,WAAU;wDACV,SAAS;4DAAE,OAAO;wDAAE;wDACpB,SAAS;4DAAE,OAAO,GAAG,AAAC,UAAU,kBAAmB,IAAI,CAAC,CAAC;wDAAC;wDAC1D,YAAY;4DAAE,UAAU;4DAAG,MAAM;wDAAU;;;;;;;;;;;;;;;;;;;;;;kDAOnD,mRAAC;wCAAI,WAAW,CAAC,uBAAuB,EAAE,YAAY,OAAO;kDAC3D,cAAA,mRAAC;4CAAI,WAAU;;8DAEb,mRAAC;oDAAW,MAAM;oDAAY,SAAS;;;;;;gDAEtC,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,mRAAC;wDAEC,QAAQ;wDACR,UAAU,UAAU,CAAC,MAAM;wDAC3B,YAAY,yBAAyB,OAAO,OAAO,EAAE;wDACrD,SAAS,IAAM,gBAAgB;wDAC/B,OAAO;uDALF,OAAO,EAAE;;;;;;;;;;;;;;;;kDAYtB,mRAAC;wCAAI,WAAU;kDACb,cAAA,mRAAC,iPAAe;sDACb,yCACC,mRAAC;gDACC,QAAQ;gDACR,eAAe;gDACf,SAAS,IAAM,2BAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAQtD,iBACF,sCAAsC,iBACtC;;kCAEE,mRAAC;wBAAO,WAAU;kCAChB,cAAA,mRAAC;4BAAI,WAAU;sCACb,cAAA,mRAAC;gCAAI,WAAU;;kDACb,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDACC,SAAS,IAAM,eAAe;gDAC9B,WAAU;0DAEV,cAAA,mRAAC,+OAAI;oDAAC,MAAM;;;;;;;;;;;0DAGd,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDAAI,WAAU;kEACb,cAAA,mRAAC,kPAAK;4DAAC,WAAU;4DAAa,MAAM;;;;;;;;;;;kEAEtC,mRAAC;;0EACC,mRAAC;gEAAG,WAAU;0EAAkC;;;;;;0EAChD,mRAAC;gEAAE,WAAU;0EAAyB,eAAe,KAAK;;;;;;;;;;;;;;;;;;;;;;;;kDAKhE,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDACC,SAAS;wDACT,WAAU;;0EAEV,mRAAC,kQAAS;gEAAC,MAAM;;;;;;4DAAM;;;;;;;kEAIzB,mRAAC;wDAAI,WAAU;;4DAAwB;4DAC9B,eAAe,KAAK;4DAAC;4DAAI,eAAe,QAAQ;4DAAC;;;;;;;;;;;;;0DAI5D,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;wDAAI,WAAU;;4DAAyE;4DACpF,eAAe,QAAQ;4DAAC;;;;;;;kEAE5B,mRAAC,+OAAI;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEAG1B,mRAAC;wDACC,SAAS;wDACT,WAAU;wDACV,OAAM;kEAEN,cAAA,mRAAC,2PAAQ;4DAAC,MAAM;;;;;;;;;;;kEAGlB,mRAAC;wDAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQzB,mRAAC;wBAAI,WAAU;;0CAEb,mRAAC;gCAAM,WAAW,CAAC,0GAA0G,EAC3H,cAAc,kBAAkB,oBACjC,2CAA2C,CAAC;0CAC3C,cAAA,mRAAC;oCAAI,WAAU;8CACb,cAAA,mRAAC;wCAAI,WAAU;kDACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,mRAAC;gDAEC,SAAS;oDACP,WAAW,mBAAmB;oDAC9B,sBAAsB,KAAK,EAAE,GAAG,2BAA2B;gDAC7D;gDACA,WAAU;;kEAEV,mRAAC,KAAK,IAAI;wDAAC,MAAM;;;;;;kEACjB,mRAAC;wDAAK,WAAU;kEAAe,KAAK,KAAK;;;;;;;+CARpC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;4BAgBrB,6BACC,mRAAC;gCACC,WAAU;gCACV,SAAS,IAAM,eAAe;;;;;;0CAKlC,mRAAC;gCAAK,WAAU;0CACd,cAAA,mRAAC;oCAAI,WAAU;;sDAEb,mRAAC;4CAAI,WAAU;sDACb,cAAA,mRAAC;gDAAI,WAAU;;kEACb,mRAAC;;0EACC,mRAAC;gEAAG,WAAU;0EAAoC,eAAe,KAAK;;;;;;0EACtE,mRAAC;gEAAE,WAAU;;oEAAgB;oEAAO,eAAe,KAAK;oEAAC;;;;;;;;;;;;;kEAE3D,mRAAC;wDACC,SAAS;wDACT,WAAU;;0EAEV,mRAAC,kQAAS;gEAAC,MAAM;;;;;;4DAAM;;;;;;;;;;;;;;;;;;sDAO7B,mRAAC;4CAAI,WAAU;sDACb,cAAA,mRAAC,yLAAa;gDACZ,UAAU,eAAe,QAAQ;gDACjC,WAAW,EAAE;gDACb,gBAAgB,CAAC;oDACf,QAAQ,GAAG,CAAC,CAAC,8BAA8B,EAAE,OAAO;oDACpD,qDAAqD;oDACrD,IAAI,SAAS,KAAK;wDAChB,QAAQ,GAAG,CAAC;oDACd;gDACF;;;;;;;;;;;sDAKJ,mRAAC;4CAAI,WAAU;;8DACb,mRAAC;oDAAI,WAAU;;sEACb,mRAAC;4DACC,SAAS,IAAM,UAAU;4DACzB,WAAW,CAAC,2DAA2D,EACrE,CAAC,SACG,6CACA,qCACJ;sEACH;;;;;;sEAGD,mRAAC;4DACC,SAAS,IAAM,UAAU;4DACzB,WAAW,CAAC,2DAA2D,EACrE,SACI,6CACA,qCACJ;sEACH;;;;;;;;;;;;8DAKH,mRAAC;oDAAI,WAAU;oDAAyB,OAAO;wDAAE,WAAW;wDAAS,WAAW;oDAAsB;8DACnG,CAAC,uBACA,mRAAC;wDAAI,WAAU;kEACb,cAAA,mRAAC;4DAAI,WAAU;;8EAEb,mRAAC;;sFACC,mRAAC;4EAAG,WAAU;;8FACZ,mRAAC,+PAAQ;oFAAC,MAAM;oFAAI,WAAU;;;;;;gFAAkB;;;;;;;sFAGlD,mRAAC;4EAAE,WAAU;sFAAiC,eAAe,WAAW;;;;;;;;;;;;gEAIzE,eAAe,UAAU,kBACxB,mRAAC;;sFACC,mRAAC;4EAAG,WAAU;;8FACZ,mRAAC,qPAAM;oFAAC,MAAM;oFAAI,WAAU;;;;;;gFAAmB;;;;;;;sFAGjD,mRAAC;4EAAG,WAAU;sFACX,eAAe,UAAU,CAAC,GAAG,CAAC,CAAC,WAAW,sBACzC,mRAAC;oFAAe,WAAU;;sGACxB,mRAAC;4FAAI,WAAU;sGACZ,QAAQ;;;;;;sGAEX,mRAAC;4FAAK,WAAU;sGAAiB;;;;;;;mFAJ1B;;;;;;;;;;;;;;;;gEAYhB,eAAe,aAAa,IAAI,eAAe,aAAa,CAAC,MAAM,GAAG,mBACrE,mRAAC;;sFACC,mRAAC;4EAAG,WAAU;;8FACZ,mRAAC,kPAAK;oFAAC,MAAM;oFAAI,WAAU;;;;;;gFAAoB;;;;;;;sFAGjD,mRAAC;4EAAG,WAAU;sFACX,eAAe,aAAa,CAAC,GAAG,CAAC,CAAC,cAAc,sBAC/C,mRAAC;oFAAe,WAAU;;sGACxB,mRAAC;4FAAI,WAAU;;;;;;sGACf,mRAAC;4FAAK,WAAU;sGAAyB;;;;;;;mFAFlC;;;;;;;;;;;;;;;;;;;;;;;;;;6EAWrB,mRAAC;wDAAI,WAAU;kEACb,cAAA,mRAAC,+KAAQ;4DACP,UAAU,eAAe,EAAE;4DAC3B,kBAAkB;4DAClB,kBAAkB,CAAC;gEACjB,QAAQ,GAAG,CAAC,CAAC,QAAQ,EAAE,UAAU,SAAS,CAAC;4DAC7C;4DACA,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAU9B;;;;;;;;;;;AAKd","debugId":null}}]
}